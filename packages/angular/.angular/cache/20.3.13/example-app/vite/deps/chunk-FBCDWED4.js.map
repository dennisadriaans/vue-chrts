{
  "version": 3,
  "sources": ["../../../../../../../../node_modules/.pnpm/parse-unit@1.0.1/node_modules/parse-unit/index.js", "../../../../../../../../node_modules/.pnpm/to-px@1.1.0/node_modules/to-px/browser.js", "../../../../../../../../node_modules/.pnpm/striptags@3.2.0/node_modules/striptags/src/striptags.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespaces.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespace.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/creator.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selector.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/select.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/array.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selectorAll.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectAll.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/matcher.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChild.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChildren.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/filter.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sparse.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/enter.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/constant.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/data.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/exit.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/join.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/merge.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/order.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sort.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/call.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/nodes.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/node.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/size.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/empty.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/each.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/attr.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/window.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/style.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/property.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/classed.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/text.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/html.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/raise.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/lower.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/append.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/insert.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/remove.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/clone.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/datum.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/on.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/dispatch.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/iterator.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/index.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/select.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/local.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/sourceEvent.js", "../../../../../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/pointer.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/types/component.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/freeze.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/element.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/global.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/process.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/scheduler.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObservation.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverController.js", "../../../../../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserver.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/utils/resize-observer.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/core/container/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/core/container/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/utils/misc.js", "../../../../../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/define.js", "../../../../../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/color.js", "../../../../../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/math.js", "../../../../../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/lab.js", "../../../../../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/cubehelix.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/styles/colors.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/styles/patterns.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/styles/index.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/schedule.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/interrupt.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/interrupt.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/basis.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/basisClosed.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/constant.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/color.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/rgb.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/numberArray.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/array.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/date.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/number.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/object.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/string.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/value.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/round.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/decompose.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/parse.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/index.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/zoom.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/hsl.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/hcl.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/cubehelix.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/piecewise.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/tween.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/interpolate.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attr.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attrTween.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/delay.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/duration.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/ease.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/easeVarying.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/filter.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/merge.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/on.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/remove.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/select.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selectAll.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selection.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/style.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/styleTween.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/text.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/textTween.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/transition.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/end.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/index.js", "../../../../../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/linear.js", "../../../../../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/cubic.js", "../../../../../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/poly.js", "../../../../../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/sin.js", "../../../../../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/math.js", "../../../../../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/bounce.js", "../../../../../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/back.js", "../../../../../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/elastic.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/transition.js", "../../../../../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/utils/d3.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/containers/single-container/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/containers/single-container/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/data-models/core.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/axis/types.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/init.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/ordinal.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/band.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/constant.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/number.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/continuous.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatDecimal.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/exponent.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatGroup.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatNumerals.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatSpecifier.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatTrim.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatPrefixAuto.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatRounded.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/formatTypes.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/identity.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/locale.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/defaultLocale.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/precisionFixed.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/precisionPrefix.js", "../../../../../../../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/precisionRound.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/tickFormat.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/linear.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/identity.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/nice.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/log.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/symlog.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/pow.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/quantile.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/quantize.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/threshold.js", "../../../../../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/interval.js", "../../../../../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/millisecond.js", "../../../../../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/duration.js", "../../../../../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/second.js", "../../../../../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/minute.js", "../../../../../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/hour.js", "../../../../../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/day.js", "../../../../../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/week.js", "../../../../../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/month.js", "../../../../../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/year.js", "../../../../../../../../node_modules/.pnpm/d3-time@3.1.0/node_modules/d3-time/src/ticks.js", "../../../../../../../../node_modules/.pnpm/d3-time-format@4.1.0/node_modules/d3-time-format/src/locale.js", "../../../../../../../../node_modules/.pnpm/d3-time-format@4.1.0/node_modules/d3-time-format/src/defaultLocale.js", "../../../../../../../../node_modules/.pnpm/d3-time-format@4.1.0/node_modules/d3-time-format/src/isoFormat.js", "../../../../../../../../node_modules/.pnpm/d3-time-format@4.1.0/node_modules/d3-time-format/src/isoParse.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/time.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/utcTime.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/sequential.js", "../../../../../../../../node_modules/.pnpm/d3-scale@4.0.2/node_modules/d3-scale/src/diverging.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/types/scale.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/types/direction.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/containers/xy-container/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/containers/xy-container/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/core/component/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/core/component/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/data-models/series.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/core/xy-component/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/core/xy-component/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/types/position.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/tooltip/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/tooltip/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/tooltip/index.js", "../../../../../../../../node_modules/.pnpm/d3-path@1.0.9/node_modules/d3-path/src/path.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/constant.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/math.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/arc.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/linear.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/point.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/line.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/area.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/descending.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/identity.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/pie.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/radial.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/lineRadial.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/areaRadial.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/array.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/symbol/circle.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/symbol/cross.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/symbol/diamond.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/symbol/star.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/symbol/square.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/symbol/triangle.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/symbol/wye.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/symbol.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/noop.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/basis.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/basisClosed.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/basisOpen.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/bundle.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/cardinal.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/cardinalClosed.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/cardinalOpen.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/catmullRom.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/catmullRomClosed.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/catmullRomOpen.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/linearClosed.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/monotone.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/natural.js", "../../../../../../../../node_modules/.pnpm/d3-shape@1.3.7/node_modules/d3-shape/src/curve/step.js", "../../../../../../../../node_modules/.pnpm/d3-interpolate-path@2.3.0/node_modules/d3-interpolate-path/build/d3-interpolate-path.mjs", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/utils/color.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/types/curve.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/line/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/line/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/line/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/utils/path.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/stacked-bar/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/stacked-bar/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/stacked-bar/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/grouped-bar/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/grouped-bar/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/grouped-bar/index.js", "../../../../../../../../node_modules/.pnpm/d3-axis@3.0.0/node_modules/d3-axis/src/identity.js", "../../../../../../../../node_modules/.pnpm/d3-axis@3.0.0/node_modules/d3-axis/src/axis.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/types/text.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/utils/text.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/types/svg.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/axis/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/axis/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/utils/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/axis/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/types/symbol.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/scatter/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/scatter/modules/utils.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/scatter/modules/point.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/scatter/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/scatter/index.js", "../../../../../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/noevent.js", "../../../../../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/nodrag.js", "../../../../../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/constant.js", "../../../../../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/event.js", "../../../../../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/drag.js", "../../../../../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/constant.js", "../../../../../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/event.js", "../../../../../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/noevent.js", "../../../../../../../../node_modules/.pnpm/d3-brush@3.0.0/node_modules/d3-brush/src/brush.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/brush/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/brush/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/brush/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/brush/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/bullet-legend/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/bullet-legend/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/bullet-legend/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/bullet-legend/modules/shape.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/bullet-legend/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/rolling-pin-legend/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/rolling-pin-legend/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/rolling-pin-legend/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/flow-legend/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/flow-legend/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/flow-legend/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/flow-legend/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/crosshair/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/crosshair/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/crosshair/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/types/shape.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/chord-diagram/types.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/math.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/noop.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/stream.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/area.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/cartesian.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/compose.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/rotation.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/circle.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/buffer.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/pointEqual.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/rejoin.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/polygonContains.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/index.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/antimeridian.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/circle.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/line.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/clip/rectangle.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/identity.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/area.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/bounds.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/centroid.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/context.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/measure.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/string.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/path/index.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/transform.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/fit.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/resample.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/index.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/conic.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/cylindricalEqualArea.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/conicEqualArea.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/albers.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/albersUsa.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/azimuthal.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/azimuthalEqualArea.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/azimuthalEquidistant.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/mercator.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/conicConformal.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/equirectangular.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/conicEquidistant.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/equalEarth.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/gnomonic.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/naturalEarth1.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/orthographic.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/stereographic.js", "../../../../../../../../node_modules/.pnpm/d3-geo@3.1.1/node_modules/d3-geo/src/projection/transverseMercator.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/math.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/aitoff.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/armadillo.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/august.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/baker.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/hammer.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/newton.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/mollweide.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/boggs.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/parallel1.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/sinusoidal.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/bromley.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/collignon.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/craster.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/cylindricalEqualArea.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/cylindricalStereographic.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/eckert1.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/eckert2.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/eckert3.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/eckert4.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/eckert5.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/eckert6.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/eisenlohr.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/fahey.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/foucaut.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/foucautSinusoidal.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/ginzburgPolyconic.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/ginzburg4.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/ginzburg5.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/ginzburg6.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/ginzburg8.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/ginzburg9.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/gringorten.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/elliptic.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/guyou.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/healpix.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/sinuMollweide.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/homolosine.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/hufnagel.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/kavrayskiy7.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/larrivee.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/laskowski.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/littrow.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/miller.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/mtFlatPolarParabolic.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/mtFlatPolarQuartic.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/mtFlatPolarSinusoidal.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/naturalEarth2.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/nellHammer.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/nicolosi.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/patterson.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/polyconic.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/polyhedral/octahedron.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/polyhedral/collignon.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/robinson.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/stitch.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/times.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/vanDerGrinten.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/vanDerGrinten2.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/vanDerGrinten3.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/vanDerGrinten4.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/wagner4.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/wagner6.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/wiechel.js", "../../../../../../../../node_modules/.pnpm/d3-geo-projection@4.0.0/node_modules/d3-geo-projection/src/winkel3.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/topojson-map/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/renderer/mapboxgl/mapboxgl-settings.json.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/renderer/mapboxgl/mapboxgl-dark-theme.json.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/renderer/mapboxgl/mapboxgl-light-theme.json.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/renderer/map-style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/types.js", "../../../../../../../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/ascending.js", "../../../../../../../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/bisector.js", "../../../../../../../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/number.js", "../../../../../../../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/bisect.js", "../../../../../../../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/array.js", "../../../../../../../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/ticks.js", "../../../../../../../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/max.js", "../../../../../../../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/min.js", "../../../../../../../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/shuffle.js", "../../../../../../../../node_modules/.pnpm/d3-array@2.12.1/node_modules/d3-array/src/sum.js", "../../../../../../../../node_modules/.pnpm/d3-sankey@0.12.3/node_modules/d3-sankey/src/align.js", "../../../../../../../../node_modules/.pnpm/d3-sankey@0.12.3/node_modules/d3-sankey/src/constant.js", "../../../../../../../../node_modules/.pnpm/d3-sankey@0.12.3/node_modules/d3-sankey/src/sankey.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/sankey/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/vis-controls/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/free-brush/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/xy-labels/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/nested-donut/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/plotline/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/plotband/types.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/timeline/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/timeline/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/timeline/constants.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/timeline/utils.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/timeline/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/data-models/graph.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/sankey/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/sankey/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/sankey/modules/link.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/sankey/modules/label.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/sankey/modules/node.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/sankey/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/area/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/area/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/area/index.js", "../../../../../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/constant.js", "../../../../../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/event.js", "../../../../../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/transform.js", "../../../../../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/noevent.js", "../../../../../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/zoom.js", "../../../../../../../../node_modules/.pnpm/topojson-client@3.1.0/node_modules/topojson-client/src/identity.js", "../../../../../../../../node_modules/.pnpm/topojson-client@3.1.0/node_modules/topojson-client/src/transform.js", "../../../../../../../../node_modules/.pnpm/topojson-client@3.1.0/node_modules/topojson-client/src/reverse.js", "../../../../../../../../node_modules/.pnpm/topojson-client@3.1.0/node_modules/topojson-client/src/feature.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/data-models/map-graph.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/topojson-map/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/topojson-map/utils.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/topojson-map/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/topojson-map/index.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/count.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/each.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/find.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/sum.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/sort.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/path.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/ancestors.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/descendants.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/leaves.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/links.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/iterator.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/hierarchy/index.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/accessors.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/constant.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/lcg.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/array.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/pack/enclose.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/pack/siblings.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/round.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/dice.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/partition.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/tree.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/slice.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/squarify.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/index.js", "../../../../../../../../node_modules/.pnpm/d3-hierarchy@3.1.2/node_modules/d3-hierarchy/src/treemap/resquarify.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/utils/map.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/data-models/map.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/renderer/mapboxgl-utils.js", "../../../../../../../../node_modules/.pnpm/kdbush@3.0.0/node_modules/kdbush/src/sort.js", "../../../../../../../../node_modules/.pnpm/kdbush@3.0.0/node_modules/kdbush/src/range.js", "../../../../../../../../node_modules/.pnpm/kdbush@3.0.0/node_modules/kdbush/src/within.js", "../../../../../../../../node_modules/.pnpm/kdbush@3.0.0/node_modules/kdbush/src/index.js", "../../../../../../../../node_modules/.pnpm/supercluster@7.1.5/node_modules/supercluster/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/utils/html.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/modules/utils.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/leaflet.css.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/modules/map.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/modules/donut.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/modules/node.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/modules/selectionRing.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/modules/clusterBackground.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-map/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-flow-map/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/leaflet-flow-map/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/chord-diagram/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/chord-diagram/modules/node.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/chord-diagram/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/chord-diagram/modules/label.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/chord-diagram/modules/layout.js", "../../../../../../../../node_modules/.pnpm/d3-chord@3.0.1/node_modules/d3-chord/src/math.js", "../../../../../../../../node_modules/.pnpm/d3-path@3.1.0/node_modules/d3-path/src/path.js", "../../../../../../../../node_modules/.pnpm/d3-chord@3.0.1/node_modules/d3-chord/src/array.js", "../../../../../../../../node_modules/.pnpm/d3-chord@3.0.1/node_modules/d3-chord/src/constant.js", "../../../../../../../../node_modules/.pnpm/d3-chord@3.0.1/node_modules/d3-chord/src/ribbon.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/chord-diagram/modules/link.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/chord-diagram/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/node/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/link/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/panel/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/utils/svg.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/node/helper.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/shape.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/zoom-levels.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/node/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/link/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/link/helper.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/panel/helper.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/panel/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/layout-helpers.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/modules/layout.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/graph/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/vis-controls/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/vis-controls/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/vis-controls/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/donut/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/donut/modules/arc.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/donut/constants.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/donut/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/donut/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/free-brush/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/free-brush/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/free-brush/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/xy-labels/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/xy-labels/modules/label.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/xy-labels/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/xy-labels/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/nested-donut/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/nested-donut/modules/arc.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/nested-donut/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/nested-donut/modules/label.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/nested-donut/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/annotations/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/annotations/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/annotations/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/plotband/constants.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/plotband/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/plotband/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/plotband/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/plotline/constants.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/plotline/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/plotline/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/plotline/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/treemap/config.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/treemap/style.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/components/treemap/index.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/styles/sizes.js", "../../../../../../../../node_modules/.pnpm/@unovis+ts@1.6.2/node_modules/@unovis/ts/utils/scale.js"],
  "sourcesContent": ["module.exports = function parseUnit(str, out) {\n    if (!out)\n        out = [ 0, '' ]\n\n    str = String(str)\n    var num = parseFloat(str, 10)\n    out[0] = num\n    out[1] = str.match(/[\\d.\\-\\+]*\\s*(.*)/)[1] || ''\n    return out\n}", "'use strict'\n\nvar parseUnit = require('parse-unit')\n\nmodule.exports = toPX\n\nvar PIXELS_PER_INCH = getSizeBrutal('in', document.body) // 96\n\n\nfunction getPropertyInPX(element, prop) {\n  var parts = parseUnit(getComputedStyle(element).getPropertyValue(prop))\n  return parts[0] * toPX(parts[1], element)\n}\n\n//This brutal hack is needed\nfunction getSizeBrutal(unit, element) {\n  var testDIV = document.createElement('div')\n  testDIV.style['height'] = '128' + unit\n  element.appendChild(testDIV)\n  var size = getPropertyInPX(testDIV, 'height') / 128\n  element.removeChild(testDIV)\n  return size\n}\n\nfunction toPX(str, element) {\n  if (!str) return null\n\n  element = element || document.body\n  str = (str + '' || 'px').trim().toLowerCase()\n  if(element === window || element === document) {\n    element = document.body\n  }\n\n  switch(str) {\n    case '%':  //Ambiguous, not sure if we should use width or height\n      return element.clientHeight / 100.0\n    case 'ch':\n    case 'ex':\n      return getSizeBrutal(str, element)\n    case 'em':\n      return getPropertyInPX(element, 'font-size')\n    case 'rem':\n      return getPropertyInPX(document.body, 'font-size')\n    case 'vw':\n      return window.innerWidth/100\n    case 'vh':\n      return window.innerHeight/100\n    case 'vmin':\n      return Math.min(window.innerWidth, window.innerHeight) / 100\n    case 'vmax':\n      return Math.max(window.innerWidth, window.innerHeight) / 100\n    case 'in':\n      return PIXELS_PER_INCH\n    case 'cm':\n      return PIXELS_PER_INCH / 2.54\n    case 'mm':\n      return PIXELS_PER_INCH / 25.4\n    case 'pt':\n      return PIXELS_PER_INCH / 72\n    case 'pc':\n      return PIXELS_PER_INCH / 6\n    case 'px':\n      return 1\n  }\n\n  // detect number of units\n  var parts = parseUnit(str)\n  if (!isNaN(parts[0]) && parts[1]) {\n    var px = toPX(parts[1], element)\n    return typeof px === 'number' ? parts[0] * px : null\n  }\n\n  return null\n}\n", "'use strict';\n\n(function (global) {\n\n    // minimal symbol polyfill for IE11 and others\n    if (typeof Symbol !== 'function') {\n        var Symbol = function(name) {\n            return name;\n        }\n\n        Symbol.nonNative = true;\n    }\n\n    const STATE_PLAINTEXT = Symbol('plaintext');\n    const STATE_HTML      = Symbol('html');\n    const STATE_COMMENT   = Symbol('comment');\n\n    const ALLOWED_TAGS_REGEX  = /<(\\w*)>/g;\n    const NORMALIZE_TAG_REGEX = /<\\/?([^\\s\\/>]+)/;\n\n    function striptags(html, allowable_tags, tag_replacement) {\n        html            = html || '';\n        allowable_tags  = allowable_tags || [];\n        tag_replacement = tag_replacement || '';\n\n        let context = init_context(allowable_tags, tag_replacement);\n\n        return striptags_internal(html, context);\n    }\n\n    function init_striptags_stream(allowable_tags, tag_replacement) {\n        allowable_tags  = allowable_tags || [];\n        tag_replacement = tag_replacement || '';\n\n        let context = init_context(allowable_tags, tag_replacement);\n\n        return function striptags_stream(html) {\n            return striptags_internal(html || '', context);\n        };\n    }\n\n    striptags.init_streaming_mode = init_striptags_stream;\n\n    function init_context(allowable_tags, tag_replacement) {\n        allowable_tags = parse_allowable_tags(allowable_tags);\n\n        return {\n            allowable_tags : allowable_tags,\n            tag_replacement: tag_replacement,\n\n            state         : STATE_PLAINTEXT,\n            tag_buffer    : '',\n            depth         : 0,\n            in_quote_char : ''\n        };\n    }\n\n    function striptags_internal(html, context) {\n        if (typeof html != \"string\") {\n            throw new TypeError(\"'html' parameter must be a string\");\n        }\n\n        let allowable_tags  = context.allowable_tags;\n        let tag_replacement = context.tag_replacement;\n\n        let state         = context.state;\n        let tag_buffer    = context.tag_buffer;\n        let depth         = context.depth;\n        let in_quote_char = context.in_quote_char;\n        let output        = '';\n\n        for (let idx = 0, length = html.length; idx < length; idx++) {\n            let char = html[idx];\n\n            if (state === STATE_PLAINTEXT) {\n                switch (char) {\n                    case '<':\n                        state       = STATE_HTML;\n                        tag_buffer += char;\n                        break;\n\n                    default:\n                        output += char;\n                        break;\n                }\n            }\n\n            else if (state === STATE_HTML) {\n                switch (char) {\n                    case '<':\n                        // ignore '<' if inside a quote\n                        if (in_quote_char) {\n                            break;\n                        }\n\n                        // we're seeing a nested '<'\n                        depth++;\n                        break;\n\n                    case '>':\n                        // ignore '>' if inside a quote\n                        if (in_quote_char) {\n                            break;\n                        }\n\n                        // something like this is happening: '<<>>'\n                        if (depth) {\n                            depth--;\n\n                            break;\n                        }\n\n                        // this is closing the tag in tag_buffer\n                        in_quote_char = '';\n                        state         = STATE_PLAINTEXT;\n                        tag_buffer   += '>';\n\n                        if (allowable_tags.has(normalize_tag(tag_buffer))) {\n                            output += tag_buffer;\n                        } else {\n                            output += tag_replacement;\n                        }\n\n                        tag_buffer = '';\n                        break;\n\n                    case '\"':\n                    case '\\'':\n                        // catch both single and double quotes\n\n                        if (char === in_quote_char) {\n                            in_quote_char = '';\n                        } else {\n                            in_quote_char = in_quote_char || char;\n                        }\n\n                        tag_buffer += char;\n                        break;\n\n                    case '-':\n                        if (tag_buffer === '<!-') {\n                            state = STATE_COMMENT;\n                        }\n\n                        tag_buffer += char;\n                        break;\n\n                    case ' ':\n                    case '\\n':\n                        if (tag_buffer === '<') {\n                            state      = STATE_PLAINTEXT;\n                            output    += '< ';\n                            tag_buffer = '';\n\n                            break;\n                        }\n\n                        tag_buffer += char;\n                        break;\n\n                    default:\n                        tag_buffer += char;\n                        break;\n                }\n            }\n\n            else if (state === STATE_COMMENT) {\n                switch (char) {\n                    case '>':\n                        if (tag_buffer.slice(-2) == '--') {\n                            // close the comment\n                            state = STATE_PLAINTEXT;\n                        }\n\n                        tag_buffer = '';\n                        break;\n\n                    default:\n                        tag_buffer += char;\n                        break;\n                }\n            }\n        }\n\n        // save the context for future iterations\n        context.state         = state;\n        context.tag_buffer    = tag_buffer;\n        context.depth         = depth;\n        context.in_quote_char = in_quote_char;\n\n        return output;\n    }\n\n    function parse_allowable_tags(allowable_tags) {\n        let tag_set = new Set();\n\n        if (typeof allowable_tags === 'string') {\n            let match;\n\n            while ((match = ALLOWED_TAGS_REGEX.exec(allowable_tags))) {\n                tag_set.add(match[1]);\n            }\n        }\n\n        else if (!Symbol.nonNative &&\n                 typeof allowable_tags[Symbol.iterator] === 'function') {\n\n            tag_set = new Set(allowable_tags);\n        }\n\n        else if (typeof allowable_tags.forEach === 'function') {\n            // IE11 compatible\n            allowable_tags.forEach(tag_set.add, tag_set);\n        }\n\n        return tag_set;\n    }\n\n    function normalize_tag(tag_buffer) {\n        let match = NORMALIZE_TAG_REGEX.exec(tag_buffer);\n\n        return match ? match[1].toLowerCase() : null;\n    }\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(function module_factory() { return striptags; });\n    }\n\n    else if (typeof module === 'object' && module.exports) {\n        // Node\n        module.exports = striptags;\n    }\n\n    else {\n        // Browser\n        global.striptags = striptags;\n    }\n}(this));\n", "export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n", "import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n", "import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n", "function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n", "function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n", "export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n", "import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "export default function(update) {\n  return new Array(update.length);\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n", "export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n", "export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n", "export default function() {\n  return !this.node();\n}\n", "export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n", "import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n", "export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n", "import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n", "function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n", "function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n", "function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n", "function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n", "function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n", "function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n", "import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n", "import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n", "function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n", "function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n", "export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n", "function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n", "import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n", "export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n", "import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n", "import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n", "var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n", "export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n", "import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n", "var ComponentType;\r\n(function (ComponentType) {\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    ComponentType[ComponentType[\"SVG\"] = 0] = \"SVG\";\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    ComponentType[ComponentType[\"HTML\"] = 1] = \"HTML\";\r\n})(ComponentType || (ComponentType = {}));\r\nvar Sizing;\r\n(function (Sizing) {\r\n    Sizing[\"Fit\"] = \"fit\";\r\n    Sizing[\"Extend\"] = \"extend\";\r\n    Sizing[\"FitWidth\"] = \"fit_width\";\r\n})(Sizing || (Sizing = {}));\n\nexport { ComponentType, Sizing };\n\n", "var resizeObservers = [];\nexport { resizeObservers };\n", "import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n", "import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n", "var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n", "var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n", "export var freeze = function (obj) { return Object.freeze(obj); };\n", "import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n", "import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n", "var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_a = obj === null || obj === void 0 ? void 0 : obj.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n", "export var global = typeof window !== 'undefined' ? window : {};\n", "import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n", "import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n", "import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n", "import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n", "import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n", "import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n", "var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\".concat(toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n", "import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n", "import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n", "import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n", "var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n", "import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n", "import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n", "import { ResizeObserver as ResizeObserver$1 } from '@juggle/resize-observer';\n\nconst ResizeObserver = globalThis.ResizeObserver || ResizeObserver$1;\n\nexport { ResizeObserver };\n\n", "import { Sizing } from '../../types/component.js';\n\n// Core\r\nconst ContainerDefaultConfig = {\r\n    duration: undefined,\r\n    margin: {\r\n        top: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n    },\r\n    padding: {\r\n        top: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n    },\r\n    sizing: Sizing.Fit,\r\n    width: undefined,\r\n    height: undefined,\r\n    svgDefs: undefined,\r\n    ariaLabel: undefined,\r\n};\n\nexport { ContainerDefaultConfig };\n\n", "import { select } from 'd3-selection';\nimport { Sizing } from '../../types/component.js';\nimport { merge, clamp, isEqual } from '../../utils/data.js';\nimport { ResizeObserver } from '../../utils/resize-observer.js';\nimport { ContainerDefaultConfig } from './config.js';\n\nclass ContainerCore {\r\n    constructor(element) {\r\n        this._defaultConfig = ContainerDefaultConfig;\r\n        this._isFirstRender = true;\r\n        this._renderAnimationFrameId = null;\r\n        this._container = element;\r\n        // Setting `role` attribute to `image` to make the container accessible\r\n        const container = select(this._container);\r\n        container.attr('role', 'figure');\r\n        // Create SVG element for visualizations\r\n        this.svg = container.append('svg')\r\n            // We set `display` to `block` because inline elements have an invisible\r\n            //   inline space that adds 4px to the height of the container\r\n            .style('display', 'block')\r\n            .attr('xmlns', 'http://www.w3.org/2000/svg')\r\n            .attr('height', ContainerCore.DEFAULT_CONTAINER_HEIGHT) // Overriding default SVG height of 150\r\n            .attr('aria-hidden', true);\r\n        this._svgDefs = this.svg.append('defs');\r\n        this._svgDefsExternal = this.svg.append('defs');\r\n        this.element = this.svg.node();\r\n    }\r\n    updateContainer(config) {\r\n        var _a;\r\n        // eslint-disable-next-line @typescript-eslint/naming-convention\r\n        this.prevConfig = this.config;\r\n        this.config = merge(this._defaultConfig, config);\r\n        // Add `svgDefs` if provided in the config\r\n        if ((config === null || config === void 0 ? void 0 : config.svgDefs) !== ((_a = this.prevConfig) === null || _a === void 0 ? void 0 : _a.svgDefs)) {\r\n            this._svgDefsExternal.selectAll('*').remove();\r\n            this._svgDefsExternal.html(config.svgDefs);\r\n        }\r\n    }\r\n    // The `_preRender` step should be used to perform some actions before rendering.\r\n    // For example, calculating scales, setting component sizes, etc ...\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    _preRender() { }\r\n    // The `_render` step should be used to perform the actual rendering\r\n    _render(duration) {\r\n        const { config } = this;\r\n        // Apply the `aria-label` attribute\r\n        select(this._container)\r\n            .attr('aria-label', config.ariaLabel);\r\n        this._isFirstRender = false;\r\n    }\r\n    // Warning: Some Containers (i.e. Single Container) may override this method, so if you introduce any changes here,\r\n    // make sure to check that other containers didn't break after them.\r\n    render(duration = this.config.duration) {\r\n        const width = this.config.width || this.containerWidth;\r\n        const height = this.config.height || this.containerHeight;\r\n        // We set SVG size in `render()` instead of `_render()`, because the size values in pixels will become\r\n        // available only in the next animation when being accessed via `element.clientWidth` and `element.clientHeight`,\r\n        // and we rely on those values when setting width and size of the components.\r\n        this.svg\r\n            .attr('width', width)\r\n            .attr('height', height);\r\n        // Set up Resize Observer. We do it in `render()` to capture container size change if it happened\r\n        // in the next animation frame after the initial `render` was called.\r\n        if (!this._resizeObserver)\r\n            this._setUpResizeObserver();\r\n        // Schedule the actual rendering in the next frame\r\n        cancelAnimationFrame(this._renderAnimationFrameId);\r\n        this._renderAnimationFrameId = requestAnimationFrame(() => {\r\n            this._preRender();\r\n            this._render(duration);\r\n        });\r\n    }\r\n    get containerWidth() {\r\n        return this.config.width\r\n            ? this.element.clientWidth\r\n            : (this._container.clientWidth || this._container.getBoundingClientRect().width);\r\n    }\r\n    get containerHeight() {\r\n        return this.config.height\r\n            ? this.element.clientHeight\r\n            : (this._container.clientHeight || this._container.getBoundingClientRect().height || ContainerCore.DEFAULT_CONTAINER_HEIGHT);\r\n    }\r\n    get width() {\r\n        return clamp(this.containerWidth - this.config.margin.left - this.config.margin.right, 0, Number.POSITIVE_INFINITY);\r\n    }\r\n    get height() {\r\n        return clamp(this.containerHeight - this.config.margin.top - this.config.margin.bottom, 0, Number.POSITIVE_INFINITY);\r\n    }\r\n    _removeAllChildren() {\r\n        while (this.element.firstChild) {\r\n            this.element.removeChild(this.element.firstChild);\r\n        }\r\n    }\r\n    _onResize() {\r\n        const { config } = this;\r\n        const redrawOnResize = config.sizing === Sizing.Fit || config.sizing === Sizing.FitWidth;\r\n        if (redrawOnResize)\r\n            this.render(0);\r\n    }\r\n    _setUpResizeObserver() {\r\n        if (this._resizeObserver)\r\n            return;\r\n        const containerRect = this._container.getBoundingClientRect();\r\n        this._containerSize = { width: containerRect.width, height: containerRect.height };\r\n        this._resizeObserver = new ResizeObserver((entries, observer) => {\r\n            // Using request animation frame to avoid multiple resize events when scrollbars appear/disappear\r\n            // See more: https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver#observation_errors\r\n            cancelAnimationFrame(this._resizeObserverAnimationFrameId);\r\n            this._resizeObserverAnimationFrameId = requestAnimationFrame(() => {\r\n                const resizedContainerRect = this._container.getBoundingClientRect();\r\n                const resizedContainerSize = { width: resizedContainerRect.width, height: resizedContainerRect.height };\r\n                const hasSizeChanged = !isEqual(this._containerSize, resizedContainerSize);\r\n                // Do resize only if element is attached to the DOM\r\n                // will come in useful when some ancestor of container becomes detached\r\n                if (hasSizeChanged && resizedContainerSize.width && resizedContainerSize.height) {\r\n                    this._containerSize = resizedContainerSize;\r\n                    this._onResize();\r\n                }\r\n            });\r\n        });\r\n        this._resizeObserver.observe(this._container);\r\n    }\r\n    destroy() {\r\n        var _a;\r\n        cancelAnimationFrame(this._renderAnimationFrameId);\r\n        cancelAnimationFrame(this._resizeObserverAnimationFrameId);\r\n        (_a = this._resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n        this.svg.remove();\r\n    }\r\n}\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nContainerCore.DEFAULT_CONTAINER_HEIGHT = 300;\n\nexport { ContainerCore };\n\n", "import { isString, getString } from './data.js';\nimport toPx from 'to-px';\n\nfunction guid() {\r\n    const s4 = () => Math.floor((1 + crypto.getRandomValues(new Uint32Array(1))[0]) * 0x10000)\r\n        .toString(16)\r\n        .substring(1);\r\n    return `${s4() + s4()}-${s4()}-${s4()}-${s4()}-${s4()}${s4()}${s4()}`;\r\n}\r\nfunction stringToHtmlId(str) {\r\n    return (str || '').replace(/\\W/g, '_');\r\n}\r\nfunction isStringCSSVariable(s) {\r\n    return isString(s) ? (s.substring(0, 6) === 'var(--') : false;\r\n}\r\nfunction getCSSVariableValue(s, context) {\r\n    if (!isString(s))\r\n        return '';\r\n    const variableName = s.substr(4, s.length - 5);\r\n    return getComputedStyle(context).getPropertyValue(variableName);\r\n}\r\nfunction getCSSVariableValueInPixels(s, context) {\r\n    const val = getCSSVariableValue(s, context);\r\n    return toPx(val);\r\n}\r\nfunction getPixelValue(v) {\r\n    return typeof v === 'number' ? v : toPx(v);\r\n}\r\nfunction rectIntersect(rect1, rect2, tolerancePx = 0) {\r\n    const [left1, top1, right1, bottom1] = [\r\n        rect1.x + tolerancePx,\r\n        rect1.y + rect1.height - 2 * tolerancePx,\r\n        rect1.x + rect1.width - 2 * tolerancePx,\r\n        rect1.y + tolerancePx,\r\n    ];\r\n    const [left2, top2, right2, bottom2] = [\r\n        rect2.x + tolerancePx,\r\n        rect2.y + rect2.height - 2 * tolerancePx,\r\n        rect2.x + rect2.width - 2 * tolerancePx,\r\n        rect2.y + tolerancePx,\r\n    ];\r\n    return !(top1 < bottom2 || top2 < bottom1 || right1 < left2 || right2 < left1);\r\n}\r\nfunction getHref(d, identifier) {\r\n    const id = getString(d, identifier);\r\n    return id ? `url(#${id})` : null;\r\n}\r\nfunction evaluateSimpleExpression(expr) {\r\n    // Handle multiplication and division first (higher precedence)\r\n    // Keep applying until no more operations are found\r\n    while (/(-?\\d+(?:\\.\\d+)?)\\s*([*/])\\s*(-?\\d+(?:\\.\\d+)?)/.test(expr)) {\r\n        expr = expr.replace(/(-?\\d+(?:\\.\\d+)?)\\s*([*/])\\s*(-?\\d+(?:\\.\\d+)?)/, (_, a, op, b) => {\r\n            const numA = parseFloat(a);\r\n            const numB = parseFloat(b);\r\n            return String(op === '*' ? numA * numB : numA / numB);\r\n        });\r\n    }\r\n    // Handle addition and subtraction (lower precedence)\r\n    // Keep applying until no more operations are found\r\n    while (/(-?\\d+(?:\\.\\d+)?)\\s*([+-])\\s*(-?\\d+(?:\\.\\d+)?)/.test(expr)) {\r\n        expr = expr.replace(/(-?\\d+(?:\\.\\d+)?)\\s*([+-])\\s*(-?\\d+(?:\\.\\d+)?)/, (_, a, op, b) => {\r\n            const numA = parseFloat(a);\r\n            const numB = parseFloat(b);\r\n            return String(op === '+' ? numA + numB : numA - numB);\r\n        });\r\n    }\r\n    const result = parseFloat(expr);\r\n    if (isNaN(result))\r\n        throw new Error(`Invalid expression: ${expr}`);\r\n    return result;\r\n}\r\nfunction evaluateCalcExpression(expression, basis) {\r\n    try {\r\n        // Replace percentages and pixels with resolved values\r\n        let expr = expression\r\n            .replace(/(\\d+(?:\\.\\d+)?)%/g, (_, num) => String((basis * parseFloat(num)) / 100))\r\n            .replace(/(\\d+(?:\\.\\d+)?)px/g, '$1')\r\n            .replace(/\\s+/g, '');\r\n        // Validate parentheses pairs before processing\r\n        let parenCount = 0;\r\n        for (const char of expr) {\r\n            if (char === '(')\r\n                parenCount++;\r\n            else if (char === ')')\r\n                parenCount--;\r\n            if (parenCount < 0)\r\n                throw new Error('Mismatched parentheses: closing parenthesis without opening');\r\n        }\r\n        if (parenCount !== 0)\r\n            throw new Error('Mismatched parentheses: unclosed opening parenthesis');\r\n        // Check for invalid characters (only allow numbers, operators, decimal points, and parentheses)\r\n        if (!/^[0-9+\\-*/.() ]+$/.test(expr))\r\n            throw new Error('Invalid characters in expression');\r\n        // Check for empty parentheses\r\n        if (/\\(\\s*\\)/.test(expr))\r\n            throw new Error('Empty parentheses not allowed');\r\n        // Simple regex-based evaluation for basic expressions\r\n        // Handles: number, number+number, number-number, number*number, number/number\r\n        // And simple parentheses: (expression)\r\n        // Evaluate parentheses first\r\n        let iterations = 0;\r\n        const maxIterations = 100; // Prevent infinite loops\r\n        while (expr.includes('(') && iterations < maxIterations) {\r\n            const prevExpr = expr;\r\n            expr = expr.replace(/\\(([^()]+)\\)/g, (_, inner) => String(evaluateSimpleExpression(inner)));\r\n            if (expr === prevExpr)\r\n                throw new Error('Unable to resolve parentheses');\r\n            iterations++;\r\n        }\r\n        if (iterations >= maxIterations)\r\n            throw new Error('Expression too complex or contains infinite recursion');\r\n        if (expr.includes('(') || expr.includes(')'))\r\n            throw new Error('Unresolved parentheses remain');\r\n        return evaluateSimpleExpression(expr);\r\n    }\r\n    catch (error) {\r\n        console.warn(`Failed to evaluate calc() expression: ${expression}`, error);\r\n        return 0;\r\n    }\r\n}\r\nfunction parseUnit(value, basis = 0) {\r\n    if (!value)\r\n        return 0;\r\n    else if (typeof value === 'number')\r\n        return value;\r\n    else if (typeof value === 'string' && value.startsWith('calc(') && value.endsWith(')')) {\r\n        // Parse calc() expression\r\n        const expression = value.slice(5, -1).trim(); // Remove 'calc(' and ')'\r\n        return evaluateCalcExpression(expression, basis);\r\n    }\r\n    else if (value.endsWith('%'))\r\n        return basis * parseFloat(value) / 100;\r\n    else if (value.endsWith('px'))\r\n        return parseFloat(value);\r\n    else\r\n        return parseFloat(value) || 0;\r\n}\n\nexport { getCSSVariableValue, getCSSVariableValueInPixels, getHref, getPixelValue, guid, isStringCSSVariable, parseUnit, rectIntersect, stringToHtmlId };\n\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n", "import { hsl } from 'd3-color';\nimport { isNumber } from '../utils/data.js';\n\n/** Array of default colors */\r\nconst colors = (globalThis === null || globalThis === void 0 ? void 0 : globalThis.UNOVIS_COLORS) || ['#4D8CFD', '#FF6B7E', '#F4B83E', '#A6CC74', '#00C19A', '#6859BE'];\r\nconst colorsDark = (globalThis === null || globalThis === void 0 ? void 0 : globalThis.UNOVIS_COLORS_DARK) || ['#4D8CFD', '#FF6B7E', '#FFC16D', '#A6CC74', '#00C19A', '#7887E0'];\r\n/** Return a CSS Variable name for a given color index or string */\r\nconst getCSSColorVariable = (suffix) => {\r\n    return `--vis-${isNumber(suffix) ? `color${suffix % colors.length}` : suffix}`;\r\n};\r\nfunction getLighterColor(hex, percentage = 0.4) {\r\n    const c = hsl(hex);\r\n    c.l = c.l * (1 + percentage);\r\n    return c.formatHex();\r\n}\r\nfunction getDarkerColor(hex, percentageL = 0.4, percentageS = 0.6) {\r\n    const c = hsl(hex);\r\n    c.s = c.s * (1 - percentageS);\r\n    c.l = c.l * (1 - percentageL);\r\n    return c.formatHex();\r\n}\n\nexport { colors, colorsDark, getCSSColorVariable, getDarkerColor, getLighterColor };\n\n", "import { getCSSColorVariable } from './colors.js';\n\nconst PATTERN_SIZE_PX = 10;\r\nconst fills = [\r\n    { id: 'stripes-diagonal', svg: '<path d=\"M-1,1 l2,-2 M0,10 l10,-10 M9,11 l2,-2\" stroke=\"#000\"/>' },\r\n    { id: 'dots', svg: '<path d=\"m0-1.5a1 1 0 010 3m10-3a1 1 0 000 3M5 3.5a1 1 0 010 3 1 1 0 010-3M0 8.5 a1 1 0 010 3m10-3a1 1 0 000 3\" fill\"#000\"/>' },\r\n    { id: 'stripes-vertical', svg: '<path d=\"M 5,-1 L5,11\" stroke=\"#000\"/>' },\r\n    { id: 'crosshatch', svg: '<path d=\"M0 0L10 10ZM10 0L0 10Z\" stroke=\"#000\"/>' },\r\n    { id: 'waves', svg: '<path d=\"M0 4Q2.5 1 5 4 7.5 7 10 4v2Q7.5 9 5 6 2.5 3 0 6Z\" fill=\"#000\"/>' },\r\n    { id: 'circles', svg: '<circle cx=\"5\" cy=\"5\" r=\"3\" stroke=\"#000\" fill=\"#fff\"/>' },\r\n];\r\nconst lines = [\r\n    { id: 'circle', marker: '<circle cx=\"5\" cy=\"5\" r=\"5\"/>', dashArray: [] },\r\n    { id: 'triangle', marker: '<path d=\"M5,0 L10,9 L0,9Z\">', dashArray: [9, 1] },\r\n    { id: 'diamond', marker: '<path d=\"M 0 5 L5 0 L 10 5 L 5 10 L 0 5Z\">', dashArray: [2] },\r\n    { id: 'arrow', marker: '<path d=\"M4 0 0 0 6 5 0 10 4 10 10 5Z\">', dashArray: [2, 3, 8, 3] },\r\n    { id: 'square', marker: '<rect x=\"1\" y=\"1\" width=\"8\" height=\"8\"/>', dashArray: [6] },\r\n    { id: 'star', marker: '<path d=\"m2 9 3-9 3 9L0 3h10Z\"/>', dashArray: [1, 6] },\r\n];\r\nfunction getPatternVariable(p) {\r\n    return `vis-${`pattern-${p.svg ? 'fill' : 'marker'}`}-${p.id}`;\r\n}\r\nconst maskDef = (p) => `<mask id=\"${getPatternVariable(p)}\">\n    <pattern id=\"${p.id}\" viewBox=\"0 0 10 10\" width=\"${PATTERN_SIZE_PX}\" height=\"${PATTERN_SIZE_PX}\" patternUnits=\"userSpaceOnUse\">\n      <rect width=\"100%\" height=\"100%\" fill=\"#fff\"/>\n      ${p.svg}\n    </pattern>\n    <rect x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" fill=\"url(#${p.id})\"/>\n  </mask>`;\r\nconst markerDef = (p, i) => `<marker id=\"${getPatternVariable(p)}\"\n    fill=\"var(${getCSSColorVariable(i)})\"\n    markerUnits=\"userSpaceOnUse\"\n    refX=\"5\"\n    refY=\"5\"\n    markerWidth=\"${PATTERN_SIZE_PX}\"\n    markerHeight=\"${PATTERN_SIZE_PX}\">\n    ${p.marker}\n  </marker>`;\r\n// // Injecting SVG defs as a single SVG element on the page\r\nfunction injectSVGDefs() {\r\n    const svgDefs = fills.map(maskDef).concat(lines.map(markerDef)).join('');\r\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n    svg.setAttribute('height', '100%');\r\n    svg.setAttribute('width', '100%');\r\n    svg.style.position = 'fixed';\r\n    svg.style.zIndex = '-99999999';\r\n    svg.innerHTML = `<defs>${svgDefs}</defs>`;\r\n    document.body.appendChild(svg);\r\n}\r\nif (typeof window !== 'undefined')\r\n    injectSVGDefs();\n\nexport { PATTERN_SIZE_PX, fills, getPatternVariable, lines };\n\n", "import { injectGlobal } from '@emotion/css';\nimport { getCSSVariableValue } from '../utils/misc.js';\nimport { getCSSColorVariable, getLighterColor, colors, getDarkerColor, colorsDark } from './colors.js';\nimport { fills, getPatternVariable, lines } from './patterns.js';\n\nconst UNOVIS_ICON_FONT_FAMILY_DEFAULT = (globalThis === null || globalThis === void 0 ? void 0 : globalThis.UNOVIS_ICON_FONT_FAMILY) || 'FontAwesome';\r\nconst UNOVIS_FONT_WH_RATIO_DEFAULT = (globalThis === null || globalThis === void 0 ? void 0 : globalThis.UNOVIS_FONT_W2H_RATIO_DEFAULT) || 0.5;\r\nconst UNOVIS_TEXT_SEPARATOR_DEFAULT = (globalThis === null || globalThis === void 0 ? void 0 : globalThis.UNOVIS_TEXT_SEPARATOR_DEFAULT) || [' ', '-', '.', ','];\r\nconst UNOVIS_TEXT_HYPHEN_CHARACTER_DEFAULT = (globalThis === null || globalThis === void 0 ? void 0 : globalThis.UNOVIS_TEXT_HYPHEN_CHARACTER_DEFAULT) || '-';\r\nconst UNOVIS_TEXT_DEFAULT = (globalThis === null || globalThis === void 0 ? void 0 : globalThis.UNOVIS_TEXT_DEFAULT) || {\r\n    // If you change these defaults, don't forget to update the values in the `UnovisText` type in `types/text.ts`\r\n    text: '',\r\n    fontSize: 12,\r\n    fontFamily: 'var(--vis-font-family)',\r\n    lineHeight: 1.25,\r\n    marginTop: 0,\r\n    marginBottom: 0,\r\n};\r\nconst variables = injectGlobal `\n  :root {\n    label: vis-root-styles;\n    --vis-font-family: Inter, Arial, \"Helvetica Neue\", Helvetica, sans-serif;\n    --vis-font-wh-ratio: ${UNOVIS_FONT_WH_RATIO_DEFAULT};\n    --vis-color-main: var(${getCSSColorVariable(0)});\n    --vis-color-main-light: ${getLighterColor(colors[0])};\n    --vis-color-main-dark: ${getDarkerColor(colors[0])};\n    --vis-color-grey: #2a2a2a;\n    ${colors.map((c, i) => `${getCSSColorVariable(i)}: ${c};`)}\n    ${colorsDark.map((c, i) => `--vis-dark-color${i}: ${c};`)}\n    ${fills.map((p, i) => `\n      --${getPatternVariable(p)}: url(#${getPatternVariable(p)});\n      --vis-pattern-fill${i}: var(--${getPatternVariable(p)});\n    `)}\n    ${lines.map((p, i) => {\r\n    var _a;\r\n    return `\n      --${getPatternVariable(p)}: url(#${getPatternVariable(p)});\n      --vis-pattern-marker${i}: var(--${getPatternVariable(p)});\n      --vis-pattern-dasharray${i}: ${(_a = p.dashArray) === null || _a === void 0 ? void 0 : _a.join(' ')};\n    `;\r\n})}\n\n    body.theme-dark {\n      ${colors.map((c, i) => `${getCSSColorVariable(i)}: var(--vis-dark-color${i});`)}\n    }\n\n    body.theme-patterns {\n      ${fills.map((_, i) => `path[style*=\"fill: var(${getCSSColorVariable(i)})\"]  {\n        mask: var(--vis-pattern-fill${i});\n      }`)}\n      ${lines.map((_, i) => `\n      path[stroke=\"var(${getCSSColorVariable(i)})\"]:not([style*=\"fill\"]),\n      path[style*=\"stroke: var(${getCSSColorVariable(i)})\"]:not([style*=\"fill\"]) {\n        marker: var(--vis-pattern-marker${i});\n        stroke-dasharray: var(--vis-pattern-dasharray${i});\n      }\n    `)}\n}\n`;\r\nfunction getFontWidthToHeightRatio(context = window === null || window === void 0 ? void 0 : window.document.body) {\r\n    return context ? +getCSSVariableValue('var(--vis-font-wh-ratio)', context) : UNOVIS_FONT_WH_RATIO_DEFAULT;\r\n}\n\nexport { UNOVIS_FONT_WH_RATIO_DEFAULT, UNOVIS_ICON_FONT_FAMILY_DEFAULT, UNOVIS_TEXT_DEFAULT, UNOVIS_TEXT_HYPHEN_CHARACTER_DEFAULT, UNOVIS_TEXT_SEPARATOR_DEFAULT, getFontWidthToHeightRatio, variables };\n\n", "import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n", "import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n", "import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n", "export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "export default x => () => x;\n", "import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n", "import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n", "export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n", "import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n", "export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n", "import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n", "import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n", "import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n", "var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n", "import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n", "import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n", "var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n", "import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n", "import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n", "import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n", "import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n", "import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n", "import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n", "import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n", "import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n", "import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n", "import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n", "import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n", "import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n", "function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n", "import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n", "import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n", "import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n", "import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n", "function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n", "import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n", "function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n", "import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n", "import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n", "import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n", "export const linear = t => +t;\n", "export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n", "var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n", "var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n", "// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n", "var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n", "var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n", "import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n", "import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n", "import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n", "import { interrupt } from 'd3-transition';\n\nfunction smartTransition(selection, duration, easing) {\r\n    selection.nodes().forEach(node => interrupt(node)); // Interrupt active transitions if any\r\n    if (duration) {\r\n        const transition = selection.transition().duration(duration);\r\n        if (easing)\r\n            transition.ease(easing);\r\n        return transition;\r\n    }\r\n    else\r\n        return selection;\r\n}\n\nexport { smartTransition };\n\n", "import { ContainerDefaultConfig } from '../../core/container/config.js';\n\n// Core\r\nconst SingleContainerDefaultConfig = Object.assign(Object.assign({}, ContainerDefaultConfig), { tooltip: undefined, annotations: undefined });\n\nexport { SingleContainerDefaultConfig };\n\n", "import '../../styles/index.js';\nimport { ContainerCore } from '../../core/container/index.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { Sizing } from '../../types/component.js';\nimport { SingleContainerDefaultConfig } from './config.js';\n\n// Global CSS variables (side effects import)\r\nclass SingleContainer extends ContainerCore {\r\n    constructor(element, config, data) {\r\n        var _a;\r\n        super(element);\r\n        this._defaultConfig = SingleContainerDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        if (config) {\r\n            this.updateContainer(config, true);\r\n            this.component = config.component;\r\n        }\r\n        if (data) {\r\n            this.setData(data, true);\r\n        }\r\n        // Render if component exists and has data\r\n        if ((_a = this.component) === null || _a === void 0 ? void 0 : _a.datamodel.data)\r\n            this.render();\r\n    }\r\n    setData(data, preventRender) {\r\n        var _a;\r\n        const { config } = this;\r\n        if (this.component)\r\n            this.component.setData(data);\r\n        if (!preventRender)\r\n            this.render();\r\n        (_a = config.tooltip) === null || _a === void 0 ? void 0 : _a.hide();\r\n    }\r\n    updateContainer(containerConfig, preventRender) {\r\n        super.updateContainer(containerConfig);\r\n        this._removeAllChildren();\r\n        this.component = containerConfig.component;\r\n        if (containerConfig.sizing)\r\n            this.component.sizing = containerConfig.sizing;\r\n        this.element.appendChild(this.component.element);\r\n        const tooltip = containerConfig.tooltip;\r\n        if (tooltip) {\r\n            if (!tooltip.hasContainer())\r\n                tooltip.setContainer(this._container);\r\n            tooltip.setComponents([this.component]);\r\n        }\r\n        const annotations = containerConfig.annotations;\r\n        if (annotations) {\r\n            this.element.appendChild(annotations.element);\r\n        }\r\n        // Defs\r\n        this.element.appendChild(this._svgDefs.node());\r\n        this.element.appendChild(this._svgDefsExternal.node());\r\n        if (!preventRender)\r\n            this.render();\r\n    }\r\n    updateComponent(componentConfig, preventRender) {\r\n        this.component.setConfig(componentConfig);\r\n        if (!preventRender)\r\n            this.render();\r\n    }\r\n    update(containerConfig, componentConfig, data) {\r\n        if (containerConfig)\r\n            this.updateContainer(containerConfig, true);\r\n        if (componentConfig)\r\n            this.updateComponent(componentConfig, true);\r\n        if (data)\r\n            this.setData(data, true);\r\n        this.render();\r\n    }\r\n    getFitWidthScale() {\r\n        const { config, component } = this;\r\n        const extendedSizeComponent = component;\r\n        if (!extendedSizeComponent.getWidth)\r\n            return 1;\r\n        const componentWidth = extendedSizeComponent.getWidth() + config.margin.left + config.margin.right;\r\n        return this.width / componentWidth;\r\n    }\r\n    _preRender() {\r\n        var _a, _b;\r\n        super._preRender();\r\n        this.component.setSize(this.width, this.height, this.containerWidth, this.containerHeight);\r\n        this.component.setContainerMargin(this.config.margin);\r\n        (_a = this.config.annotations) === null || _a === void 0 ? void 0 : _a.setSize(this.width, this.height, this.containerWidth, this.containerHeight);\r\n        (_b = this.config.annotations) === null || _b === void 0 ? void 0 : _b.setContainerMargin(this.config.margin);\r\n    }\r\n    _render(duration) {\r\n        var _a;\r\n        const { config, component } = this;\r\n        super._render(duration);\r\n        component.g.attr('transform', `translate(${config.margin.left},${config.margin.top})`);\r\n        component.render(duration);\r\n        (_a = config.annotations) === null || _a === void 0 ? void 0 : _a.render(duration);\r\n        if (config.tooltip)\r\n            config.tooltip.update();\r\n    }\r\n    // Re-defining the `render()` function to handle different sizing techniques (`Sizing.Extend` and `Sizing.FitWidth`)\r\n    // Not calling `super.render()` because we don't want it to interfere with setting the SVG size here.\r\n    render(duration = this.config.duration) {\r\n        const { config, component } = this;\r\n        if (config.sizing === Sizing.Extend || config.sizing === Sizing.FitWidth) {\r\n            const fitToWidth = config.sizing === Sizing.FitWidth;\r\n            const extendedSizeComponent = component;\r\n            const componentWidth = extendedSizeComponent.getWidth() + config.margin.left + config.margin.right;\r\n            const componentHeight = extendedSizeComponent.getHeight() + config.margin.top + config.margin.bottom;\r\n            const scale = fitToWidth ? this.getFitWidthScale() : 1;\r\n            const currentWidth = this.svg.attr('width');\r\n            const currentHeight = this.svg.attr('height');\r\n            const scaledWidth = componentWidth * scale;\r\n            const scaledHeight = componentHeight * scale;\r\n            const animated = currentWidth || currentHeight;\r\n            smartTransition(this.svg, animated ? duration : 0)\r\n                .attr('width', scaledWidth)\r\n                .attr('height', scaledHeight)\r\n                .attr('viewBox', `${0} ${0} ${componentWidth} ${fitToWidth ? scaledHeight : componentHeight}`)\r\n                .attr('preserveAspectRatio', 'xMinYMin');\r\n        }\r\n        else {\r\n            this.svg\r\n                .attr('width', this.config.width || this.containerWidth)\r\n                .attr('height', this.config.height || this.containerHeight);\r\n        }\r\n        // Set up Resize Observer\r\n        if (!this._resizeObserver)\r\n            this._setUpResizeObserver();\r\n        // Schedule the actual rendering in the next frame\r\n        cancelAnimationFrame(this._renderAnimationFrameId);\r\n        this._renderAnimationFrameId = requestAnimationFrame(() => {\r\n            this._preRender();\r\n            this._render(duration);\r\n        });\r\n    }\r\n    _onResize() {\r\n        var _a;\r\n        const { config } = this;\r\n        super._onResize();\r\n        (_a = config.tooltip) === null || _a === void 0 ? void 0 : _a.hide();\r\n    }\r\n    destroy() {\r\n        var _a, _b;\r\n        const { component, config } = this;\r\n        super.destroy();\r\n        component === null || component === void 0 ? void 0 : component.destroy();\r\n        (_a = config.tooltip) === null || _a === void 0 ? void 0 : _a.destroy();\r\n        (_b = config.annotations) === null || _b === void 0 ? void 0 : _b.destroy();\r\n    }\r\n}\n\nexport { SingleContainer };\n\n", "class CoreDataModel {\r\n    constructor(data) {\r\n        this.data = data;\r\n    }\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    set data(value) {\r\n        this._data = value;\r\n    }\r\n}\n\nexport { CoreDataModel };\n\n", "var AxisType;\r\n(function (AxisType) {\r\n    AxisType[\"X\"] = \"x\";\r\n    AxisType[\"Y\"] = \"y\";\r\n})(AxisType || (AxisType = {}));\n\nexport { AxisType };\n\n", "export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n", "import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n", "import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n", "export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n", "export default function number(x) {\n  return +x;\n}\n", "import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n", "export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n", "export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n", "export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n", "// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n", "// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n", "import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n", "export default function(x) {\n  return x;\n}\n", "import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n", "import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n", "import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n", "import {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n", "export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n", "import {ticks} from \"d3-array\";\nimport {format, formatSpecifier} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nexport function loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n", "import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n", "import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n", "import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n", "import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n", "import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n", "const t0 = new Date, t1 = new Date;\n\nexport function timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n", "import {timeInterval} from \"./interval.js\";\n\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nexport const milliseconds = millisecond.range;\n", "export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nexport const second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nexport const seconds = second.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\nexport const timeMinutes = timeMinute.range;\n\nexport const utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nexport const utcMinutes = utcMinute.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\nexport const timeHours = timeHour.range;\n\nexport const utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nexport const utcHours = utcHour.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nexport const timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport const timeDays = timeDay.range;\n\nexport const utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nexport const utcDays = utcDay.range;\n\nexport const unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nexport const unixDays = unixDay.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\n\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\n\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;\n", "import {timeInterval} from \"./interval.js\";\n\nexport const timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\nexport const timeMonths = timeMonth.range;\n\nexport const utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nexport const utcMonths = utcMonth.range;\n", "import {timeInterval} from \"./interval.js\";\n\nexport const timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport const timeYears = timeYear.range;\n\nexport const utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport const utcYears = utcYear.range;\n", "import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport {millisecond} from \"./millisecond.js\";\nimport {second} from \"./second.js\";\nimport {timeMinute, utcMinute} from \"./minute.js\";\nimport {timeHour, utcHour} from \"./hour.js\";\nimport {timeDay, unixDay} from \"./day.js\";\nimport {timeSunday, utcSunday} from \"./week.js\";\nimport {timeMonth, utcMonth} from \"./month.js\";\nimport {timeYear, utcYear} from \"./year.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n", "import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n", "import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n", "import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n", "import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n", "import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n", "import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n", "import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n", "import { scaleLinear, scalePow, scaleSqrt, scaleLog, scaleSymlog, scaleIdentity, scaleTime, scaleUtc, scaleSequential, scaleDiverging, scaleQuantize, scaleQuantile, scaleThreshold, scaleOrdinal, scaleBand, scalePoint } from 'd3-scale';\n\nconst Scale = {\r\n    scaleLinear,\r\n    scalePow,\r\n    scaleSqrt,\r\n    scaleLog,\r\n    scaleSymlog,\r\n    scaleIdentity,\r\n    scaleTime,\r\n    scaleUtc,\r\n    scaleSequential,\r\n    scaleDiverging,\r\n    scaleQuantize,\r\n    scaleQuantile,\r\n    scaleThreshold,\r\n    scaleOrdinal,\r\n    scaleBand,\r\n    scalePoint,\r\n};\r\nvar ScaleDimension;\r\n(function (ScaleDimension) {\r\n    ScaleDimension[\"X\"] = \"x\";\r\n    ScaleDimension[\"Y\"] = \"y\";\r\n})(ScaleDimension || (ScaleDimension = {}));\n\nexport { Scale, ScaleDimension };\n\n", "var Direction;\r\n(function (Direction) {\r\n    Direction[\"West\"] = \"west\";\r\n    Direction[\"East\"] = \"east\";\r\n    Direction[\"North\"] = \"north\";\r\n    Direction[\"South\"] = \"south\";\r\n})(Direction || (Direction = {}));\n\nexport { Direction };\n\n", "import { ContainerDefaultConfig } from '../../core/container/config.js';\nimport { Direction } from '../../types/direction.js';\n\nconst XYContainerDefaultConfig = Object.assign(Object.assign({}, ContainerDefaultConfig), { components: [], tooltip: undefined, crosshair: undefined, annotations: undefined, xAxis: undefined, yAxis: undefined, autoMargin: true, xScale: undefined, xDomain: undefined, xDomainMinConstraint: undefined, xDomainMaxConstraint: undefined, xRange: undefined, yScale: undefined, yDomain: undefined, yDomainMinConstraint: undefined, yDomainMaxConstraint: undefined, yRange: undefined, yDirection: Direction.North, preventEmptyDomain: null, scaleByDomain: false, clipPathExtend: 2 });\n\nexport { XYContainerDefaultConfig };\n\n", "import { css } from '@emotion/css';\nimport { extent, merge } from 'd3-array';\nimport '../../styles/index.js';\nimport { ContainerCore } from '../../core/container/index.js';\nimport { CoreDataModel } from '../../data-models/core.js';\nimport { AxisType } from '../../components/axis/types.js';\nimport { ScaleDimension } from '../../types/scale.js';\nimport { Direction } from '../../types/direction.js';\nimport { clamp, isEqual, clean, flatten } from '../../utils/data.js';\nimport { guid } from '../../utils/misc.js';\nimport { XYContainerDefaultConfig } from './config.js';\n\nclass XYContainer extends ContainerCore {\r\n    constructor(element, config, data) {\r\n        var _a, _b;\r\n        super(element);\r\n        this._defaultConfig = XYContainerDefaultConfig;\r\n        this.datamodel = new CoreDataModel();\r\n        this.config = this._defaultConfig;\r\n        this._clipPathId = guid();\r\n        this._axisMargin = { top: 0, bottom: 0, left: 0, right: 0 };\r\n        this._firstRender = true;\r\n        this._clipPath = this.svg.append('clipPath')\r\n            .attr('id', this._clipPathId);\r\n        this._clipPath.append('rect');\r\n        // When the base tag is specified on the HTML head,\r\n        //  Safari fails to find the corresponding filter URL.\r\n        //  We have to provide tull url in order to fix that\r\n        const highlightFilterId = 'saturate';\r\n        const baseUrl = window.location.href.replace(window.location.hash, '');\r\n        this.svg.attr('class', css `\n      --highlight-filter-id: url(${baseUrl}#${highlightFilterId}); // defining a css variable\n    `);\r\n        this._svgDefs.append('filter')\r\n            .attr('id', highlightFilterId)\r\n            .attr('filterUnits', 'objectBoundingBox')\r\n            .html('<feColorMatrix type=\"saturate\" in=\"SourceGraphic\" values=\"1.35\"/>');\r\n        if (config) {\r\n            this.updateContainer(config, true);\r\n        }\r\n        if (data) {\r\n            this.setData(data, true);\r\n        }\r\n        // Render if there are axes or components with data\r\n        if (this.config.xAxis ||\r\n            this.config.yAxis ||\r\n            ((_a = this.components) === null || _a === void 0 ? void 0 : _a.some(c => c.datamodel.data))) {\r\n            this.render();\r\n        }\r\n        // Force re-render axes when fonts are loaded\r\n        (_b = document.fonts) === null || _b === void 0 ? void 0 : _b.ready.then(() => {\r\n            if (!this._firstRender)\r\n                this._renderAxes(0);\r\n        });\r\n    }\r\n    get components() {\r\n        return this.config.components;\r\n    }\r\n    // Overriding ContainerCore default get width method to work with axis auto margin\r\n    get width() {\r\n        const margin = this._getMargin();\r\n        return clamp(this.containerWidth - margin.left - margin.right, 0, Number.POSITIVE_INFINITY);\r\n    }\r\n    // Overriding ContainerCore default get height method to work with axis auto margin\r\n    get height() {\r\n        const margin = this._getMargin();\r\n        return clamp(this.containerHeight - margin.top - margin.bottom, 0, Number.POSITIVE_INFINITY);\r\n    }\r\n    setData(data, preventRender) {\r\n        var _a, _b, _c, _d, _e;\r\n        const { components, config } = this;\r\n        if (!data)\r\n            return;\r\n        this.datamodel.data = data;\r\n        components.forEach((c) => {\r\n            c.setData(data);\r\n        });\r\n        (_a = config.crosshair) === null || _a === void 0 ? void 0 : _a.setData(data);\r\n        (_b = config.xAxis) === null || _b === void 0 ? void 0 : _b.setData(data);\r\n        (_c = config.yAxis) === null || _c === void 0 ? void 0 : _c.setData(data);\r\n        // Hide tooltip and crosshair if the data has changed\r\n        // Important: We still want to do `setData` for the components above even if the data hasn't changed\r\n        // because calling `updateContainer` may add new components and we need to pass them the data\r\n        const hasDataUpdated = !isEqual(this.datamodel.data, data);\r\n        if (hasDataUpdated) {\r\n            (_d = config.tooltip) === null || _d === void 0 ? void 0 : _d.hide();\r\n            (_e = config.crosshair) === null || _e === void 0 ? void 0 : _e.hide();\r\n        }\r\n        if (!preventRender)\r\n            this.render();\r\n    }\r\n    updateContainer(containerConfig, preventRender) {\r\n        super.updateContainer(containerConfig);\r\n        this._removeAllChildren();\r\n        // If there were any new components added we need to pass them data\r\n        this.setData(this.datamodel.data, true);\r\n        // Set up the axes\r\n        if (containerConfig.xAxis) {\r\n            this.config.xAxis.config.type = AxisType.X;\r\n            this.element.appendChild(containerConfig.xAxis.element);\r\n        }\r\n        if (containerConfig.yAxis) {\r\n            this.config.yAxis.config.type = AxisType.Y;\r\n            this.element.appendChild(containerConfig.yAxis.element);\r\n        }\r\n        // Re-insert elements to the DOM\r\n        for (const c of this.components) {\r\n            this.element.appendChild(c.element);\r\n        }\r\n        // Set up the tooltip\r\n        const tooltip = containerConfig.tooltip;\r\n        if (tooltip) {\r\n            if (!tooltip.hasContainer())\r\n                tooltip.setContainer(this._container);\r\n            tooltip.setComponents(this.components);\r\n        }\r\n        // Set up the crosshair\r\n        const crosshair = containerConfig.crosshair;\r\n        if (crosshair) {\r\n            crosshair.setContainer(this.svg);\r\n            crosshair.tooltip = tooltip;\r\n            this.element.appendChild(crosshair.element);\r\n        }\r\n        // Set up annotations\r\n        const annotations = containerConfig.annotations;\r\n        if (annotations) {\r\n            this.element.appendChild(annotations.element);\r\n        }\r\n        // Clipping path\r\n        this.element.appendChild(this._clipPath.node());\r\n        // Defs\r\n        this.element.appendChild(this._svgDefs.node());\r\n        this.element.appendChild(this._svgDefsExternal.node());\r\n        // Rendering\r\n        if (!preventRender)\r\n            this.render();\r\n    }\r\n    updateComponents(componentConfigs, preventRender) {\r\n        const { config } = this;\r\n        this.components.forEach((c, i) => {\r\n            const componentConfig = componentConfigs[i];\r\n            if (componentConfig) {\r\n                c.setConfig(componentConfigs[i]);\r\n            }\r\n        });\r\n        this._updateScales(...this.components, config.xAxis, config.yAxis, config.crosshair);\r\n        if (!preventRender)\r\n            this.render();\r\n    }\r\n    update(containerConfig, componentConfigs, data) {\r\n        if (data)\r\n            this.datamodel.data = data; // Just updating the data model because the `updateContainer` method has the `setData` step inside\r\n        if (containerConfig)\r\n            this.updateContainer(containerConfig, true);\r\n        if (componentConfigs)\r\n            this.updateComponents(componentConfigs, true);\r\n        this.render();\r\n    }\r\n    _preRender() {\r\n        const { config } = this;\r\n        super._preRender();\r\n        // Calculate extra margin required to fit the axes\r\n        if (config.autoMargin) {\r\n            this._setAutoMargin();\r\n        }\r\n        // Pass size and margin to the components\r\n        const components = clean([...this.components, config.xAxis, config.yAxis, config.crosshair, config.annotations]);\r\n        const margin = this._getMargin();\r\n        for (const c of components) {\r\n            c.setSize(this.width, this.height, this.containerWidth, this.containerHeight);\r\n            c.setContainerMargin(margin);\r\n        }\r\n        // Update Scales of all the components at once to calculate required paddings and sync them\r\n        this._updateScales(...this.components, config.xAxis, config.yAxis, config.crosshair);\r\n    }\r\n    _render(customDuration) {\r\n        var _a, _b, _c, _d, _e;\r\n        const { config } = this;\r\n        super._render();\r\n        // Get chart total margin after auto margin calculations\r\n        const margin = this._getMargin();\r\n        // Render components\r\n        for (const c of this.components) {\r\n            c.g.attr('transform', `translate(${margin.left},${margin.top})`)\r\n                .style('clip-path', c.clippable ? `url(#${this._clipPathId})` : null)\r\n                .style('-webkit-clip-path', c.clippable ? `url(#${this._clipPathId})` : null);\r\n            c.render(customDuration);\r\n        }\r\n        this._renderAxes(this._firstRender ? 0 : customDuration);\r\n        // Clip Rect\r\n        // Extending the clipping path to allow small overflow (e.g. Line will looks better that way when it touches the edges)\r\n        const clipPathExtension = config.clipPathExtend;\r\n        this._clipPath.select('rect')\r\n            .attr('x', -clipPathExtension)\r\n            .attr('y', -clipPathExtension)\r\n            .attr('width', this.width + 2 * clipPathExtension)\r\n            .attr('height', this.height + 2 * clipPathExtension);\r\n        // Tooltip\r\n        (_a = config.tooltip) === null || _a === void 0 ? void 0 : _a.update(); // Re-bind events\r\n        // Crosshair\r\n        const crosshair = config.crosshair;\r\n        if (crosshair) {\r\n            // Pass accessors\r\n            const yAccessors = this.components.filter(c => !c.stacked).map(c => c.config.y);\r\n            const yStackedAccessors = this.components.filter(c => c.stacked).map(c => c.config.y);\r\n            const baselineComponentConfig = (_b = this.components.find(c => c.config.baseline)) === null || _b === void 0 ? void 0 : _b.config;\r\n            const baselineAccessor = baselineComponentConfig === null || baselineComponentConfig === void 0 ? void 0 : baselineComponentConfig.baseline;\r\n            // Setting up fallback accessors for the crosshair to be used if they are not configured explicitly\r\n            crosshair.accessors = {\r\n                x: (_c = this.components[0]) === null || _c === void 0 ? void 0 : _c.config.x,\r\n                y: flatten(yAccessors),\r\n                yStacked: flatten(yStackedAccessors),\r\n                baseline: baselineAccessor,\r\n            };\r\n            crosshair.g.attr('transform', `translate(${margin.left},${margin.top})`)\r\n                .style('clip-path', `url(#${this._clipPathId})`)\r\n                .style('-webkit-clip-path', `url(#${this._clipPathId})`);\r\n            crosshair.render();\r\n        }\r\n        (_d = config.annotations) === null || _d === void 0 ? void 0 : _d.g.attr('transform', `translate(${margin.left},${margin.top})`);\r\n        (_e = config.annotations) === null || _e === void 0 ? void 0 : _e.render();\r\n        this._firstRender = false;\r\n    }\r\n    _updateScales(...components) {\r\n        const c = clean(components || this.components);\r\n        this._setScales(...c);\r\n        this._updateScalesDomain(...c);\r\n        this._updateScalesRange(...c);\r\n    }\r\n    _setScales(...components) {\r\n        const { config } = this;\r\n        if (!components)\r\n            return;\r\n        // Set the X and Y scales\r\n        if (config.xScale)\r\n            components.forEach(c => c.setScale(ScaleDimension.X, config.xScale));\r\n        if (config.yScale)\r\n            components.forEach(c => c.setScale(ScaleDimension.Y, config.yScale));\r\n    }\r\n    _updateScalesDomain(...components) {\r\n        const { config } = this;\r\n        if (!components)\r\n            return;\r\n        const componentsWithDomain = components.filter(c => !c.config.excludeFromDomainCalculation);\r\n        // Loop over all the dimensions\r\n        Object.values(ScaleDimension).forEach((dimension) => {\r\n            var _a, _b, _c, _d, _e, _f, _g, _h;\r\n            const [min, max] = extent(merge(componentsWithDomain.map(c => c.getDataExtent(dimension, config.scaleByDomain)))); // Components with undefined dimension accessors will return [undefined, undefined] but d3.extent will take care of that\r\n            const configuredDomain = dimension === ScaleDimension.Y ? config.yDomain : config.xDomain;\r\n            const configuredDomainMinConstraint = dimension === ScaleDimension.Y ? config.yDomainMinConstraint : config.xDomainMinConstraint;\r\n            const configuredDomainMaxConstraint = dimension === ScaleDimension.Y ? config.yDomainMaxConstraint : config.xDomainMaxConstraint;\r\n            const domainMin = (_b = (_a = configuredDomain === null || configuredDomain === void 0 ? void 0 : configuredDomain[0]) !== null && _a !== void 0 ? _a : min) !== null && _b !== void 0 ? _b : 0;\r\n            const domainMax = (_d = (_c = configuredDomain === null || configuredDomain === void 0 ? void 0 : configuredDomain[1]) !== null && _c !== void 0 ? _c : max) !== null && _d !== void 0 ? _d : 1;\r\n            const domain = [\r\n                clamp(domainMin, (_e = configuredDomainMinConstraint === null || configuredDomainMinConstraint === void 0 ? void 0 : configuredDomainMinConstraint[0]) !== null && _e !== void 0 ? _e : Number.NEGATIVE_INFINITY, (_f = configuredDomainMinConstraint === null || configuredDomainMinConstraint === void 0 ? void 0 : configuredDomainMinConstraint[1]) !== null && _f !== void 0 ? _f : Number.POSITIVE_INFINITY),\r\n                clamp(domainMax, (_g = configuredDomainMaxConstraint === null || configuredDomainMaxConstraint === void 0 ? void 0 : configuredDomainMaxConstraint[0]) !== null && _g !== void 0 ? _g : Number.NEGATIVE_INFINITY, (_h = configuredDomainMaxConstraint === null || configuredDomainMaxConstraint === void 0 ? void 0 : configuredDomainMaxConstraint[1]) !== null && _h !== void 0 ? _h : Number.POSITIVE_INFINITY),\r\n            ];\r\n            // Extend the X and Y domains if they're empty and `preventEmptyDomain` was explicitly set to `true`\r\n            // or just the X domain if there is no data provided and `preventEmptyDomain` set to `null`\r\n            if (domain[0] === domain[1]) {\r\n                const hasDataProvided = componentsWithDomain.some(c => { var _a; return ((_a = c.datamodel.data) === null || _a === void 0 ? void 0 : _a.length) > 0; });\r\n                if (config.preventEmptyDomain || (config.preventEmptyDomain === null && (!hasDataProvided || dimension === ScaleDimension.Y))) {\r\n                    domain[1] = domain[0] + 1;\r\n                }\r\n            }\r\n            components.forEach(c => c.setScaleDomain(dimension, domain));\r\n        });\r\n    }\r\n    _updateScalesRange(...components) {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        const { config } = this;\r\n        if (!components)\r\n            return;\r\n        // Set initial scale range\r\n        const isYDirectionSouth = config.yDirection === Direction.South;\r\n        const xRange = [(_a = config.padding.left) !== null && _a !== void 0 ? _a : 0, this.width - ((_b = config.padding.right) !== null && _b !== void 0 ? _b : 0)];\r\n        const yRange = [this.height - ((_c = config.padding.bottom) !== null && _c !== void 0 ? _c : 0), (_d = config.padding.top) !== null && _d !== void 0 ? _d : 0];\r\n        if (isYDirectionSouth)\r\n            yRange.reverse();\r\n        for (const c of components) {\r\n            c.setSize(this.width, this.height, this.containerWidth, this.containerHeight);\r\n            c.setScaleRange(ScaleDimension.X, (_e = config.xRange) !== null && _e !== void 0 ? _e : xRange);\r\n            c.setScaleRange(ScaleDimension.Y, (_f = config.yRange) !== null && _f !== void 0 ? _f : yRange);\r\n        }\r\n        // Get and combine bleed\r\n        const bleed = components.map(c => c.bleed).reduce((bleed, b) => {\r\n            for (const key of Object.keys(bleed)) {\r\n                const k = key;\r\n                if (bleed[k] < b[k])\r\n                    bleed[k] = b[k];\r\n            }\r\n            return bleed;\r\n        }, { top: 0, bottom: 0, left: 0, right: 0 });\r\n        // Update scale range\r\n        for (const c of components) {\r\n            c.setScaleRange(ScaleDimension.X, [xRange[0] + bleed.left, xRange[1] - bleed.right]);\r\n            c.setScaleRange(ScaleDimension.Y, isYDirectionSouth\r\n                ? [yRange[0] + bleed.top, yRange[1] - bleed.bottom] // if Y axis is directed downwards\r\n                : [yRange[0] - bleed.bottom, yRange[1] + bleed.top] // if Y axis is directed upwards\r\n            );\r\n        }\r\n    }\r\n    _renderAxes(duration) {\r\n        const { config: { xAxis, yAxis } } = this;\r\n        const margin = this._getMargin();\r\n        const axes = clean([xAxis, yAxis]);\r\n        axes.forEach(axis => {\r\n            const offset = axis.getOffset(margin);\r\n            axis.g.attr('transform', `translate(${offset.left},${offset.top})`);\r\n            axis.render(duration);\r\n        });\r\n    }\r\n    _setAutoMargin() {\r\n        const { config: { xAxis, yAxis } } = this;\r\n        // At first we need to set the domain to the scales\r\n        const components = clean([...this.components, xAxis, yAxis]);\r\n        this._setScales(...components);\r\n        this._updateScalesDomain(...components);\r\n        // Calculate margin required by the axes\r\n        // We do two iterations on the first render, because the amount and size of ticks can change\r\n        //    after new margin are calculated and applied (axes dimensions will change).\r\n        //    That's needed for correct label placement.\r\n        const numIterations = this._firstRender ? 2 : 1;\r\n        for (let i = 0; i < numIterations; i += 1) {\r\n            const axisMargin = { top: 0, bottom: 0, left: 0, right: 0 };\r\n            this._updateScalesRange(...components);\r\n            const axes = clean([xAxis, yAxis]);\r\n            axes.forEach(axis => {\r\n                axis.preRender();\r\n                const m = axis.getRequiredMargin();\r\n                if (axisMargin.top < m.top)\r\n                    axisMargin.top = m.top;\r\n                if (axisMargin.bottom < m.bottom)\r\n                    axisMargin.bottom = m.bottom;\r\n                if (axisMargin.left < m.left)\r\n                    axisMargin.left = m.left;\r\n                if (axisMargin.right < m.right)\r\n                    axisMargin.right = m.right;\r\n            });\r\n            this._axisMargin = axisMargin;\r\n        }\r\n    }\r\n    _getMargin() {\r\n        const { config: { margin } } = this;\r\n        return {\r\n            top: margin.top + this._axisMargin.top,\r\n            bottom: margin.bottom + this._axisMargin.bottom,\r\n            left: margin.left + this._axisMargin.left,\r\n            right: margin.right + this._axisMargin.right,\r\n        };\r\n    }\r\n    destroy() {\r\n        const { components, config: { tooltip, crosshair, annotations, xAxis, yAxis } } = this;\r\n        super.destroy();\r\n        for (const c of components)\r\n            c === null || c === void 0 ? void 0 : c.destroy();\r\n        tooltip === null || tooltip === void 0 ? void 0 : tooltip.destroy();\r\n        crosshair === null || crosshair === void 0 ? void 0 : crosshair.destroy();\r\n        annotations === null || annotations === void 0 ? void 0 : annotations.destroy();\r\n        xAxis === null || xAxis === void 0 ? void 0 : xAxis.destroy();\r\n        yAxis === null || yAxis === void 0 ? void 0 : yAxis.destroy();\r\n    }\r\n}\n\nexport { XYContainer };\n\n", "const ComponentDefaultConfig = {\r\n    duration: 600,\r\n    events: {},\r\n    attributes: {},\r\n};\n\nexport { ComponentDefaultConfig };\n\n", "import { select } from 'd3-selection';\nimport { CoreDataModel } from '../../data-models/core.js';\nimport { throttle, merge } from '../../utils/data.js';\nimport { guid } from '../../utils/misc.js';\nimport { ComponentType, Sizing } from '../../types/component.js';\nimport { ComponentDefaultConfig } from './config.js';\n\nclass ComponentCore {\r\n    constructor(type = ComponentType.SVG) {\r\n        var _a, _b;\r\n        this.type = ComponentType.SVG;\r\n        this.datamodel = new CoreDataModel();\r\n        this.sizing = Sizing.Fit; // Supported by SingleContainer and a subset of components only (Sankey)\r\n        this.events = {};\r\n        /** Default configuration */\r\n        this._defaultConfig = ComponentDefaultConfig;\r\n        /** Component width in pixels. This property is set automatically by the container. */\r\n        this._width = 400;\r\n        /** Component height in pixels. This property is set automatically by the container. */\r\n        this._height = 200;\r\n        /** Container width in pixels. This property is set automatically by the container. */\r\n        this._containerWidth = undefined;\r\n        /** Container height in pixels. This property is set automatically by the container. */\r\n        this._containerHeight = undefined;\r\n        /** Container margin in pixels. This property is set automatically by the container. */\r\n        this._containerMargin = { top: 0, bottom: 0, left: 0, right: 0 };\r\n        this._setUpComponentEventsThrottled = throttle(this._setUpComponentEvents, 500);\r\n        this._setCustomAttributesThrottled = throttle(this._setCustomAttributes, 500);\r\n        if (type === ComponentType.SVG) {\r\n            this.element = document.createElementNS('http://www.w3.org/2000/svg', 'g');\r\n        }\r\n        else {\r\n            this.element = document.createElement('div');\r\n        }\r\n        this.uid = guid();\r\n        this.g = select(this.element);\r\n        // Setting the root class if available\r\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n        // @ts-ignore\r\n        // eslint-disable-next-line dot-notation\r\n        const rootClass = (_b = (_a = this.constructor) === null || _a === void 0 ? void 0 : _a['selectors']) === null || _b === void 0 ? void 0 : _b.root;\r\n        if (rootClass)\r\n            this.g.attr('class', rootClass);\r\n    }\r\n    /** Set the container margin. Called automatically by containers. */\r\n    setContainerMargin(margin) {\r\n        this._containerMargin = margin;\r\n    }\r\n    setConfig(config) {\r\n        this.prevConfig = this.config; // Store the previous config instance\r\n        this.config = merge(this._defaultConfig, config);\r\n    }\r\n    setData(data) {\r\n        this.datamodel.data = data;\r\n    }\r\n    setSize(width, height, containerWidth, containerHeight) {\r\n        if (isFinite(width))\r\n            this._width = width;\r\n        if (isFinite(height))\r\n            this._height = height;\r\n        if (isFinite(containerWidth))\r\n            this._containerWidth = containerWidth;\r\n        if (isFinite(containerHeight))\r\n            this._containerHeight = containerHeight;\r\n    }\r\n    render(duration = this.config.duration) {\r\n        this._render(duration);\r\n        // While transition is in progress, we add the 'animating' attribute to the component's SVG group\r\n        const ANIMATING_ATTR = 'animating';\r\n        if (duration) {\r\n            this.g.attr(ANIMATING_ATTR, '');\r\n            const transition = this.g\r\n                .transition(ANIMATING_ATTR)\r\n                .duration(duration);\r\n            transition.on('end interrupt', () => {\r\n                this.g.attr(ANIMATING_ATTR, null);\r\n            });\r\n        }\r\n        this._setUpComponentEventsThrottled();\r\n        this._setCustomAttributesThrottled();\r\n    }\r\n    get bleed() {\r\n        return { top: 0, bottom: 0, left: 0, right: 0 };\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    _render(duration = this.config.duration) {\r\n    }\r\n    _setCustomAttributes() {\r\n        const attributeMap = this.config.attributes;\r\n        Object.keys(attributeMap).forEach(className => {\r\n            Object.keys(attributeMap[className]).forEach(attr => {\r\n                const selection = this.g\r\n                    .selectAll(`.${className}`);\r\n                selection.attr(attr, attributeMap[className][attr]);\r\n            });\r\n        });\r\n    }\r\n    _setUpComponentEvents() {\r\n        // Set up default events\r\n        this._bindEvents(this.events);\r\n        // Set up user-defined events\r\n        this._bindEvents(this.config.events, '.user');\r\n    }\r\n    _bindEvents(events = this.events, suffix = '') {\r\n        Object.keys(events).forEach(className => {\r\n            Object.keys(events[className]).forEach(eventType => {\r\n                const selection = this.g\r\n                    .selectAll(`.${className}`);\r\n                selection.on(eventType + suffix, (event, d) => {\r\n                    const els = selection.nodes();\r\n                    const i = els.indexOf(event.currentTarget);\r\n                    const eventFunction = events[className][eventType];\r\n                    return eventFunction === null || eventFunction === void 0 ? void 0 : eventFunction(d, event, i, els);\r\n                });\r\n            });\r\n        });\r\n    }\r\n    destroy() {\r\n        var _a;\r\n        (_a = this.g) === null || _a === void 0 ? void 0 : _a.remove();\r\n        this.element = undefined;\r\n    }\r\n    isDestroyed() {\r\n        return !this.element;\r\n    }\r\n}\n\nexport { ComponentCore };\n\n", "import { CoreDataModel } from './core.js';\n\n// Core\r\nclass SeriesDataModel extends CoreDataModel {\r\n    constructor(data) {\r\n        super(data);\r\n    }\r\n    get data() {\r\n        var _a;\r\n        return (_a = this._data) !== null && _a !== void 0 ? _a : [];\r\n    }\r\n    set data(data) {\r\n        if (Array.isArray(data))\r\n            this._data = data;\r\n    }\r\n}\n\nexport { SeriesDataModel };\n\n", "import { ComponentDefaultConfig } from '../component/config.js';\n\n// Config\r\nconst XYComponentDefaultConfig = Object.assign(Object.assign({}, ComponentDefaultConfig), { x: undefined, y: undefined, id: (d, i) => { var _a; return (_a = d.id) !== null && _a !== void 0 ? _a : `${i}`; }, color: (d) => d.color, xScale: undefined, yScale: undefined, excludeFromDomainCalculation: false });\n\nexport { XYComponentDefaultConfig };\n\n", "import { ComponentCore } from '../component/index.js';\nimport { SeriesDataModel } from '../../data-models/series.js';\nimport { getExtent, filterDataByRange, isArray } from '../../utils/data.js';\nimport { Scale, ScaleDimension } from '../../types/scale.js';\nimport { XYComponentDefaultConfig } from './config.js';\n\n// Core\r\nclass XYComponentCore extends ComponentCore {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.datamodel = new SeriesDataModel();\r\n        /** Clippable components can be affected by a clipping path (set up in the container) */\r\n        this.clippable = true;\r\n        /** Identifies whether the component displayed stacked data (eg StackedBar, Area) */\r\n        this.stacked = false;\r\n        this._defaultConfig = XYComponentDefaultConfig;\r\n        this._xScale = Scale.scaleLinear();\r\n        this._yScale = Scale.scaleLinear();\r\n    }\r\n    get xScale() {\r\n        return this.config.xScale || this._xScale;\r\n    }\r\n    get yScale() {\r\n        return this.config.yScale || this._yScale;\r\n    }\r\n    setConfig(config) {\r\n        var _a, _b;\r\n        // We don't allow changing scales after the component has been initialized\r\n        if ((_a = this.config) === null || _a === void 0 ? void 0 : _a.xScale)\r\n            config.xScale = this.config.xScale;\r\n        if ((_b = this.config) === null || _b === void 0 ? void 0 : _b.yScale)\r\n            config.yScale = this.config.yScale;\r\n        super.setConfig(config);\r\n    }\r\n    setScaleDomain(dimension, domain) {\r\n        var _a, _b;\r\n        if (dimension === ScaleDimension.X)\r\n            (_a = this._xScale) === null || _a === void 0 ? void 0 : _a.domain(domain);\r\n        if (dimension === ScaleDimension.Y)\r\n            (_b = this._yScale) === null || _b === void 0 ? void 0 : _b.domain(domain);\r\n    }\r\n    setScaleRange(dimension, range) {\r\n        var _a, _b;\r\n        if (dimension === ScaleDimension.X)\r\n            (_a = this._xScale) === null || _a === void 0 ? void 0 : _a.range(range);\r\n        if (dimension === ScaleDimension.Y)\r\n            (_b = this._yScale) === null || _b === void 0 ? void 0 : _b.range(range);\r\n    }\r\n    setScale(dimension, scale) {\r\n        if (scale && (dimension === ScaleDimension.X))\r\n            this._xScale = scale;\r\n        if (scale && (dimension === ScaleDimension.Y))\r\n            this._yScale = scale;\r\n    }\r\n    getDataExtent(dimension, scaleByVisibleData) {\r\n        const { config, datamodel } = this;\r\n        switch (dimension) {\r\n            case ScaleDimension.X: return this.getXDataExtent();\r\n            case ScaleDimension.Y: return this.getYDataExtent(scaleByVisibleData);\r\n            default: return getExtent(datamodel.data, config[dimension]);\r\n        }\r\n    }\r\n    getXDataExtent() {\r\n        const { config, datamodel } = this;\r\n        return getExtent(datamodel.data, config.x);\r\n    }\r\n    /** Some components override this method to provide custom data extent calculation */\r\n    getYDataExtent(scaleByVisibleData) {\r\n        const { config, datamodel } = this;\r\n        const xDomain = this.xScale.domain();\r\n        const data = scaleByVisibleData ? filterDataByRange(datamodel.data, xDomain, config.x, true) : datamodel.data;\r\n        const yAccessors = (isArray(config.y) ? config.y : [config.y]);\r\n        return getExtent(data, ...yAccessors);\r\n    }\r\n}\n\nexport { XYComponentCore };\n\n", "var Position;\r\n(function (Position) {\r\n    Position[\"Top\"] = \"top\";\r\n    Position[\"Bottom\"] = \"bottom\";\r\n    Position[\"Left\"] = \"left\";\r\n    Position[\"Right\"] = \"right\";\r\n    Position[\"Center\"] = \"center\";\r\n    Position[\"Auto\"] = \"auto\";\r\n})(Position || (Position = {}));\r\nvar PositionStrategy;\r\n(function (PositionStrategy) {\r\n    PositionStrategy[\"Absolute\"] = \"absolute\";\r\n    PositionStrategy[\"Fixed\"] = \"fixed\";\r\n})(PositionStrategy || (PositionStrategy = {}));\r\nvar Arrangement;\r\n(function (Arrangement) {\r\n    Arrangement[\"Inside\"] = \"inside\";\r\n    Arrangement[\"Outside\"] = \"outside\";\r\n    Arrangement[\"Center\"] = \"center\";\r\n})(Arrangement || (Arrangement = {}));\r\nvar Orientation;\r\n(function (Orientation) {\r\n    Orientation[\"Horizontal\"] = \"horizontal\";\r\n    Orientation[\"Vertical\"] = \"vertical\";\r\n})(Orientation || (Orientation = {}));\n\nexport { Arrangement, Orientation, Position, PositionStrategy };\n\n", "import { Position } from '../../types/position.js';\n\n// Types\r\nconst TooltipDefaultConfig = {\r\n    components: [],\r\n    container: undefined,\r\n    followCursor: true,\r\n    allowHover: false,\r\n    horizontalPlacement: Position.Auto,\r\n    horizontalShift: 0,\r\n    verticalPlacement: Position.Top,\r\n    verticalShift: 0,\r\n    attributes: {},\r\n    triggers: {},\r\n    className: undefined,\r\n    showDelay: undefined,\r\n    hideDelay: undefined,\r\n};\n\nexport { TooltipDefaultConfig };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst root = css `\n  label: tooltip;\n  display: inline-block;\n  left: 0;\n  bottom: 0;\n  min-width: max-content;\n  position: absolute;\n  opacity: 0;\n  transition: opacity;\n  transition-duration: var(--vis-tooltip-transition-duration);\n  z-index: 999999;\n  padding: var(--vis-tooltip-padding);\n  color: var(--vis-tooltip-text-color);\n  border-radius: var(--vis-tooltip-border-radius);\n  box-shadow: var(--vis-tooltip-box-shadow);\n  border: solid 1px var(--vis-tooltip-border-color);\n  background-color: var(--vis-tooltip-background-color);\n  backdrop-filter: var(--vis-tooltip-backdrop-filter);\n`;\r\n/**\r\n * @deprecated This selector is deprecated and will be removed in future versions. Use `root` instead.\r\n */\r\nconst tooltip = root;\r\nconst variables = injectGlobal `\n  :root {\n    --vis-tooltip-background-color: rgba(255, 255, 255, 0.95);\n    --vis-tooltip-border-color: #e5e9f7;\n    --vis-tooltip-text-color: #000;\n    --vis-tooltip-shadow-color: rgba(172, 179, 184, 0.35);\n    --vis-tooltip-backdrop-filter: none;\n    --vis-tooltip-padding: 10px 15px;\n    --vis-tooltip-border-radius: 5px;\n    --vis-tooltip-transition-duration: 300ms;\n    --vis-tooltip-box-shadow: none;\n\n    --vis-dark-tooltip-background-color: rgba(30,30,30, 0.95);\n    --vis-dark-tooltip-text-color: #e5e9f7;\n    --vis-dark-tooltip-border-color: var(--vis-color-grey);\n    --vis-dark-tooltip-shadow-color: rgba(0,0,0, 0.95);\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-tooltip-background-color: var(--vis-dark-tooltip-background-color);\n    --vis-tooltip-text-color: var(--vis-dark-tooltip-text-color);\n    --vis-tooltip-border-color: var(--vis-dark-tooltip-border-color);\n    --vis-tooltip-shadow-color: var(--vis-dark-tooltip-shadow-color);\n  }\n\n  body.theme-dark {\n    --vis-tooltip-background-color: rgba(30,30,30, 0.95);\n    --vis-tooltip-text-color: #e5e9f7;\n    --vis-tooltip-border-color: var(--vis-color-grey);\n    --vis-tooltip-shadow-color: rgba(0,0,0, 0.95);\n  }\n`;\r\nconst positionFixed = css `\n  bottom: unset;\n  position: fixed;\n`;\r\nconst show = css `\n  opacity: 1;\n`;\r\nconst hidden = css `\n  display: none;\n`;\r\nconst nonInteractive = css `\n  label: non-interactive;\n  pointer-events: none;\n  user-select: none;\n`;\n\nexport { hidden, nonInteractive, positionFixed, root, show, tooltip, variables };\n\n", "import { select, pointer } from 'd3-selection';\nimport { Position } from '../../types/position.js';\nimport { throttle, merge } from '../../utils/data.js';\nimport { TooltipDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { root, show, hidden, nonInteractive, positionFixed } from './style.js';\n\nclass Tooltip {\r\n    constructor(config = {}) {\r\n        this._defaultConfig = TooltipDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this._setUpEventsThrottled = throttle(this._setUpEvents, 500);\r\n        this._setContainerPositionThrottled = throttle(this._setContainerPosition, 500);\r\n        this._isShown = false;\r\n        this.element = document.createElement('div');\r\n        this.div = select(this.element)\r\n            .attr('class', root)\r\n            .classed(show, false)\r\n            .classed(hidden, true);\r\n        this.setConfig(config);\r\n        this.components = this.config.components;\r\n        // Set up MutationObserver to automatically re-position the tooltip\r\n        // if the content has been dynamically changed\r\n        this._mutationObserver = new MutationObserver(() => {\r\n            if (!this._isShown)\r\n                return;\r\n            // Handle changes to the content of this.div\r\n            // Add your logic here\r\n            if (!this.config.followCursor && this._hoveredElement) {\r\n                this.placeByElement(this._hoveredElement);\r\n            }\r\n            else if (this._position) {\r\n                this.place({ x: this._position[0], y: this._position[1] });\r\n            }\r\n        });\r\n        this._mutationObserver.observe(this.div.node(), { childList: true, subtree: true });\r\n    }\r\n    setConfig(config) {\r\n        var _a;\r\n        this.prevConfig = this.config;\r\n        this.config = merge(this._defaultConfig, config);\r\n        // Reset `this._overriddenHorizontalPlacement` if the `horizontalPlacement` has changed\r\n        if (this.prevConfig.horizontalPlacement !== this.config.horizontalPlacement) {\r\n            this.overrideHorizontalPlacement(undefined);\r\n        }\r\n        if (this.config.container && (this.config.container !== ((_a = this.prevConfig) === null || _a === void 0 ? void 0 : _a.container))) {\r\n            this.setContainer(this.config.container);\r\n        }\r\n        this._setUpAttributes();\r\n    }\r\n    setContainer(container) {\r\n        var _a;\r\n        (_a = this.element.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(this.element);\r\n        this._container = container;\r\n        this._container.appendChild(this.element);\r\n        this._setContainerPositionThrottled();\r\n    }\r\n    getContainer() {\r\n        return this._container;\r\n    }\r\n    hasContainer() {\r\n        return !!this._container && this._container.isConnected;\r\n    }\r\n    setComponents(components) {\r\n        this.components = components;\r\n    }\r\n    update() {\r\n        if (!this._container)\r\n            return;\r\n        this._setUpEventsThrottled();\r\n    }\r\n    /** Show the tooltip immediately by providing content and position */\r\n    show(html, pos) {\r\n        this.render(html);\r\n        this.place(pos);\r\n    }\r\n    _hide() {\r\n        this.div\r\n            .classed(show, false) // The `show` class triggers the opacity transition\r\n            .on('transitionend', () => {\r\n            // We hide the element once the transition completes\r\n            // This ensures container overflow will not occur when the window is resized\r\n            this.div.classed(hidden, !this._isShown);\r\n        });\r\n        this._isShown = false;\r\n    }\r\n    /** Hides the tooltip after `hideDelay` */\r\n    hide() {\r\n        window.clearTimeout(this._showDelayTimeoutId);\r\n        if (this.config.hideDelay) {\r\n            window.clearTimeout(this._hideDelayTimeoutId);\r\n            this._hideDelayTimeoutId = setTimeout(() => this._hide(), this.config.hideDelay);\r\n        }\r\n        else {\r\n            this._hide();\r\n        }\r\n    }\r\n    _display() {\r\n        window.clearTimeout(this._hideDelayTimeoutId);\r\n        this.div\r\n            .classed(hidden, false) // The `hidden` class sets `display: none;`\r\n            .classed(show, true); // The `show` class triggers the opacity transition\r\n        this._isShown = true;\r\n    }\r\n    /** Simply display the tooltip with its previous content on position, taking into account `showDelay` */\r\n    display() {\r\n        if (this._isShown)\r\n            return;\r\n        if (this.config.showDelay) {\r\n            window.clearTimeout(this._showDelayTimeoutId);\r\n            this._showDelayTimeoutId = setTimeout(() => {\r\n                this._display();\r\n                this.place({ x: this._position[0], y: this._position[1] });\r\n            }, this.config.showDelay);\r\n        }\r\n        else {\r\n            this._display();\r\n        }\r\n    }\r\n    place(pos) {\r\n        this._position = [pos.x, pos.y];\r\n        if (!this.hasContainer()) {\r\n            console.warn('Unovis | Tooltip: Container was not set or is not initialized yet');\r\n            return;\r\n        }\r\n        const { config } = this;\r\n        const tooltipWidth = this.element.offsetWidth;\r\n        const tooltipHeight = this.element.offsetHeight;\r\n        const horizontalPlacement = this._overriddenHorizontalPlacement ||\r\n            (config.horizontalPlacement === Position.Auto\r\n                ? Position.Center\r\n                : config.horizontalPlacement);\r\n        const verticalPlacement = config.verticalPlacement === Position.Auto\r\n            ? ((pos.y - tooltipHeight) < 0 ? Position.Bottom : Position.Top)\r\n            : config.verticalPlacement;\r\n        // Todo: Get rid of the hardcoded margin in version 2.0\r\n        // Can be simply replaced with `verticalShift` and `horizontalShift`\r\n        // but it'll be a breaking change\r\n        const margin = 5;\r\n        const translateX = horizontalPlacement === Position.Left ? -tooltipWidth - margin - config.horizontalShift\r\n            : horizontalPlacement === Position.Center ? -tooltipWidth / 2\r\n                : margin + config.horizontalShift;\r\n        const translateY = verticalPlacement === Position.Bottom ? margin + config.verticalShift\r\n            : verticalPlacement === Position.Center ? -tooltipHeight / 2\r\n                : -margin - config.verticalShift - tooltipHeight;\r\n        // translateX and translateY variables shift the tooltip from the default position (above the cursor, centred horizontally)\r\n        const [top, left] = this._constraintPosToContainer(pos.x + translateX, pos.y + translateY, tooltipWidth, tooltipHeight);\r\n        this._applyPosition(top, left, tooltipHeight);\r\n    }\r\n    placeByElement(hoveredElement) {\r\n        const { config } = this;\r\n        // Store the hovered element and the event for future reference,\r\n        // i.e. to re-position the tooltip if the content has been changed\r\n        // by something else and it was captured by the MutationObserver\r\n        this._hoveredElement = hoveredElement;\r\n        // Todo: Get rid of the hardcoded margin in version 2.0\r\n        // Can be simply replaced with `verticalShift` and `horizontalShift`\r\n        // but it'll be a breaking change\r\n        const margin = 5;\r\n        const tooltipWidth = this.element.offsetWidth;\r\n        const tooltipHeight = this.element.offsetHeight;\r\n        const isContainerBody = this.isContainerBody();\r\n        const containerWidth = isContainerBody ? window.innerWidth : this._container.scrollWidth;\r\n        const hoveredElementRect = hoveredElement.getBoundingClientRect();\r\n        // We use D3's point transformation to get the correct position of the element by pretending it's a pointer event\r\n        // See more: https://github.com/d3/d3-selection/blob/main/src/pointer.js\r\n        const elementPos = isContainerBody ? [hoveredElementRect.x, hoveredElementRect.y] : pointer({\r\n            clientX: hoveredElementRect.x,\r\n            clientY: hoveredElementRect.y,\r\n            pageX: hoveredElementRect.x,\r\n            pageY: hoveredElementRect.y,\r\n        }, this._container);\r\n        const horizontalPlacement = this._overriddenHorizontalPlacement || (config.horizontalPlacement === Position.Auto\r\n            ? (elementPos[0] - tooltipWidth < 0 ? Position.Right\r\n                : elementPos[0] + tooltipWidth > containerWidth ? Position.Left : Position.Center)\r\n            : config.horizontalPlacement);\r\n        let translateX = 0;\r\n        switch (horizontalPlacement) {\r\n            case Position.Left:\r\n                translateX = -tooltipWidth - margin - config.horizontalShift;\r\n                break;\r\n            case Position.Right:\r\n                translateX = hoveredElementRect.width + margin + config.horizontalShift;\r\n                break;\r\n            case Position.Center:\r\n            default:\r\n                translateX = (-tooltipWidth + hoveredElementRect.width) / 2;\r\n                break;\r\n        }\r\n        const verticalPlacement = config.verticalPlacement === Position.Auto\r\n            ? (horizontalPlacement !== Position.Center ? Position.Center\r\n                : elementPos[1] - tooltipHeight < 0 ? Position.Bottom : Position.Top)\r\n            : config.verticalPlacement;\r\n        let translateY = -tooltipHeight;\r\n        switch (verticalPlacement) {\r\n            case Position.Center:\r\n                translateY += (tooltipHeight + hoveredElementRect.height) / 2;\r\n                break;\r\n            case Position.Bottom:\r\n                translateY += tooltipHeight + hoveredElementRect.height + margin + config.verticalShift;\r\n                break;\r\n            case Position.Top:\r\n            default:\r\n                translateY += -margin - config.verticalShift;\r\n                break;\r\n        }\r\n        const [top, left] = this._constraintPosToContainer(elementPos[0] + translateX, elementPos[1] + translateY, tooltipWidth, tooltipHeight);\r\n        this._applyPosition(top, left, tooltipHeight);\r\n    }\r\n    isContainerBody() {\r\n        return this._container === document.body;\r\n    }\r\n    /** Allows to override the horizontal placement of the tooltip which is useful when you want to define custom positioning behavior.\r\n     * This method has been added for Crosshair to allow it position tooltip left or right of the crosshair line\r\n     * (see the `_showTooltip` method of the Crosshair component).\r\n     */\r\n    overrideHorizontalPlacement(placement) {\r\n        this._overriddenHorizontalPlacement = placement;\r\n    }\r\n    render(html) {\r\n        var _a;\r\n        const { config, prevConfig } = this;\r\n        if (html instanceof HTMLElement) {\r\n            const node = this.div.select(':first-child').node();\r\n            if (node !== html)\r\n                this.div.html('').append(() => html);\r\n        }\r\n        else if (html !== null) {\r\n            this.div.html(html || '');\r\n        }\r\n        this.div\r\n            .classed((_a = config.className) !== null && _a !== void 0 ? _a : '', Boolean(config.className))\r\n            .classed(nonInteractive, !config.allowHover);\r\n        // Remove the previous class name if it was set\r\n        if ((prevConfig === null || prevConfig === void 0 ? void 0 : prevConfig.className) && prevConfig.className !== config.className) {\r\n            this.div.classed(prevConfig.className, false);\r\n        }\r\n        this.display();\r\n    }\r\n    _applyPosition(x, y, tooltipHeight) {\r\n        const isContainerBody = this.isContainerBody();\r\n        const containerHeight = isContainerBody ? window.innerHeight : this._container.scrollHeight;\r\n        this.div\r\n            .classed(positionFixed, isContainerBody)\r\n            .style('top', isContainerBody ? `${y}px` : 'unset')\r\n            .style('bottom', !isContainerBody ? `${containerHeight - y - tooltipHeight}px` : 'unset')\r\n            .style('left', `${x}px`);\r\n    }\r\n    _constraintPosToContainer(top, left, tooltipWidth, tooltipHeight) {\r\n        const isContainerBody = this.isContainerBody();\r\n        const containerHeight = isContainerBody ? window.innerHeight : this._container.scrollHeight;\r\n        const containerWidth = isContainerBody ? window.innerWidth : this._container.scrollWidth;\r\n        // // Constraint to container\r\n        const paddingX = 10;\r\n        const hitRight = top > (containerWidth - tooltipWidth - paddingX);\r\n        const hitLeft = top < paddingX;\r\n        const constrainedLeft = hitRight ? containerWidth - tooltipWidth - paddingX\r\n            : hitLeft ? paddingX : top;\r\n        const paddingY = 10;\r\n        const hitBottom = left > (containerHeight - tooltipHeight - paddingY);\r\n        const hitTop = left < paddingY;\r\n        const constrainedTop = hitBottom ? containerHeight - tooltipHeight - paddingY\r\n            : hitTop ? paddingY : left;\r\n        return [\r\n            containerWidth < tooltipWidth ? 0 : constrainedLeft,\r\n            containerHeight < tooltipHeight ? 0 : constrainedTop,\r\n        ];\r\n    }\r\n    _setContainerPosition() {\r\n        var _a;\r\n        // Tooltip position calculation relies on the parent position\r\n        // If it's not set (static), we set it to `relative` (not a good practice)\r\n        if (this._container !== document.body && ((_a = getComputedStyle(this._container)) === null || _a === void 0 ? void 0 : _a.position) === 'static') {\r\n            this._container.style.position = 'relative';\r\n        }\r\n    }\r\n    _setUpEvents() {\r\n        const { config } = this;\r\n        // We use the Event Delegation pattern to set up Tooltip events\r\n        // Every component will have single `mousemove` and `mouseleave` event listener functions, where we'll check\r\n        // the `path` of the event and trigger corresponding callbacks\r\n        this.components.forEach(component => {\r\n            const selection = select(component.element);\r\n            selection\r\n                .on('mousemove.tooltip', (e) => {\r\n                const { config: currentConfig } = this; // get latest config because it could have been changed after the event was triggered\r\n                const path = (e.composedPath && e.composedPath()) || e.path || [e.target];\r\n                // Go through all of the configured triggers\r\n                for (const className of Object.keys(currentConfig.triggers)) {\r\n                    const template = currentConfig.triggers[className];\r\n                    if (!template)\r\n                        continue; // Skip if the trigger is not configured\r\n                    const els = selection.selectAll(`.${className}`).nodes();\r\n                    // Go through all of the elements in the event path (from the deepest element upwards)\r\n                    for (const el of path) {\r\n                        if (el === selection.node())\r\n                            break; // Break on the component's level (usually the `<g>` element)\r\n                        if (el.classList.contains(className)) { // If there's a match, show the tooltip\r\n                            const i = els.indexOf(el);\r\n                            const d = select(el).datum();\r\n                            const content = template(d, i, els);\r\n                            const [x, y] = this.isContainerBody() ? [e.clientX, e.clientY] : pointer(e, this._container);\r\n                            if (content === null) {\r\n                                // If the content is `null`, we hide the tooltip\r\n                                this.hide();\r\n                            }\r\n                            else {\r\n                                // Otherwise we show the tooltip, but don't render the content if it's `undefined` or\r\n                                // an empty string. This way we can allow it to work with things like `createPortal` in React\r\n                                this.render(content);\r\n                                if (currentConfig.followCursor)\r\n                                    this.place({ x, y });\r\n                                else\r\n                                    this.placeByElement(el);\r\n                            }\r\n                            // Stop propagation to prevent other interfering events from being triggered, e.g. Crosshair\r\n                            e.stopPropagation();\r\n                            // Stop looking for other matches\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                // Hide the tooltip if the event didn't pass through any of the configured triggers.\r\n                // We use the `this._isShown` condition as a little performance optimization tweak\r\n                // (we don't want the tooltip to update its class on every mouse movement, see `this.hide()`).\r\n                if (this._isShown)\r\n                    this.hide();\r\n            })\r\n                .on('mouseleave.tooltip', (e) => {\r\n                e.stopPropagation(); // Stop propagation to prevent other interfering events from being triggered, e.g. Crosshair\r\n                this.hide();\r\n            });\r\n        });\r\n        // Set up Tooltip hover\r\n        if (config.allowHover) {\r\n            this.div\r\n                .on('mouseenter.tooltip', this._display.bind(this))\r\n                .on('mouseleave.tooltip', this.hide.bind(this));\r\n        }\r\n        else {\r\n            this.div\r\n                .on('mouseenter.tooltip', null)\r\n                .on('mouseleave.tooltip', null);\r\n        }\r\n    }\r\n    _setUpAttributes() {\r\n        const attributesMap = this.config.attributes;\r\n        if (!attributesMap)\r\n            return;\r\n        Object.keys(attributesMap).forEach(attr => {\r\n            this.div.attr(attr, attributesMap[attr]);\r\n        });\r\n    }\r\n    destroy() {\r\n        var _a;\r\n        this._mutationObserver.disconnect();\r\n        window.clearTimeout(this._hideDelayTimeoutId);\r\n        window.clearTimeout(this._showDelayTimeoutId);\r\n        (_a = this.div) === null || _a === void 0 ? void 0 : _a.remove();\r\n    }\r\n}\r\nTooltip.selectors = style;\n\nexport { Tooltip };\n\n", "var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n", "export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n", "export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n", "import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n", "function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n", "export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n", "import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n", "import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n", "export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n", "export default function(d) {\n  return d;\n}\n", "import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n", "import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n", "import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n", "import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n", "export var slice = Array.prototype.slice;\n", "import {pi, tau} from \"../math.js\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n", "export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n", "var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n", "import {pi, tau} from \"../math.js\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n", "export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n", "var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n", "var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n", "import {path} from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n", "export default function() {}\n", "export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n", "import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n", "import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n", "import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n", "export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n", "function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n", "function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n", "function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n", "function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\n/**\n * de Casteljau's algorithm for drawing and splitting bezier curves.\n * Inspired by https://pomax.github.io/bezierinfo/\n *\n * @param {Number[][]} points Array of [x,y] points: [start, control1, control2, ..., end]\n *   The original segment to split.\n * @param {Number} t Where to split the curve (value between [0, 1])\n * @return {Object} An object { left, right } where left is the segment from 0..t and\n *   right is the segment from t..1.\n */\nfunction decasteljau(points, t) {\n  var left = [];\n  var right = [];\n\n  function decasteljauRecurse(points, t) {\n    if (points.length === 1) {\n      left.push(points[0]);\n      right.push(points[0]);\n    } else {\n      var newPoints = Array(points.length - 1);\n\n      for (var i = 0; i < newPoints.length; i++) {\n        if (i === 0) {\n          left.push(points[0]);\n        }\n\n        if (i === newPoints.length - 1) {\n          right.push(points[i + 1]);\n        }\n\n        newPoints[i] = [(1 - t) * points[i][0] + t * points[i + 1][0], (1 - t) * points[i][1] + t * points[i + 1][1]];\n      }\n\n      decasteljauRecurse(newPoints, t);\n    }\n  }\n\n  if (points.length) {\n    decasteljauRecurse(points, t);\n  }\n\n  return {\n    left: left,\n    right: right.reverse()\n  };\n}\n/**\n * Convert segments represented as points back into a command object\n *\n * @param {Number[][]} points Array of [x,y] points: [start, control1, control2, ..., end]\n *   Represents a segment\n * @return {Object} A command object representing the segment.\n */\n\n\nfunction pointsToCommand(points) {\n  var command = {};\n\n  if (points.length === 4) {\n    command.x2 = points[2][0];\n    command.y2 = points[2][1];\n  }\n\n  if (points.length >= 3) {\n    command.x1 = points[1][0];\n    command.y1 = points[1][1];\n  }\n\n  command.x = points[points.length - 1][0];\n  command.y = points[points.length - 1][1];\n\n  if (points.length === 4) {\n    // start, control1, control2, end\n    command.type = 'C';\n  } else if (points.length === 3) {\n    // start, control, end\n    command.type = 'Q';\n  } else {\n    // start, end\n    command.type = 'L';\n  }\n\n  return command;\n}\n/**\n * Runs de Casteljau's algorithm enough times to produce the desired number of segments.\n *\n * @param {Number[][]} points Array of [x,y] points for de Casteljau (the initial segment to split)\n * @param {Number} segmentCount Number of segments to split the original into\n * @return {Number[][][]} Array of segments\n */\n\n\nfunction splitCurveAsPoints(points, segmentCount) {\n  segmentCount = segmentCount || 2;\n  var segments = [];\n  var remainingCurve = points;\n  var tIncrement = 1 / segmentCount; // x-----x-----x-----x\n  // t=  0.33   0.66   1\n  // x-----o-----------x\n  // r=  0.33\n  //       x-----o-----x\n  // r=         0.5  (0.33 / (1 - 0.33))  === tIncrement / (1 - (tIncrement * (i - 1))\n  // x-----x-----x-----x----x\n  // t=  0.25   0.5   0.75  1\n  // x-----o----------------x\n  // r=  0.25\n  //       x-----o----------x\n  // r=         0.33  (0.25 / (1 - 0.25))\n  //             x-----o----x\n  // r=         0.5  (0.25 / (1 - 0.5))\n\n  for (var i = 0; i < segmentCount - 1; i++) {\n    var tRelative = tIncrement / (1 - tIncrement * i);\n    var split = decasteljau(remainingCurve, tRelative);\n    segments.push(split.left);\n    remainingCurve = split.right;\n  } // last segment is just to the end from the last point\n\n\n  segments.push(remainingCurve);\n  return segments;\n}\n/**\n * Convert command objects to arrays of points, run de Casteljau's algorithm on it\n * to split into to the desired number of segments.\n *\n * @param {Object} commandStart The start command object\n * @param {Object} commandEnd The end command object\n * @param {Number} segmentCount The number of segments to create\n * @return {Object[]} An array of commands representing the segments in sequence\n */\n\n\nfunction splitCurve(commandStart, commandEnd, segmentCount) {\n  var points = [[commandStart.x, commandStart.y]];\n\n  if (commandEnd.x1 != null) {\n    points.push([commandEnd.x1, commandEnd.y1]);\n  }\n\n  if (commandEnd.x2 != null) {\n    points.push([commandEnd.x2, commandEnd.y2]);\n  }\n\n  points.push([commandEnd.x, commandEnd.y]);\n  return splitCurveAsPoints(points, segmentCount).map(pointsToCommand);\n}\n\nvar commandTokenRegex = /[MLCSTQAHVZmlcstqahv]|-?[\\d.e+-]+/g;\n/**\n * List of params for each command type in a path `d` attribute\n */\n\nvar typeMap = {\n  M: ['x', 'y'],\n  L: ['x', 'y'],\n  H: ['x'],\n  V: ['y'],\n  C: ['x1', 'y1', 'x2', 'y2', 'x', 'y'],\n  S: ['x2', 'y2', 'x', 'y'],\n  Q: ['x1', 'y1', 'x', 'y'],\n  T: ['x', 'y'],\n  A: ['rx', 'ry', 'xAxisRotation', 'largeArcFlag', 'sweepFlag', 'x', 'y'],\n  Z: []\n}; // Add lower case entries too matching uppercase (e.g. 'm' == 'M')\n\nObject.keys(typeMap).forEach(function (key) {\n  typeMap[key.toLowerCase()] = typeMap[key];\n});\n\nfunction arrayOfLength(length, value) {\n  var array = Array(length);\n\n  for (var i = 0; i < length; i++) {\n    array[i] = value;\n  }\n\n  return array;\n}\n/**\n * Converts a command object to a string to be used in a `d` attribute\n * @param {Object} command A command object\n * @return {String} The string for the `d` attribute\n */\n\n\nfunction commandToString(command) {\n  return \"\".concat(command.type).concat(typeMap[command.type].map(function (p) {\n    return command[p];\n  }).join(','));\n}\n/**\n * Converts command A to have the same type as command B.\n *\n * e.g., L0,5 -> C0,5,0,5,0,5\n *\n * Uses these rules:\n * x1 <- x\n * x2 <- x\n * y1 <- y\n * y2 <- y\n * rx <- 0\n * ry <- 0\n * xAxisRotation <- read from B\n * largeArcFlag <- read from B\n * sweepflag <- read from B\n *\n * @param {Object} aCommand Command object from path `d` attribute\n * @param {Object} bCommand Command object from path `d` attribute to match against\n * @return {Object} aCommand converted to type of bCommand\n */\n\n\nfunction convertToSameType(aCommand, bCommand) {\n  var conversionMap = {\n    x1: 'x',\n    y1: 'y',\n    x2: 'x',\n    y2: 'y'\n  };\n  var readFromBKeys = ['xAxisRotation', 'largeArcFlag', 'sweepFlag']; // convert (but ignore M types)\n\n  if (aCommand.type !== bCommand.type && bCommand.type.toUpperCase() !== 'M') {\n    var aConverted = {};\n    Object.keys(bCommand).forEach(function (bKey) {\n      var bValue = bCommand[bKey]; // first read from the A command\n\n      var aValue = aCommand[bKey]; // if it is one of these values, read from B no matter what\n\n      if (aValue === undefined) {\n        if (readFromBKeys.includes(bKey)) {\n          aValue = bValue;\n        } else {\n          // if it wasn't in the A command, see if an equivalent was\n          if (aValue === undefined && conversionMap[bKey]) {\n            aValue = aCommand[conversionMap[bKey]];\n          } // if it doesn't have a converted value, use 0\n\n\n          if (aValue === undefined) {\n            aValue = 0;\n          }\n        }\n      }\n\n      aConverted[bKey] = aValue;\n    }); // update the type to match B\n\n    aConverted.type = bCommand.type;\n    aCommand = aConverted;\n  }\n\n  return aCommand;\n}\n/**\n * Interpolate between command objects commandStart and commandEnd segmentCount times.\n * If the types are L, Q, or C then the curves are split as per de Casteljau's algorithm.\n * Otherwise we just copy commandStart segmentCount - 1 times, finally ending with commandEnd.\n *\n * @param {Object} commandStart Command object at the beginning of the segment\n * @param {Object} commandEnd Command object at the end of the segment\n * @param {Number} segmentCount The number of segments to split this into. If only 1\n *   Then [commandEnd] is returned.\n * @return {Object[]} Array of ~segmentCount command objects between commandStart and\n *   commandEnd. (Can be segmentCount+1 objects if commandStart is type M).\n */\n\n\nfunction splitSegment(commandStart, commandEnd, segmentCount) {\n  var segments = []; // line, quadratic bezier, or cubic bezier\n\n  if (commandEnd.type === 'L' || commandEnd.type === 'Q' || commandEnd.type === 'C') {\n    segments = segments.concat(splitCurve(commandStart, commandEnd, segmentCount)); // general case - just copy the same point\n  } else {\n    var copyCommand = _extends({}, commandStart); // convert M to L\n\n\n    if (copyCommand.type === 'M') {\n      copyCommand.type = 'L';\n    }\n\n    segments = segments.concat(arrayOfLength(segmentCount - 1).map(function () {\n      return copyCommand;\n    }));\n    segments.push(commandEnd);\n  }\n\n  return segments;\n}\n/**\n * Extends an array of commandsToExtend to the length of the referenceCommands by\n * splitting segments until the number of commands match. Ensures all the actual\n * points of commandsToExtend are in the extended array.\n *\n * @param {Object[]} commandsToExtend The command object array to extend\n * @param {Object[]} referenceCommands The command object array to match in length\n * @param {Function} excludeSegment a function that takes a start command object and\n *   end command object and returns true if the segment should be excluded from splitting.\n * @return {Object[]} The extended commandsToExtend array\n */\n\n\nfunction extend(commandsToExtend, referenceCommands, excludeSegment) {\n  // compute insertion points:\n  // number of segments in the path to extend\n  var numSegmentsToExtend = commandsToExtend.length - 1; // number of segments in the reference path.\n\n  var numReferenceSegments = referenceCommands.length - 1; // this value is always between [0, 1].\n\n  var segmentRatio = numSegmentsToExtend / numReferenceSegments; // create a map, mapping segments in referenceCommands to how many points\n  // should be added in that segment (should always be >= 1 since we need each\n  // point itself).\n  // 0 = segment 0-1, 1 = segment 1-2, n-1 = last vertex\n\n  var countPointsPerSegment = arrayOfLength(numReferenceSegments).reduce(function (accum, d, i) {\n    var insertIndex = Math.floor(segmentRatio * i); // handle excluding segments\n\n    if (excludeSegment && insertIndex < commandsToExtend.length - 1 && excludeSegment(commandsToExtend[insertIndex], commandsToExtend[insertIndex + 1])) {\n      // set the insertIndex to the segment that this point should be added to:\n      // round the insertIndex essentially so we split half and half on\n      // neighbouring segments. hence the segmentRatio * i < 0.5\n      var addToPriorSegment = segmentRatio * i % 1 < 0.5; // only skip segment if we already have 1 point in it (can't entirely remove a segment)\n\n      if (accum[insertIndex]) {\n        // TODO - Note this is a naive algorithm that should work for most d3-area use cases\n        // but if two adjacent segments are supposed to be skipped, this will not perform as\n        // expected. Could be updated to search for nearest segment to place the point in, but\n        // will only do that if necessary.\n        // add to the prior segment\n        if (addToPriorSegment) {\n          if (insertIndex > 0) {\n            insertIndex -= 1; // not possible to add to previous so adding to next\n          } else if (insertIndex < commandsToExtend.length - 1) {\n            insertIndex += 1;\n          } // add to next segment\n\n        } else if (insertIndex < commandsToExtend.length - 1) {\n          insertIndex += 1; // not possible to add to next so adding to previous\n        } else if (insertIndex > 0) {\n          insertIndex -= 1;\n        }\n      }\n    }\n\n    accum[insertIndex] = (accum[insertIndex] || 0) + 1;\n    return accum;\n  }, []); // extend each segment to have the correct number of points for a smooth interpolation\n\n  var extended = countPointsPerSegment.reduce(function (extended, segmentCount, i) {\n    // if last command, just add `segmentCount` number of times\n    if (i === commandsToExtend.length - 1) {\n      var lastCommandCopies = arrayOfLength(segmentCount, _extends({}, commandsToExtend[commandsToExtend.length - 1])); // convert M to L\n\n      if (lastCommandCopies[0].type === 'M') {\n        lastCommandCopies.forEach(function (d) {\n          d.type = 'L';\n        });\n      }\n\n      return extended.concat(lastCommandCopies);\n    } // otherwise, split the segment segmentCount times.\n\n\n    return extended.concat(splitSegment(commandsToExtend[i], commandsToExtend[i + 1], segmentCount));\n  }, []); // add in the very first point since splitSegment only adds in the ones after it\n\n  extended.unshift(commandsToExtend[0]);\n  return extended;\n}\n/**\n * Takes a path `d` string and converts it into an array of command\n * objects. Drops the `Z` character.\n *\n * @param {String|null} d A path `d` string\n */\n\n\nfunction pathCommandsFromString(d) {\n  // split into valid tokens\n  var tokens = (d || '').match(commandTokenRegex) || [];\n  var commands = [];\n  var commandArgs;\n  var command; // iterate over each token, checking if we are at a new command\n  // by presence in the typeMap\n\n  for (var i = 0; i < tokens.length; ++i) {\n    commandArgs = typeMap[tokens[i]]; // new command found:\n\n    if (commandArgs) {\n      command = {\n        type: tokens[i]\n      }; // add each of the expected args for this command:\n\n      for (var a = 0; a < commandArgs.length; ++a) {\n        command[commandArgs[a]] = +tokens[i + a + 1];\n      } // need to increment our token index appropriately since\n      // we consumed token args\n\n\n      i += commandArgs.length;\n      commands.push(command);\n    }\n  }\n\n  return commands;\n}\n/**\n * Interpolate from A to B by extending A and B during interpolation to have\n * the same number of points. This allows for a smooth transition when they\n * have a different number of points.\n *\n * Ignores the `Z` command in paths unless both A and B end with it.\n *\n * This function works directly with arrays of command objects instead of with\n * path `d` strings (see interpolatePath for working with `d` strings).\n *\n * @param {Object[]} aCommandsInput Array of path commands\n * @param {Object[]} bCommandsInput Array of path commands\n * @param {(Function|Object)} interpolateOptions\n * @param {Function} interpolateOptions.excludeSegment a function that takes a start command object and\n *   end command object and returns true if the segment should be excluded from splitting.\n * @param {Boolean} interpolateOptions.snapEndsToInput a boolean indicating whether end of input should\n *   be sourced from input argument or computed.\n * @returns {Function} Interpolation function that maps t ([0, 1]) to an array of path commands.\n */\n\nfunction interpolatePathCommands(aCommandsInput, bCommandsInput, interpolateOptions) {\n  // make a copy so we don't mess with the input arrays\n  var aCommands = aCommandsInput == null ? [] : aCommandsInput.slice();\n  var bCommands = bCommandsInput == null ? [] : bCommandsInput.slice();\n\n  var _ref = _typeof(interpolateOptions) === 'object' ? interpolateOptions : {\n    excludeSegment: interpolateOptions,\n    snapEndsToInput: true\n  },\n      excludeSegment = _ref.excludeSegment,\n      snapEndsToInput = _ref.snapEndsToInput; // both input sets are empty, so we don't interpolate\n\n\n  if (!aCommands.length && !bCommands.length) {\n    return function nullInterpolator() {\n      return [];\n    };\n  } // do we add Z during interpolation? yes if both have it. (we'd expect both to have it or not)\n\n\n  var addZ = (aCommands.length === 0 || aCommands[aCommands.length - 1].type === 'Z') && (bCommands.length === 0 || bCommands[bCommands.length - 1].type === 'Z'); // we temporarily remove Z\n\n  if (aCommands.length > 0 && aCommands[aCommands.length - 1].type === 'Z') {\n    aCommands.pop();\n  }\n\n  if (bCommands.length > 0 && bCommands[bCommands.length - 1].type === 'Z') {\n    bCommands.pop();\n  } // if A is empty, treat it as if it used to contain just the first point\n  // of B. This makes it so the line extends out of from that first point.\n\n\n  if (!aCommands.length) {\n    aCommands.push(bCommands[0]); // otherwise if B is empty, treat it as if it contains the first point\n    // of A. This makes it so the line retracts into the first point.\n  } else if (!bCommands.length) {\n    bCommands.push(aCommands[0]);\n  } // extend to match equal size\n\n\n  var numPointsToExtend = Math.abs(bCommands.length - aCommands.length);\n\n  if (numPointsToExtend !== 0) {\n    // B has more points than A, so add points to A before interpolating\n    if (bCommands.length > aCommands.length) {\n      aCommands = extend(aCommands, bCommands, excludeSegment); // else if A has more points than B, add more points to B\n    } else if (bCommands.length < aCommands.length) {\n      bCommands = extend(bCommands, aCommands, excludeSegment);\n    }\n  } // commands have same length now.\n  // convert commands in A to the same type as those in B\n\n\n  aCommands = aCommands.map(function (aCommand, i) {\n    return convertToSameType(aCommand, bCommands[i]);\n  }); // create mutable interpolated command objects\n\n  var interpolatedCommands = aCommands.map(function (aCommand) {\n    return _objectSpread2({}, aCommand);\n  });\n\n  if (addZ) {\n    interpolatedCommands.push({\n      type: 'Z'\n    });\n    aCommands.push({\n      type: 'Z'\n    }); // required for when returning at t == 0\n  }\n\n  return function pathCommandInterpolator(t) {\n    // at 1 return the final value without the extensions used during interpolation\n    if (t === 1 && snapEndsToInput) {\n      return bCommandsInput == null ? [] : bCommandsInput;\n    } // work with aCommands directly since interpolatedCommands are mutated\n\n\n    if (t === 0) {\n      return aCommands;\n    } // interpolate the commands using the mutable interpolated command objs\n\n\n    for (var i = 0; i < interpolatedCommands.length; ++i) {\n      // if (interpolatedCommands[i].type === 'Z') continue;\n      var aCommand = aCommands[i];\n      var bCommand = bCommands[i];\n      var interpolatedCommand = interpolatedCommands[i];\n\n      var _iterator = _createForOfIteratorHelper(typeMap[interpolatedCommand.type]),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var arg = _step.value;\n          interpolatedCommand[arg] = (1 - t) * aCommand[arg] + t * bCommand[arg]; // do not use floats for flags (#27), round to integer\n\n          if (arg === 'largeArcFlag' || arg === 'sweepFlag') {\n            interpolatedCommand[arg] = Math.round(interpolatedCommand[arg]);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    return interpolatedCommands;\n  };\n}\n/** @typedef InterpolateOptions  */\n\n/**\n * Interpolate from A to B by extending A and B during interpolation to have\n * the same number of points. This allows for a smooth transition when they\n * have a different number of points.\n *\n * Ignores the `Z` character in paths unless both A and B end with it.\n *\n * @param {String} a The `d` attribute for a path\n * @param {String} b The `d` attribute for a path\n * @param {((command1, command2) => boolean|{\n *   excludeSegment?: (command1, command2) => boolean;\n *   snapEndsToInput?: boolean\n * })} interpolateOptions The excludeSegment function or an options object\n *    - interpolateOptions.excludeSegment a function that takes a start command object and\n *      end command object and returns true if the segment should be excluded from splitting.\n *    - interpolateOptions.snapEndsToInput a boolean indicating whether end of input should\n *      be sourced from input argument or computed.\n * @returns {Function} Interpolation function that maps t ([0, 1]) to a path `d` string.\n */\n\nfunction interpolatePath(a, b, interpolateOptions) {\n  var aCommands = pathCommandsFromString(a);\n  var bCommands = pathCommandsFromString(b);\n\n  var _ref2 = _typeof(interpolateOptions) === 'object' ? interpolateOptions : {\n    excludeSegment: interpolateOptions,\n    snapEndsToInput: true\n  },\n      excludeSegment = _ref2.excludeSegment,\n      snapEndsToInput = _ref2.snapEndsToInput;\n\n  if (!aCommands.length && !bCommands.length) {\n    return function nullInterpolator() {\n      return '';\n    };\n  }\n\n  var commandInterpolator = interpolatePathCommands(aCommands, bCommands, {\n    excludeSegment: excludeSegment,\n    snapEndsToInput: snapEndsToInput\n  });\n  return function pathStringInterpolator(t) {\n    // at 1 return the final value without the extensions used during interpolation\n    if (t === 1 && snapEndsToInput) {\n      return b == null ? '' : b;\n    }\n\n    var interpolatedCommands = commandInterpolator(t); // convert to a string (fastest concat: https://jsperf.com/join-concat/150)\n\n    var interpolatedString = '';\n\n    var _iterator2 = _createForOfIteratorHelper(interpolatedCommands),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var interpolatedCommand = _step2.value;\n        interpolatedString += commandToString(interpolatedCommand);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    return interpolatedString;\n  };\n}\n\nexport { interpolatePath, interpolatePathCommands, pathCommandsFromString };\n", "import { color, hcl } from 'd3-color';\nimport { getCSSColorVariable } from '../styles/colors.js';\nimport { getString, isNumber } from './data.js';\nimport { isStringCSSVariable, getCSSVariableValue } from './misc.js';\n\n/** Retrieves color from the data if provided, fallbacks to CSS variables if the index was passed */\r\nfunction getColor(d, accessor, index, dontFallbackToCssVar) {\r\n    if (Array.isArray(accessor) && isFinite(index))\r\n        return accessor[index % accessor.length];\r\n    const value = getString(d, accessor, index);\r\n    return (value || ((isNumber(index) && !dontFallbackToCssVar) ? `var(${getCSSColorVariable(index)})` : null));\r\n}\r\nfunction hexToRgb(hex) {\r\n    const parsed = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return parsed ? {\r\n        r: parseInt(parsed[1], 16),\r\n        g: parseInt(parsed[2], 16),\r\n        b: parseInt(parsed[3], 16),\r\n    } : { r: 0, g: 0, b: 0 };\r\n}\r\nfunction rgbToBrightness(rgb) {\r\n    return (0.2126 * rgb.r + 0.7152 * rgb.g + 0.0722 * rgb.b) / 255;\r\n}\r\nfunction hexToBrightness(hex) {\r\n    const rgb = hexToRgb(hex);\r\n    return rgbToBrightness(rgb);\r\n}\r\nfunction getHexValue(s, context) {\r\n    var _a;\r\n    const hex = isStringCSSVariable(s) ? getCSSVariableValue(s, context) : s;\r\n    return (_a = color(hex)) === null || _a === void 0 ? void 0 : _a.formatHex();\r\n}\r\nfunction rgbaToRgb(rgba, backgroundColor) {\r\n    var _a;\r\n    const rgb = (_a = color(rgba)) === null || _a === void 0 ? void 0 : _a.rgb();\r\n    if (!rgb || rgb.opacity === 1)\r\n        return rgb;\r\n    const alpha = 1 - rgb.opacity;\r\n    const bg = color(backgroundColor !== null && backgroundColor !== void 0 ? backgroundColor : '#fff').rgb();\r\n    return {\r\n        r: Math.round((rgb.opacity * (rgb.r / 255) + (alpha * (bg.r / 255))) * 255),\r\n        g: Math.round((rgb.opacity * (rgb.g / 255) + (alpha * (bg.g / 255))) * 255),\r\n        b: Math.round((rgb.opacity * (rgb.b / 255) + (alpha * (bg.b / 255))) * 255),\r\n    };\r\n}\r\n/**\r\n * Makes a color brighter by a certain amount\r\n * @param inputColor - The color to brighten (hex, rgb, or rgba)\r\n * @param amount - Amount to brighten by (0-1)\r\n * @returns The brightened color in hex format\r\n */\r\nfunction brighter(inputColor, amount) {\r\n    const c = hcl(inputColor);\r\n    if (!c)\r\n        return inputColor;\r\n    return c.brighter(amount).formatHex();\r\n}\r\nfunction isColorDark(color, threshold = 0.55) {\r\n    const hex = getHexValue(color, document.body);\r\n    if (!hex)\r\n        return false;\r\n    return hexToBrightness(hex) < threshold;\r\n}\n\nexport { brighter, getColor, getHexValue, hexToBrightness, hexToRgb, isColorDark, rgbToBrightness, rgbaToRgb };\n\n", "import { curveBasis, curveBasisClosed, curveBasisOpen, curveBundle, curveCardinal, curveCardinalClosed, curveCardinalOpen, curveCatmullRom, curveCatmullRomClosed, curveCatmullRomOpen, curveLinear, curveLinearClosed, curveMonotoneX, curveMonotoneY, curveNatural, curveStep, curveStepAfter, curveStepBefore } from 'd3-shape';\n\nvar CurveType;\r\n(function (CurveType) {\r\n    CurveType[\"Basis\"] = \"basis\";\r\n    CurveType[\"BasisClosed\"] = \"basisClosed\";\r\n    CurveType[\"BasisOpen\"] = \"basisOpen\";\r\n    CurveType[\"Bundle\"] = \"bundle\";\r\n    CurveType[\"Cardinal\"] = \"cardinal\";\r\n    CurveType[\"CardinalClosed\"] = \"cardinalClosed\";\r\n    CurveType[\"CardinalOpen\"] = \"cardinalOpen\";\r\n    CurveType[\"CatmullRom\"] = \"catmullRom\";\r\n    CurveType[\"CatmullRomClosed\"] = \"catmullRomClosed\";\r\n    CurveType[\"CatmullRomOpen\"] = \"catmullRomOpen\";\r\n    CurveType[\"Linear\"] = \"linear\";\r\n    CurveType[\"LinearClosed\"] = \"linearClosed\";\r\n    CurveType[\"MonotoneX\"] = \"monotoneX\";\r\n    CurveType[\"MonotoneY\"] = \"monotoneY\";\r\n    CurveType[\"Natural\"] = \"natural\";\r\n    CurveType[\"Step\"] = \"step\";\r\n    CurveType[\"StepAfter\"] = \"stepAfter\";\r\n    CurveType[\"StepBefore\"] = \"stepBefore\";\r\n})(CurveType || (CurveType = {}));\r\nconst Curve = {\r\n    [CurveType.Basis]: curveBasis,\r\n    [CurveType.BasisClosed]: curveBasisClosed,\r\n    [CurveType.BasisOpen]: curveBasisOpen,\r\n    [CurveType.Bundle]: curveBundle,\r\n    [CurveType.Cardinal]: curveCardinal,\r\n    [CurveType.CardinalClosed]: curveCardinalClosed,\r\n    [CurveType.CardinalOpen]: curveCardinalOpen,\r\n    [CurveType.CatmullRom]: curveCatmullRom,\r\n    [CurveType.CatmullRomClosed]: curveCatmullRomClosed,\r\n    [CurveType.CatmullRomOpen]: curveCatmullRomOpen,\r\n    [CurveType.Linear]: curveLinear,\r\n    [CurveType.LinearClosed]: curveLinearClosed,\r\n    [CurveType.MonotoneX]: curveMonotoneX,\r\n    [CurveType.MonotoneY]: curveMonotoneY,\r\n    [CurveType.Natural]: curveNatural,\r\n    [CurveType.Step]: curveStep,\r\n    [CurveType.StepAfter]: curveStepAfter,\r\n    [CurveType.StepBefore]: curveStepBefore,\r\n};\n\nexport { Curve, CurveType };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { CurveType } from '../../types/curve.js';\n\nconst LineDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { curveType: CurveType.MonotoneX, lineWidth: 2, lineDashArray: undefined, fallbackValue: undefined, highlightOnHover: false, cursor: null, interpolateMissingData: false });\n\nexport { LineDefaultConfig };\n\n", "import { injectGlobal, css } from '@emotion/css';\n\nconst globalStyles = injectGlobal `\n  :root {\n    --vis-line-cursor: default;\n    --vis-line-stroke-dasharray: none;\n    --vis-line-stroke-dashoffset: 0;\n\n    --vis-line-gapfill-stroke-dasharray: 2 3;\n    --vis-line-gapfill-stroke-opacity: 0.8;\n    --vis-line-gapfill-stroke-dashoffset: 0;\n  }\n`;\r\nconst root = css `\n  label: line-component;\n`;\r\nconst line = css `\n  label: line;\n  transition: opacity 200ms;\n  cursor: var(--vis-line-cursor);\n`;\r\nconst linePath = css `\n  label: linePath;\n  fill: none;\n  stroke-dasharray: var(--vis-line-stroke-dasharray);\n  stroke-dashoffset: var(--vis-line-stroke-dashoffset);\n`;\r\nconst lineSelectionHelper = css `\n  label: lineSelectionHelper;\n  fill: none;\n  stroke: rgba(0, 0, 0, 0);\n  stroke-width: 8px;\n`;\r\nconst dim = css `\n  opacity: 0.2;\n`;\r\nconst interpolatedPath = css `\n  label: interpolated-path;\n  fill: none;\n  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);\n  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);\n  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);\n`;\n\nexport { dim, globalStyles, interpolatedPath, line, linePath, lineSelectionHelper, root };\n\n", "import { select } from 'd3-selection';\nimport { line } from 'd3-shape';\nimport { interpolatePath } from 'd3-interpolate-path';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { isNumber, isArray, getNumber, getString, getValue } from '../../utils/data.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { getColor } from '../../utils/color.js';\nimport { Curve, CurveType } from '../../types/curve.js';\nimport { Direction } from '../../types/direction.js';\nimport { LineDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { line as line$1, linePath, lineSelectionHelper, interpolatedPath, dim } from './style.js';\n\nclass Line extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = LineDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.curve = Curve[CurveType.MonotoneX];\r\n        this.events = {\r\n            [Line.selectors.line]: {\r\n                mouseover: this._highlight.bind(this),\r\n                mouseleave: this._resetHighlight.bind(this),\r\n            },\r\n        };\r\n        if (config)\r\n            this.setConfig(config);\r\n    }\r\n    get bleed() {\r\n        const { config: { lineWidth } } = this;\r\n        const yDomain = this.yScale.domain();\r\n        const yDirection = this.yScale.range()[0] > this.yScale.range()[1]\r\n            ? Direction.North\r\n            : Direction.South;\r\n        const isYDirectionSouth = yDirection === Direction.South;\r\n        const isLineThick = lineWidth > 3;\r\n        const isLineVeryThick = lineWidth >= 10;\r\n        return {\r\n            top: !isLineVeryThick && ((!isYDirectionSouth && (yDomain[1] === 0)) || (isYDirectionSouth && (yDomain[0] === 0))) ? 0 : lineWidth / 2,\r\n            bottom: !isLineVeryThick && ((!isYDirectionSouth && (yDomain[0] === 0)) || (isYDirectionSouth && (yDomain[1] === 0))) ? 0 : lineWidth / 2,\r\n            left: isLineThick ? lineWidth / 2 : 0,\r\n            right: isLineThick ? lineWidth / 2 : 0,\r\n        };\r\n    }\r\n    _render(customDuration) {\r\n        super._render(customDuration);\r\n        const { config, datamodel: { data } } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        this.curve = Curve[config.curveType];\r\n        this.lineGen = line()\r\n            .x(d => d.x)\r\n            .y(d => d.y)\r\n            .defined(d => d.defined)\r\n            .curve(this.curve);\r\n        const yAccessors = (isArray(config.y) ? config.y : [config.y]);\r\n        const lineDataX = data.map((d, i) => this.xScale(getNumber(d, config.x, i)));\r\n        const lineData = yAccessors.map(a => {\r\n            const ld = data.map((d, i) => {\r\n                const rawValue = getNumber(d, a, i);\r\n                // If `rawValue` is not numerical or if it's not finite (`NaN`, `undefined`, ...), we replace it with `config.fallbackValue`\r\n                const value = (isNumber(rawValue) || (rawValue === null)) && isFinite(rawValue) ? rawValue : config.fallbackValue;\r\n                const defined = config.interpolateMissingData\r\n                    ? (isNumber(rawValue) || (rawValue === null)) && isFinite(rawValue)\r\n                    : isFinite(value);\r\n                return {\r\n                    x: lineDataX[i],\r\n                    y: this.yScale(value !== null && value !== void 0 ? value : 0),\r\n                    defined,\r\n                    value,\r\n                };\r\n            });\r\n            const defined = ld.reduce((def, d) => (d.defined || def), false);\r\n            let validGap = false;\r\n            const gaps = ld.reduce((acc, d, i) => {\r\n                // Gaps include fallback values if configured.\r\n                if (!d.defined && isFinite(config.fallbackValue)) {\r\n                    acc.push(Object.assign(Object.assign({}, d), { defined: true }));\r\n                }\r\n                if (!d.defined && !validGap)\r\n                    validGap = true;\r\n                const isEndpoint = (i > 0 && !ld[i - 1].defined) || (i < ld.length - 1 && !ld[i + 1].defined);\r\n                if (d.defined && isEndpoint) {\r\n                    // If no undefined points have been found since the last endpoint, we insert one to enforce breaks between adjacent gaps.\r\n                    if (!validGap)\r\n                        acc.push(Object.assign(Object.assign({}, d), { defined: false }));\r\n                    acc.push(d);\r\n                    validGap = false;\r\n                }\r\n                return acc;\r\n            }, []);\r\n            // If the line consists only of `null` values, we'll still render it but it'll be invisible.\r\n            // Such trick allows us to have better animated transitions.\r\n            const visible = defined && ld.some(d => d.value !== null);\r\n            return {\r\n                values: ld,\r\n                defined,\r\n                gaps,\r\n                visible,\r\n            };\r\n        });\r\n        const lines = this.g\r\n            .selectAll(`.${line$1}`)\r\n            .data(lineData);\r\n        const linesEnter = lines.enter().append('g')\r\n            .attr('class', line$1);\r\n        linesEnter\r\n            .append('path')\r\n            .attr('class', linePath)\r\n            .attr('stroke', (d, i) => getColor(data, config.color, i))\r\n            .attr('stroke-opacity', 0)\r\n            .attr('stroke-width', config.lineWidth);\r\n        linesEnter\r\n            .append('path')\r\n            .attr('class', lineSelectionHelper)\r\n            .attr('d', this._emptyPath());\r\n        linesEnter.append('path')\r\n            .attr('class', interpolatedPath)\r\n            .attr('d', this._emptyPath())\r\n            .style('opacity', 0);\r\n        const linesMerged = linesEnter.merge(lines);\r\n        linesMerged.style('cursor', (d, i) => getString(data, config.cursor, i));\r\n        linesMerged.each((d, i, elements) => {\r\n            var _a;\r\n            const group = select(elements[i]);\r\n            const linePath$1 = group.select(`.${linePath}`);\r\n            const lineSelectionHelper$1 = group.select(`.${lineSelectionHelper}`);\r\n            const lineGaps = group.select(`.${interpolatedPath}`);\r\n            const isLineVisible = d.visible;\r\n            const dashArray = getValue(data, config.lineDashArray, i);\r\n            const transition = smartTransition(linePath$1, duration)\r\n                .attr('stroke', getColor(data, config.color, i))\r\n                .attr('stroke-width', config.lineWidth)\r\n                .attr('stroke-opacity', isLineVisible ? 1 : 0)\r\n                .style('stroke-dasharray', (_a = dashArray === null || dashArray === void 0 ? void 0 : dashArray.join(' ')) !== null && _a !== void 0 ? _a : null); // We use `.style` because there's also a default CSS-variable for stroke-dasharray\r\n            const hasUndefinedSegments = d.values.some(d => !d.defined);\r\n            const svgPathD = this.lineGen(d.values);\r\n            if (duration && !hasUndefinedSegments) {\r\n                const previous = linePath$1.attr('d') || this._emptyPath();\r\n                const next = svgPathD || this._emptyPath();\r\n                const t = transition;\r\n                t.attrTween('d', () => interpolatePath(previous, next));\r\n            }\r\n            else if (d.visible) {\r\n                transition.attr('d', svgPathD);\r\n            }\r\n            lineSelectionHelper$1\r\n                .attr('d', svgPathD)\r\n                .attr('visibility', isLineVisible ? null : 'hidden');\r\n            if (hasUndefinedSegments && config.interpolateMissingData) {\r\n                smartTransition(lineGaps, duration)\r\n                    .attr('d', this.lineGen(d.gaps))\r\n                    .attr('stroke', getColor(data, config.color, i))\r\n                    .attr('stroke-width', config.lineWidth - 1)\r\n                    .style('opacity', 1);\r\n            }\r\n            else {\r\n                lineGaps.transition()\r\n                    .duration(duration)\r\n                    .style('opacity', 0);\r\n            }\r\n        });\r\n        smartTransition(lines.exit(), duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n    }\r\n    _emptyPath() {\r\n        const xRange = this.xScale.range();\r\n        const yRange = this.yScale.range();\r\n        return `M${xRange[0]},${yRange[0]} L${xRange[1]},${yRange[0]}`;\r\n    }\r\n    _highlight(datum) {\r\n        const { config } = this;\r\n        if (config.highlightOnHover) {\r\n            this.g\r\n                .selectAll(`.${line$1}`)\r\n                .classed(dim, d => d !== datum);\r\n        }\r\n    }\r\n    _resetHighlight() {\r\n        const { config } = this;\r\n        if (config.highlightOnHover) {\r\n            this.g\r\n                .selectAll(`.${line$1}`)\r\n                .classed(dim, false);\r\n        }\r\n    }\r\n}\r\nLine.selectors = style;\n\nexport { Line };\n\n", "import { range, min, max } from 'd3-array';\nimport { line, curveCardinal, curveCardinalClosed } from 'd3-shape';\nimport { clamp } from './data.js';\n\n/*\r\n * Generate SVG path for rectangle with rounded corners\r\n *\r\n * @param {Object} props - Configuration object\r\n * @param {Number} props.x - Rect top left X coordinate\r\n * @param {Number} props.y - Rect top left Y coordinate\r\n * @param {Number} props.w - Rect width\r\n * @param {Number} props.h - Rect height\r\n * @param {Bool} [props.tl=false] - Round top left corner\r\n * @param {Bool} [props.tr=false] - Round top right corner\r\n * @param {Bool} [props.bl=false] - Round bottom left corner\r\n * @param {Bool} [props.br=false] - Round bottom right corner\r\n * @param {Number} [props.r=0] - Corner Radius\r\n * @return {String} Path string for the `d` attribute\r\n */\r\nfunction roundedRectPath({ x, y, w, h, tl = false, tr = false, bl = false, br = false, r = 0, }) {\r\n    let path;\r\n    path = `M${x + r},${y}h${w - 2 * r}`;\r\n    let roundedR = tr ? r : 0;\r\n    let angularR = tr ? 0 : r;\r\n    path += `a${roundedR},${roundedR} 0 0 1 ${roundedR},${roundedR}`;\r\n    path += `h${angularR}v${angularR}`;\r\n    path += `v${h - 2 * r}`;\r\n    roundedR = br ? r : 0;\r\n    angularR = br ? 0 : r;\r\n    path += `a${roundedR},${roundedR} 0 0 1 ${-roundedR},${roundedR}`;\r\n    path += `v${angularR}h${-angularR}`;\r\n    path += `h${2 * r - w}`;\r\n    roundedR = bl ? r : 0;\r\n    angularR = bl ? 0 : r;\r\n    path += `a${roundedR},${roundedR} 0 0 1 ${-roundedR},${-roundedR}`;\r\n    path += `h${-angularR}v${-angularR}`;\r\n    path += `v${2 * r - h}`;\r\n    roundedR = tl ? r : 0;\r\n    angularR = tl ? 0 : r;\r\n    path += `a${roundedR},${roundedR} 0 0 1 ${roundedR},${-roundedR}`;\r\n    path += `v${-angularR}h${angularR}`;\r\n    path += 'z';\r\n    return path;\r\n}\r\nfunction polygon(size, n = 6, endAngle = 2 * Math.PI, open = false) {\r\n    const r = n === 4 ? Math.sqrt(0.5) * size : size / 3.6 * 2;\r\n    const deltaAngle = n === 4 ? Math.PI / 4 : 0; // rotate to 45 grads if shape is a rectangle\r\n    const shiftedEndAngle = endAngle - deltaAngle;\r\n    const completion = (shiftedEndAngle < 0 ? endAngle : shiftedEndAngle) / (2 * Math.PI);\r\n    const nSegments = Math.ceil(n * completion);\r\n    const centerAngle = 1 / n * Math.PI * 2; //          /\\\r\n    const baseAngle = (Math.PI - centerAngle) / 2; //   /__\\\r\n    const data = range(nSegments + (shiftedEndAngle >= 0 ? 1 : 0))\r\n        .map((d, i) => {\r\n        const isLastSegment = i === nSegments || (nSegments === 1 && shiftedEndAngle < 0);\r\n        let mult = isLastSegment ? ((completion * n) % 1 || 1) : 1; // Handle partial shape\r\n        if (shiftedEndAngle < 0) {\r\n            mult += 0.5;\r\n        }\r\n        const angle = centerAngle * (i - 1 + mult);\r\n        let radius;\r\n        if (isLastSegment) {\r\n            const thirdAngle = Math.PI - baseAngle - centerAngle * mult;\r\n            radius = r * Math.sin(baseAngle) / Math.sin(thirdAngle); // Law of sines\r\n        }\r\n        else {\r\n            radius = r;\r\n        }\r\n        return {\r\n            x: Math.sin(angle + deltaAngle) * radius,\r\n            y: -Math.cos(angle + deltaAngle) * radius,\r\n        };\r\n    });\r\n    if (n === 4) {\r\n        const angle = centerAngle * (-1 + 0.5);\r\n        const thirdAngle = Math.PI * 0.5;\r\n        const radius = r * Math.sin(baseAngle) / Math.sin(thirdAngle); // Law of sines\r\n        data.unshift({\r\n            x: Math.sin(angle + deltaAngle) * radius,\r\n            y: -Math.cos(angle + deltaAngle) * radius,\r\n        });\r\n    }\r\n    const path = line()\r\n        /* eslint-disable-next-line dot-notation */\r\n        .x(d => d['x'])\r\n        /* eslint-disable-next-line dot-notation */\r\n        .y(d => d['y'])\r\n        .curve((open ? curveCardinal : curveCardinalClosed).tension(0.95));\r\n    return path(data);\r\n}\r\nfunction circlePath(cx, cy, r) {\r\n    return `\n    M ${cx} ${cy}\n    m ${-r}, 0\n    a ${r},${r} 0 1,1 ${r * 2},0\n    a ${r},${r} 0 1,1 ${-r * 2},0`;\r\n}\r\nfunction scoreRectPath({ x, y, w, h, r = 0, score = 1 }) {\r\n    let path;\r\n    const side = 1 / 4;\r\n    const halfSide = side / 2;\r\n    let part = score;\r\n    //    8 1\r\n    //    - -\r\n    // 7 |   | 2\r\n    // 6 |   | 3\r\n    //    - -\r\n    //    5 4\r\n    // 1\r\n    const hLength = min([w * 0.5 * (part / halfSide) + r, w * 0.5 - r]);\r\n    path = `M${x + w * 0.5},${y}h${hLength}`;\r\n    // 2, 3\r\n    part = score - 1 / 8;\r\n    if (part > 0) {\r\n        path += `a${r},${r} 0 0 1 ${r},${r}`;\r\n        const vLength = clamp(h * (part / side) - r, 0, h - 2 * r);\r\n        path += `v${vLength}`;\r\n    }\r\n    // 4, 5\r\n    part = score - 3 / 8;\r\n    if (part > 0) {\r\n        path += `a${r},${r} 0 0 1 ${-r},${r}`;\r\n        const hLength = clamp(r - w * (part / side), 2 * r - w, 0);\r\n        path += `h${hLength}`;\r\n    }\r\n    // 6, 7\r\n    part = score - 5 / 8;\r\n    if (part > 0) {\r\n        path += `a${r},${r} 0 0 1 ${-r},${-r}`;\r\n        const vLength = clamp(r - h * (part / side), 2 * r - h, 0);\r\n        path += `v${vLength}`;\r\n    }\r\n    // 8\r\n    part = score - 7 / 8;\r\n    if (part > 0) {\r\n        path += `a${r},${r} 0 0 1 ${r},${-r}`;\r\n        const hLength = max([w * 0.5 * (part / halfSide) - r, 0]);\r\n        path += `h${hLength}`;\r\n    }\r\n    return path;\r\n}\r\n/*\r\n * Replace L path command with arc with specified radius\r\n * @param {String} path - the path string\r\n * @param {number} r - radius in pixels\r\n * @returns {String} new path string\r\n */\r\nfunction convertLineToArc(path, r) {\r\n    return path.toString().replace(/L(?<x>-?\\d*\\.?\\d*),(?<y>-?\\d+\\.?\\d*)/gm, (_, x, y) => `A ${r} ${r} 0 0 0 ${x} ${y}`);\r\n}\r\n/**\r\n * Generate an SVG path string for an arrow that follows a polyline path.\r\n * The arrow is composed of line segments between points and a triangular arrowhead at the end.\r\n *\r\n * @param opts - ArrowPolylinePathOptions object containing array of points and optional head dimensions.\r\n * @returns SVG path string for the arrow.\r\n */\r\nfunction arrowPolylinePath(points, arrowHeadLength = 8, arrowHeadWidth = 6, smoothing = 5) {\r\n    if (points.length < 2)\r\n        return '';\r\n    // Calculate total path length\r\n    let totalLength = 0;\r\n    for (let i = 0; i < points.length - 1; i++) {\r\n        const [x1, y1] = points[i];\r\n        const [x2, y2] = points[i + 1];\r\n        totalLength += Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\r\n    }\r\n    // If the total length is zero or nearly zero, don't draw anything\r\n    if (totalLength === 0)\r\n        return '';\r\n    // Let the default values be modifiable based on the line length\r\n    let headLength = arrowHeadLength;\r\n    let headWidth = arrowHeadWidth;\r\n    // If the line is very short, scale down the arrow head dimensions\r\n    const threshold = arrowHeadLength * 2;\r\n    if (totalLength < threshold) {\r\n        const scale = totalLength / threshold;\r\n        headLength *= scale;\r\n        headWidth *= scale;\r\n    }\r\n    // Ensure the arrow head length is never longer than the line itself\r\n    headLength = Math.min(headLength / 2, totalLength);\r\n    // Get the last two points for arrowhead calculation\r\n    const [lastX, lastY] = points[points.length - 1];\r\n    const [prevX, prevY] = points[points.length - 2];\r\n    // Calculate direction vector for the last segment\r\n    const dx = lastX - prevX;\r\n    const dy = lastY - prevY;\r\n    const segmentLength = Math.sqrt(dx * dx + dy * dy);\r\n    const ux = dx / segmentLength;\r\n    const uy = dy / segmentLength;\r\n    // Tail point of the arrow (where the arrowhead starts)\r\n    const tailX = lastX - headLength * ux;\r\n    const tailY = lastY - headLength * uy;\r\n    // Perpendicular vector for arrowhead width calculation\r\n    const perpX = -uy;\r\n    const perpY = ux;\r\n    // Calculate the two base points of the arrowhead triangle\r\n    const leftX = tailX + (headWidth / 2) * perpX;\r\n    const leftY = tailY + (headWidth / 2) * perpY;\r\n    const rightX = tailX - (headWidth / 2) * perpX;\r\n    const rightY = tailY - (headWidth / 2) * perpY;\r\n    // Build the path\r\n    const pathParts = [];\r\n    if (points.length === 2) {\r\n        // For a single segment, create a curved path\r\n        const [startX, startY] = points[0];\r\n        // Adjust smoothing based on segment length\r\n        const adjustedSmoothing = Math.min(smoothing, segmentLength / 3);\r\n        // Calculate control points for a cubic Bzier curve with adjusted smoothing\r\n        const cp1x = startX + ux * adjustedSmoothing;\r\n        const cp1y = startY + uy * adjustedSmoothing + perpY * adjustedSmoothing * 0.5;\r\n        const cp2x = tailX - ux * adjustedSmoothing;\r\n        const cp2y = tailY - uy * adjustedSmoothing + perpY * adjustedSmoothing * 0.5;\r\n        // Start path and add cubic Bzier curve\r\n        pathParts.push(`M${startX},${startY}`);\r\n        pathParts.push(`C${cp1x},${cp1y} ${cp2x},${cp2y} ${lastX},${lastY}`);\r\n    }\r\n    else {\r\n        // For multiple segments, use smooth Bzier corners with absolute smoothing\r\n        pathParts.push(`M${points[0][0]},${points[0][1]}`);\r\n        for (let i = 0; i < points.length - 2; i++) {\r\n            const [x1, y1] = points[i];\r\n            const [x2, y2] = points[i + 1];\r\n            const [x3, y3] = points[i + 2];\r\n            // Calculate vectors for the current and next segment\r\n            const v1x = x2 - x1;\r\n            const v1y = y2 - y1;\r\n            const v2x = x3 - x2;\r\n            const v2y = y3 - y2;\r\n            // Calculate lengths of segments\r\n            const len1 = Math.sqrt(v1x * v1x + v1y * v1y);\r\n            const len2 = Math.sqrt(v2x * v2x + v2y * v2y);\r\n            // Calculate unit vectors\r\n            const u1x = v1x / len1;\r\n            const u1y = v1y / len1;\r\n            const u2x = v2x / len2;\r\n            const u2y = v2y / len2;\r\n            // Adjust smoothing based on the minimum segment length\r\n            const minSegmentLength = Math.min(len1, len2);\r\n            const adjustedSmoothing = Math.min(smoothing, minSegmentLength / 3);\r\n            // Calculate the corner points and control points with adjusted smoothing\r\n            const corner1x = x2 - u1x * adjustedSmoothing;\r\n            const corner1y = y2 - u1y * adjustedSmoothing;\r\n            const corner2x = x2 + u2x * adjustedSmoothing;\r\n            const corner2y = y2 + u2y * adjustedSmoothing;\r\n            // Add line to approach point\r\n            pathParts.push(`L${corner1x},${corner1y}`);\r\n            // Add cubic Bzier curve for the corner\r\n            pathParts.push(`C${x2},${y2} ${x2},${y2} ${corner2x},${corner2y}`);\r\n        }\r\n        // Add the final line segment to the tail point\r\n        pathParts.push(`L${lastX},${lastY}`);\r\n    }\r\n    // Add the arrowhead\r\n    pathParts.push(`M${leftX},${leftY} L${lastX},${lastY} L${rightX},${rightY}`);\r\n    return pathParts.join(' ');\r\n}\n\nexport { arrowPolylinePath, circlePath, convertLineToArc, polygon, roundedRectPath, scoreRectPath };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { Orientation } from '../../types/position.js';\n\nconst StackedBarDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { color: undefined, barMaxWidth: undefined, barWidth: undefined, dataStep: undefined, barPadding: 0.0, roundedCorners: 2, cursor: null, barMinHeight1Px: false, barMinHeightZeroValue: null, orientation: Orientation.Vertical });\n\nexport { StackedBarDefaultConfig };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst root = css `\n  label: stacked-bar-component;\n`;\r\nconst globalStyles = injectGlobal `\n  :root {\n    --vis-stacked-bar-cursor: default;\n    --vis-stacked-bar-fill-color: var(--vis-color-main);\n    --vis-stacked-bar-stroke-color: none;\n    --vis-stacked-bar-stroke-width: 0px;\n    --vis-stacked-bar-hover-stroke-width: none;\n    --vis-stacked-bar-hover-stroke-color: none;\n\n    /* Dark Theme */\n    --vis-dark-stacked-bar-stroke-color: none;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-stacked-bar-stroke-color: var(--vis-dark-stacked-bar-stroke-color);\n  }\n`;\r\nconst bar = css `\n  label: bar;\n  fill: var(--vis-stacked-bar-fill-color);\n  stroke: var(--vis-stacked-bar-stroke-color);\n  stroke-width: var(--vis-stacked-bar-stroke-width);\n  cursor: var(--vis-stacked-bar-cursor);\n\n  &:hover {\n    stroke-width: var(--vis-stacked-bar-hover-stroke-width);\n    stroke: var(--vis-stacked-bar-hover-stroke-color);\n  }\n`;\r\nconst barGroup = css `\n  label: barGroup;\n`;\r\nconst barGroupExit = css `\n  label: barGroupExit;\n`;\n\nexport { bar, barGroup, barGroupExit, globalStyles, root };\n\n", "import { min, max } from 'd3-array';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { isArray, getNumber, isNumber, getStackedData, getString, isEmpty, clamp, getStackedExtent, getExtent } from '../../utils/data.js';\nimport { roundedRectPath } from '../../utils/path.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { getColor } from '../../utils/color.js';\nimport { Orientation } from '../../types/position.js';\nimport { StackedBarDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { barGroup, barGroupExit, bar } from './style.js';\n\nclass StackedBar extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = StackedBarDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.getAccessors = () => (isArray(this.config.y) ? this.config.y : [this.config.y]);\r\n        this.stacked = true;\r\n        this.events = {};\r\n        this._barData = [];\r\n        if (config)\r\n            this.setConfig(config);\r\n    }\r\n    get bleed() {\r\n        this._barData = this._getVisibleData();\r\n        if (this._barData.length === 0)\r\n            return { top: 0, bottom: 0, left: 0, right: 0 };\r\n        // By default, horizontal orientation is \"flipped\", i.e. the `yDirection` of `XYContainer` is set to `Direction.North`\r\n        const isHorizontalAndFlipped = !this.isVertical() && (this.dataScale.range()[0] > this.dataScale.range()[1]);\r\n        const dataDomain = this.dataScale.domain();\r\n        const halfGroupWidth = this._getBarWidth() / 2;\r\n        const dataScaleValues = this._barData.map((d, i) => getNumber(d, this.config.x, i));\r\n        const firstDataValue = min(dataScaleValues);\r\n        const lastDataValue = max(dataScaleValues);\r\n        const firstValuePx = this.dataScale(firstDataValue);\r\n        const lastValuePx = this.dataScale(lastDataValue);\r\n        const dataDomainRequiredStart = this.dataScale.invert(firstValuePx + (isHorizontalAndFlipped ? halfGroupWidth : -halfGroupWidth));\r\n        const dataDomainRequiredEnd = this.dataScale.invert(lastValuePx + (isHorizontalAndFlipped ? -halfGroupWidth : halfGroupWidth));\r\n        const bleedPxStart = dataDomainRequiredStart <= dataDomain[0] ? this.dataScale(dataDomain[0]) - this.dataScale(dataDomainRequiredStart) : 0;\r\n        const bleedPxEnd = dataDomainRequiredEnd > dataDomain[1] ? this.dataScale(dataDomainRequiredEnd) - this.dataScale(dataDomain[1]) : 0;\r\n        return {\r\n            top: this.isVertical() ? 0 : (isHorizontalAndFlipped ? -bleedPxEnd : bleedPxStart),\r\n            bottom: this.isVertical() ? 0 : (isHorizontalAndFlipped ? -bleedPxStart : bleedPxEnd),\r\n            left: this.isVertical() ? bleedPxStart : 0,\r\n            right: this.isVertical() ? bleedPxEnd : 0,\r\n        };\r\n    }\r\n    get dataScale() {\r\n        return this.isVertical() ? this.xScale : this.yScale;\r\n    }\r\n    get valueScale() {\r\n        return this.isVertical() ? this.yScale : this.xScale;\r\n    }\r\n    isVertical() {\r\n        return this.config.orientation === Orientation.Vertical;\r\n    }\r\n    _render(customDuration) {\r\n        const { config } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        const yAccessors = this.getAccessors();\r\n        const stacked = getStackedData(this._barData, 0, yAccessors, this._prevNegative);\r\n        this._prevNegative = stacked.map(s => !!s.isMostlyNegative);\r\n        const barGroups = this.g\r\n            .selectAll(`.${barGroup}`)\r\n            .data(this._barData, (d, i) => { var _a; return `${(_a = getString(d, config.id, i)) !== null && _a !== void 0 ? _a : i}`; });\r\n        const getBarGroupsTransform = (d, i) => {\r\n            const v = this.dataScale(getNumber(d, config.x, i));\r\n            const x = this.isVertical() ? v : 0;\r\n            const y = this.isVertical() ? 0 : v;\r\n            return `translate(${x},${y})`;\r\n        };\r\n        const barGroupsEnter = barGroups.enter().append('g')\r\n            .attr('class', barGroup)\r\n            .attr('transform', getBarGroupsTransform)\r\n            .style('opacity', 1);\r\n        const barGroupsMerged = barGroupsEnter.merge(barGroups);\r\n        smartTransition(barGroupsMerged, duration)\r\n            .attr('transform', getBarGroupsTransform)\r\n            .style('opacity', 1);\r\n        const barGroupExit$1 = barGroups.exit()\r\n            .attr('class', barGroupExit);\r\n        smartTransition(barGroupExit$1, duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n        // Animate bars from exiting groups going down\r\n        smartTransition(barGroupExit$1.selectAll(`.${bar}`), duration)\r\n            .attr('transform', this.isVertical()\r\n            ? `translate(0,${this._height / 3})`\r\n            : `translate(${this._width / 6},0)`);\r\n        // Render Bars\r\n        const bars = barGroupsMerged\r\n            .selectAll(`.${bar}`)\r\n            .data((d, j) => stacked.map((s, stackIndex) => (Object.assign(Object.assign({}, d), { _index: j, _stacked: s[j], \r\n            // Ending bar if the next stack is not the same as the current one\r\n            _ending: (stackIndex === stacked.length - 1) ||\r\n                ((stackIndex <= stacked.length - 1) && stacked[stackIndex + 1][j][0] !== s[j][1]) }))));\r\n        const barsEnter = bars.enter().append('path')\r\n            .attr('class', bar)\r\n            .attr('d', (d, j) => this._getBarPath(d, j, true))\r\n            .style('fill', (d, j) => getColor(d, config.color, j));\r\n        const barsMerged = barsEnter.merge(bars);\r\n        smartTransition(barsMerged, duration)\r\n            .attr('d', (d, j) => this._getBarPath(d, j))\r\n            .style('fill', (d, j) => getColor(d, config.color, j))\r\n            .style('cursor', (d, j) => getString(d, config.cursor, j));\r\n        smartTransition(bars.exit(), duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n    }\r\n    _getBarWidth() {\r\n        const { config, datamodel: { data } } = this;\r\n        if (isEmpty(data))\r\n            return 0;\r\n        if (config.barWidth)\r\n            return min([config.barWidth, config.barMaxWidth]);\r\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n        // @ts-ignore\r\n        const isOrdinal = this.dataScale.bandwidth;\r\n        const domain = (this.dataScale.domain ? this.dataScale.domain() : []);\r\n        const domainLength = isOrdinal ? domain.length : domain[1] - domain[0];\r\n        // If the dataStep property is provided the amount of data elements is calculates as domainLength / dataStep\r\n        //   otherwise we get the number of data elements within the domain range\r\n        // Or if the scale is ordinal we use data.length\r\n        let dataSize = (1 + domainLength / config.dataStep) ||\r\n            (!isOrdinal && data.filter((d, i) => {\r\n                const value = getNumber(d, config.x, i);\r\n                return (value >= domain[0]) && (value <= domain[1]);\r\n            }).length) ||\r\n            data.length;\r\n        // We increase the dataSize by 1 to take into account possible additional domain space\r\n        if (!isOrdinal && dataSize >= 2)\r\n            dataSize += 1;\r\n        const c = dataSize < 2 ? 1 : 1 - config.barPadding;\r\n        const barWidth = c * (this.isVertical() ? this._width : this._height) / dataSize;\r\n        return min([barWidth, config.barMaxWidth]);\r\n    }\r\n    _getVisibleData() {\r\n        const { config, datamodel: { data } } = this;\r\n        const groupWidth = this._getBarWidth();\r\n        const halfGroupWidthPx = data.length < 2 ? 0 : groupWidth / 2;\r\n        const scale = this.dataScale;\r\n        const halfGroupWidth = Math.abs(scale.invert(halfGroupWidthPx) - scale.invert(0));\r\n        const filtered = data === null || data === void 0 ? void 0 : data.filter((d, i) => {\r\n            const v = getNumber(d, config.x, i);\r\n            const domain = scale.domain();\r\n            const domainMin = +domain[0];\r\n            const domainMax = +domain[1];\r\n            return (v >= (domainMin - halfGroupWidth)) && (v <= (domainMax + halfGroupWidth));\r\n        });\r\n        return filtered;\r\n    }\r\n    _getBarPath(d, accessorIndex, isEntering = false) {\r\n        const { config } = this;\r\n        const yAccessors = this.getAccessors();\r\n        const barWidth = this._getBarWidth();\r\n        const isNegative = d._stacked[1] < 0;\r\n        const isEnding = d._ending; // The most top bar or, if the value is negative, the most bottom bar\r\n        const value = getNumber(d, yAccessors[accessorIndex], d._index);\r\n        const height = isEntering ? 0 : Math.abs(this.valueScale(d._stacked[0]) - this.valueScale(d._stacked[1]));\r\n        const h = !isEntering && config.barMinHeight1Px && (height < 1) && isFinite(value) && (value !== config.barMinHeightZeroValue) ? 1 : height;\r\n        const y = isEntering\r\n            ? this.valueScale(0)\r\n            : this.valueScale(isNegative ? d._stacked[0] : d._stacked[1]) - (height < 1 && config.barMinHeight1Px ? 1 : 0);\r\n        const x = -barWidth / 2;\r\n        const width = barWidth;\r\n        const cornerRadius = config.roundedCorners\r\n            ? isNumber(config.roundedCorners) ? +config.roundedCorners : width / 2\r\n            : 0;\r\n        const cornerRadiusClamped = clamp(cornerRadius, 0, Math.min(height, width) / 2);\r\n        const isNorthDirected = this.yScale.range()[0] > this.yScale.range()[1];\r\n        return roundedRectPath({\r\n            x: this.isVertical() ? x : y - h,\r\n            y: this.isVertical() ? y + (isNorthDirected ? 0 : -h) : x,\r\n            w: this.isVertical() ? width : h,\r\n            h: this.isVertical() ? h : width,\r\n            tl: isEnding && (this.isVertical()\r\n                ? (!isNegative && isNorthDirected) || (isNegative && !isNorthDirected)\r\n                : isNegative),\r\n            tr: isEnding && (this.isVertical()\r\n                ? (!isNegative && isNorthDirected) || (isNegative && !isNorthDirected)\r\n                : !isNegative),\r\n            br: isEnding && (this.isVertical()\r\n                ? (isNegative && isNorthDirected) || (!isNegative && !isNorthDirected)\r\n                : !isNegative),\r\n            bl: isEnding && (this.isVertical()\r\n                ? (isNegative && isNorthDirected) || (!isNegative && !isNorthDirected)\r\n                : isNegative),\r\n            r: cornerRadiusClamped,\r\n        });\r\n    }\r\n    getValueScaleExtent(scaleByVisibleData) {\r\n        const { datamodel } = this;\r\n        const yAccessors = this.getAccessors();\r\n        const data = scaleByVisibleData ? this._getVisibleData() : datamodel.data;\r\n        return getStackedExtent(data, ...yAccessors);\r\n    }\r\n    getDataScaleExtent() {\r\n        const { config, datamodel } = this;\r\n        return getExtent(datamodel.data, config.x);\r\n    }\r\n    getYDataExtent(scaleByVisibleData) {\r\n        return this.isVertical() ? this.getValueScaleExtent(scaleByVisibleData) : this.getDataScaleExtent();\r\n    }\r\n    getXDataExtent() {\r\n        return this.isVertical() ? this.getDataScaleExtent() : this.getValueScaleExtent(false);\r\n    }\r\n}\r\nStackedBar.selectors = style;\n\nexport { StackedBar };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { Orientation } from '../../types/position.js';\n\nconst GroupedBarDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { color: undefined, groupMaxWidth: undefined, groupWidth: undefined, dataStep: undefined, groupPadding: 0.05, barPadding: 0.0, roundedCorners: 2, barMinHeight: 2, cursor: null, orientation: Orientation.Vertical });\n\nexport { GroupedBarDefaultConfig };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst root = css `\n  label: grouped-bar-component;\n`;\r\nconst globalStyles = injectGlobal `\n  :root {\n    --vis-grouped-bar-cursor: default;\n    --vis-grouped-bar-fill-color: var(--vis-color-main);\n    --vis-grouped-bar-stroke-color: none;\n    --vis-grouped-bar-stroke-width: 0px;\n    --vis-grouped-bar-hover-stroke-width: 1px;\n    --vis-grouped-bar-hover-stroke-color: none;\n\n\n    /* Dark Theme */\n    --vis-dark-grouped-bar-stroke-color: none;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-grouped-bar-stroke-color: var(--vis-dark-grouped-bar-stroke-color);\n  }\n`;\r\nconst bar = css `\n  label: bar;\n  fill: var(--vis-grouped-bar-fill-color);\n  stroke: var(--vis-grouped-bar-stroke-color);\n  stroke-width: var(--vis-grouped-bar-stroke-width);\n  cursor: var(--vis-grouped-bar-cursor);\n\n  &:hover {\n    stroke-width: var(--vis-grouped-bar-hover-stroke-width);\n    stroke: var(--vis-grouped-bar-hover-stroke-color);\n  }\n`;\r\nconst barGroup = css `\n  label: barGroup;\n`;\r\nconst barGroupExit = css `\n  label: barGroupExit;\n`;\n\nexport { bar, barGroup, barGroupExit, globalStyles, root };\n\n", "import { scaleBand } from 'd3-scale';\nimport { min, max, range } from 'd3-array';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { isArray, getNumber, isNumber, getString, clamp, isEmpty, getMin, getMax, getExtent } from '../../utils/data.js';\nimport { roundedRectPath } from '../../utils/path.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { getColor } from '../../utils/color.js';\nimport { Direction } from '../../types/direction.js';\nimport { Orientation } from '../../types/position.js';\nimport { GroupedBarDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { barGroup, barGroupExit, bar } from './style.js';\n\nclass GroupedBar extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = GroupedBarDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.getAccessors = () => isArray(this.config.y) ? this.config.y : [this.config.y];\r\n        this.events = {};\r\n        this._barData = [];\r\n        if (config)\r\n            this.setConfig(config);\r\n    }\r\n    get bleed() {\r\n        this._barData = this._getVisibleData();\r\n        if (this._barData.length === 0)\r\n            return { top: 0, bottom: 0, left: 0, right: 0 };\r\n        // By default, horizontal orientation is \"flipped\", i.e. the `yDirection` of `XYContainer` is set to `Direction.North`\r\n        const isHorizontalAndFlipped = !this.isVertical() && (this.dataScale.range()[0] > this.dataScale.range()[1]);\r\n        const dataDomain = this.dataScale.domain();\r\n        const halfGroupWidth = this._getGroupWidth() / 2;\r\n        const dataScaleValues = this._barData.map((d, i) => getNumber(d, this.config.x, i));\r\n        const firstDataValue = min(dataScaleValues);\r\n        const lastDataValue = max(dataScaleValues);\r\n        const firstValuePx = this.dataScale(firstDataValue);\r\n        const lastValuePx = this.dataScale(lastDataValue);\r\n        const dataDomainRequiredStart = this.dataScale.invert(firstValuePx + (isHorizontalAndFlipped ? halfGroupWidth : -halfGroupWidth));\r\n        const dataDomainRequiredEnd = this.dataScale.invert(lastValuePx + (isHorizontalAndFlipped ? -halfGroupWidth : halfGroupWidth));\r\n        const bleedPxStart = dataDomainRequiredStart <= dataDomain[0] ? this.dataScale(dataDomain[0]) - this.dataScale(dataDomainRequiredStart) : 0;\r\n        const bleedPxEnd = dataDomainRequiredEnd > dataDomain[1] ? this.dataScale(dataDomainRequiredEnd) - this.dataScale(dataDomain[1]) : 0;\r\n        return {\r\n            top: this.isVertical() ? 0 : (isHorizontalAndFlipped ? -bleedPxEnd : bleedPxStart),\r\n            bottom: this.isVertical() ? 0 : (isHorizontalAndFlipped ? -bleedPxStart : bleedPxEnd),\r\n            left: this.isVertical() ? bleedPxStart : 0,\r\n            right: this.isVertical() ? bleedPxEnd : 0,\r\n        };\r\n    }\r\n    get dataScale() {\r\n        return this.isVertical() ? this.xScale : this.yScale;\r\n    }\r\n    get valueScale() {\r\n        return this.isVertical() ? this.yScale : this.xScale;\r\n    }\r\n    isVertical() {\r\n        return this.config.orientation === Orientation.Vertical;\r\n    }\r\n    _render(customDuration) {\r\n        const { config } = this;\r\n        const duration = isNumber(customDuration)\r\n            ? customDuration\r\n            : config.duration;\r\n        const groupWidth = this._getGroupWidth();\r\n        const yAccessors = this.getAccessors();\r\n        const innerBandScaleRange = [-groupWidth / 2, groupWidth / 2];\r\n        const innerBandScale = scaleBand()\r\n            .domain(range(yAccessors.length))\r\n            .range(innerBandScaleRange)\r\n            .paddingInner(config.barPadding)\r\n            .paddingOuter(config.barPadding);\r\n        const barGroups = this.g\r\n            .selectAll(`.${barGroup}`)\r\n            .data(this._barData, (d, i) => { var _a; return `${(_a = getString(d, config.id, i)) !== null && _a !== void 0 ? _a : i}`; });\r\n        const getBarGroupsTransform = (d, i) => {\r\n            const v = this.dataScale(getNumber(d, config.x, i));\r\n            const x = this.isVertical() ? v : 0;\r\n            const y = this.isVertical() ? 0 : v;\r\n            return `translate(${x},${y})`;\r\n        };\r\n        const barGroupsEnter = barGroups\r\n            .enter()\r\n            .append('g')\r\n            .attr('class', barGroup)\r\n            .attr('transform', getBarGroupsTransform)\r\n            .style('opacity', 1);\r\n        const barGroupsMerged = barGroupsEnter.merge(barGroups);\r\n        smartTransition(barGroupsMerged, duration)\r\n            .attr('transform', getBarGroupsTransform)\r\n            .style('opacity', 1);\r\n        const barGroupExit$1 = barGroups.exit().attr('class', barGroupExit);\r\n        smartTransition(barGroupExit$1, duration).style('opacity', 0).remove();\r\n        // Animate exiting bars going down\r\n        smartTransition(barGroupExit$1.selectAll(`.${bar}`), duration)\r\n            .attr('transform', (d, i, e) => {\r\n            return this.isVertical()\r\n                ? `translate(0,${this.yScale(0)}) scale(1,0)`\r\n                : `translate(${this.xScale(0)},0) scale(0,1)`;\r\n        });\r\n        const barWidth = innerBandScale.bandwidth();\r\n        const bars = barGroupsMerged\r\n            .selectAll(`.${bar}`)\r\n            .data((d) => yAccessors.map(() => d));\r\n        const valueAxisDirection = this._getValueAxisDirection();\r\n        const barsEnter = bars\r\n            .enter()\r\n            .append('path')\r\n            .attr('class', bar)\r\n            .attr('d', (d, i) => {\r\n            const x = innerBandScale(i);\r\n            const y = this.valueScale(0);\r\n            const width = barWidth;\r\n            const height = 0;\r\n            return this._getBarPath(x, y, width, height, false, valueAxisDirection);\r\n        })\r\n            .style('fill', (d, i) => getColor(d, config.color, i));\r\n        const barsMerged = barsEnter.merge(bars);\r\n        smartTransition(barsMerged, duration)\r\n            .attr('d', (d, j) => {\r\n            const x = innerBandScale(j);\r\n            const width = barWidth;\r\n            // Todo: Find a way to pass the datum index to `getNumber` below\r\n            const value = getNumber(d, yAccessors[j]);\r\n            const isNegative = value < 0;\r\n            let y = isNegative ? this.valueScale(0) : this.valueScale(value || 0);\r\n            let height = Math.abs(this.valueScale(0) - this.valueScale(value)) || 0;\r\n            // Optionally set minimum bar height\r\n            if (height < config.barMinHeight) {\r\n                const dir = valueAxisDirection === Direction.North ? -1 : 1;\r\n                y = this.valueScale(0) + dir * config.barMinHeight;\r\n                height = config.barMinHeight;\r\n            }\r\n            return this._getBarPath(x, y, width, height, isNegative, valueAxisDirection);\r\n        })\r\n            .style('fill', (d, i) => getColor(d, config.color, i))\r\n            .style('cursor', (d, i) => getString(d, config.cursor, i));\r\n        smartTransition(bars.exit(), duration).remove();\r\n    }\r\n    _getValueAxisDirection() {\r\n        return this.valueScale.range()[0] > this.valueScale.range()[1]\r\n            ? Direction.North\r\n            : Direction.South;\r\n    }\r\n    _getVisibleData() {\r\n        const { config, datamodel: { data }, } = this;\r\n        const groupWidth = this._getGroupWidth();\r\n        const halfGroupWidth = data.length < 2 ? 0 : groupWidth / 2;\r\n        const dataScale = this.dataScale;\r\n        const xHalfGroupWidth = Math.abs(dataScale.invert(halfGroupWidth) -\r\n            dataScale.invert(0));\r\n        const filtered = data === null || data === void 0 ? void 0 : data.filter((d, i) => {\r\n            const v = getNumber(d, config.x, i);\r\n            const domain = dataScale.domain();\r\n            const domainMin = +domain[0];\r\n            const domainMax = +domain[1];\r\n            return (v >= domainMin - xHalfGroupWidth && v <= domainMax + xHalfGroupWidth);\r\n        });\r\n        return filtered;\r\n    }\r\n    _getBarPath(x, y, width, height, isNegative, direction) {\r\n        const { config } = this;\r\n        const cornerRadius = config.roundedCorners\r\n            ? isNumber(config.roundedCorners)\r\n                ? +config.roundedCorners\r\n                : width / 2\r\n            : 0;\r\n        const cornerRadiusClamped = clamp(cornerRadius, 0, Math.min(height, width) / 2);\r\n        const isNorthDirected = direction === Direction.North;\r\n        const roundedTop = this.isVertical() && isNegative !== isNorthDirected;\r\n        const roundedBottom = this.isVertical() && isNegative === isNorthDirected;\r\n        const roundedLeft = !this.isVertical() && isNegative;\r\n        const roundedRight = !this.isVertical() && !isNegative;\r\n        return roundedRectPath({\r\n            x: this.isVertical() ? x : y + (isNorthDirected ? 0 : -height),\r\n            y: this.isVertical() ? y + (isNorthDirected ? 0 : -height) : x,\r\n            w: this.isVertical() ? width : height,\r\n            h: this.isVertical() ? height : width,\r\n            tl: roundedTop || roundedLeft,\r\n            tr: roundedTop || roundedRight,\r\n            bl: roundedBottom || roundedLeft,\r\n            br: roundedBottom || roundedRight,\r\n            r: cornerRadiusClamped,\r\n        });\r\n    }\r\n    _getGroupWidth() {\r\n        const { config, datamodel: { data }, } = this;\r\n        if (isEmpty(data))\r\n            return 0;\r\n        if (config.groupWidth) {\r\n            return min([config.groupWidth, config.groupMaxWidth]);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n        // @ts-ignore\r\n        const isOrdinal = this.dataScale.bandwidth;\r\n        const domain = (this.dataScale.domain ? this.dataScale.domain() : []);\r\n        const domainLength = isOrdinal ? domain.length : domain[1] - domain[0];\r\n        // If the dataStep property is provided the amount of data elements is calculates as domainLength / dataStep\r\n        //   otherwise we get the number of data elements within the domain range\r\n        // Or if the scale is ordinal we use data.length\r\n        let dataSize = 1 + domainLength / config.dataStep ||\r\n            (!isOrdinal &&\r\n                data.filter((d, i) => {\r\n                    const value = getNumber(d, config.x, i);\r\n                    return value >= domain[0] && value <= domain[1];\r\n                }).length) ||\r\n            data.length;\r\n        // We increase the dataSize by 1 to take into account possible additional domain space\r\n        if (!isOrdinal && dataSize >= 2)\r\n            dataSize += 1;\r\n        const c = dataSize < 2 ? 1 : 1 - config.groupPadding;\r\n        const groupWidth = (c * (this.isVertical() ? this._width : this._height)) / dataSize;\r\n        return min([groupWidth, config.groupMaxWidth]);\r\n    }\r\n    getValueScaleExtent(scaleByVisibleData) {\r\n        const { datamodel } = this;\r\n        const yAccessors = this.getAccessors();\r\n        const data = scaleByVisibleData ? this._getVisibleData() : datamodel.data;\r\n        const min = getMin(data, ...yAccessors);\r\n        const max = getMax(data, ...yAccessors);\r\n        return [min > 0 ? 0 : min, max < 0 ? 0 : max];\r\n    }\r\n    getDataScaleExtent() {\r\n        const { config, datamodel } = this;\r\n        return getExtent(datamodel.data, config.x);\r\n    }\r\n    getYDataExtent(scaleByVisibleData) {\r\n        return this.isVertical()\r\n            ? this.getValueScaleExtent(scaleByVisibleData)\r\n            : this.getDataScaleExtent();\r\n    }\r\n    getXDataExtent() {\r\n        return this.isVertical()\r\n            ? this.getDataScaleExtent()\r\n            : this.getValueScaleExtent(false);\r\n    }\r\n}\r\nGroupedBar.selectors = style;\n\nexport { GroupedBar };\n\n", "export default function(x) {\n  return x;\n}\n", "import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n", "var TrimMode;\r\n(function (TrimMode) {\r\n    TrimMode[\"Start\"] = \"start\";\r\n    TrimMode[\"Middle\"] = \"middle\";\r\n    TrimMode[\"End\"] = \"end\";\r\n})(TrimMode || (TrimMode = {}));\r\nvar VerticalAlign;\r\n(function (VerticalAlign) {\r\n    VerticalAlign[\"Top\"] = \"top\";\r\n    VerticalAlign[\"Middle\"] = \"middle\";\r\n    VerticalAlign[\"Bottom\"] = \"bottom\";\r\n})(VerticalAlign || (VerticalAlign = {}));\r\nvar FitMode;\r\n(function (FitMode) {\r\n    FitMode[\"Wrap\"] = \"wrap\";\r\n    FitMode[\"Trim\"] = \"trim\";\r\n})(FitMode || (FitMode = {}));\r\nvar TextAlign;\r\n(function (TextAlign) {\r\n    TextAlign[\"Left\"] = \"left\";\r\n    TextAlign[\"Center\"] = \"center\";\r\n    TextAlign[\"Right\"] = \"right\";\r\n})(TextAlign || (TextAlign = {}));\n\nexport { FitMode, TextAlign, TrimMode, VerticalAlign };\n\n", "import { sum } from 'd3-array';\nimport striptags from 'striptags';\nimport { TextAlign, TrimMode, VerticalAlign } from '../types/text.js';\nimport { flatten, isArray, merge } from './data.js';\nimport { getTextAnchorFromTextAlign } from '../types/svg.js';\nimport { getFontWidthToHeightRatio, UNOVIS_TEXT_DEFAULT, UNOVIS_TEXT_HYPHEN_CHARACTER_DEFAULT, UNOVIS_TEXT_SEPARATOR_DEFAULT } from '../styles/index.js';\n\nconst textAlignToAnchor = (textAlign) => {\r\n    switch (textAlign) {\r\n        case TextAlign.Left: return 'start';\r\n        case TextAlign.Right: return 'end';\r\n        case TextAlign.Center: return 'middle';\r\n        default: return null;\r\n    }\r\n};\r\n/**\r\n * Converts a kebab-case string to camelCase.\r\n *\r\n * @param {string} str - The kebab-case string to be converted.\r\n * @returns {string} The resulting camelCase string.\r\n */\r\nfunction kebabCaseToCamel(str) {\r\n    return str.replace(/-([a-z])/g, (_, letter) => letter.toUpperCase());\r\n}\r\n/**\r\n * Converts a given string to kebab-case.\r\n * @param {string} str - The input string to be converted to kebab-case.\r\n * @returns {string} - The kebab-cased string.\r\n */\r\nfunction kebabCase(str) {\r\n    var _a;\r\n    return (_a = str.match(/[A-Z]{2,}(?=[A-Z][a-z0-9]*|\\b)|[A-Z]?[a-z0-9]*|[A-Z]|[0-9]+/g)) === null || _a === void 0 ? void 0 : _a.filter(Boolean).map(x => x.toLowerCase()).join('-');\r\n}\r\nfunction escapeStringKeepHash(str) {\r\n    return str\r\n        .replace(/['\"]/g, '&#39;') // Escapes quotes with &#39;\r\n        // eslint-disable-next-line no-control-regex\r\n        .replace(/\\u0000/g, '\\\\0') // Escapes null characters\r\n        .replace(/\\n/g, '\\\\n') // Escapes new lines\r\n        .replace(/\\r/g, '\\\\r') // Escapes carriage returns\r\n        .replace(/\\v/g, '\\\\v') // Escapes vertical tabs\r\n        .replace(/\\t/g, '\\\\t') // Escapes horizontal tabs\r\n        .replace(/\\f/g, '\\\\f'); // Escapes form feeds\r\n}\r\n/**\r\n * Trims the input string from the start, leaving only the specified maximum length.\r\n * @param {string} str - The input string to be trimmed.\r\n * @param {number} [maxLength=15] - The maximum allowed length of the trimmed string.\r\n * @returns {string} - The trimmed string.\r\n */\r\nfunction trimStringStart(str, maxLength = 15) {\r\n    if (!str)\r\n        return '';\r\n    return str.length > maxLength ? `${str.substr(str.length - maxLength, maxLength)}` : str;\r\n}\r\n/**\r\n * Trims the input string from the middle, leaving only the specified maximum length.\r\n * @param {string} str - The input string to be trimmed.\r\n * @param {number} [maxLength=15] - The maximum allowed length of the trimmed string.\r\n * @returns {string} - The trimmed string.\r\n */\r\nfunction trimStringMiddle(str, maxLength = 15) {\r\n    if (!str)\r\n        return '';\r\n    const dist = Math.floor((maxLength - 3) / 2);\r\n    return str.length > maxLength ? `${str.substr(0, dist)}${str.substr(-dist, dist)}` : str;\r\n}\r\n/**\r\n * Trims the input string from the end, leaving only the specified maximum length.\r\n * @param {string} str - The input string to be trimmed.\r\n * @param {number} [maxLength=15] - The maximum allowed length of the trimmed string.\r\n * @returns {string} - The trimmed string.\r\n */\r\nfunction trimStringEnd(str, maxLength = 15) {\r\n    if (!str)\r\n        return '';\r\n    return str.length > maxLength ? `${str.substr(0, maxLength)}` : str;\r\n}\r\n/**\r\n * Trims the input string according to the specified trim mode.\r\n * @param {string} str - The input string to be trimmed.\r\n * @param {number} [length=15] - The maximum allowed length of the trimmed string.\r\n * @param {TrimMode} [type=TrimMode.Middle] - The trim mode to be applied.\r\n * @returns {string} - The trimmed string.\r\n */\r\nfunction trimString(str, length = 15, type = TrimMode.Middle) {\r\n    if (!str)\r\n        return '';\r\n    let result = trimStringEnd(str, length);\r\n    if (type === TrimMode.Start)\r\n        result = trimStringStart(str, length);\r\n    else if (type === TrimMode.Middle)\r\n        result = trimStringMiddle(str, length);\r\n    return result;\r\n}\r\n/**\r\n * Splits the input string according to the specified separators.\r\n * @param {string} text - The input string to be split.\r\n * @param {string[]} [separators=[' ']] - The array of separators to be used for splitting.\r\n * @returns {string[]} - The array of split words.\r\n */\r\nfunction splitString(text, separators = [' ']) {\r\n    let result = [text];\r\n    for (let i = 0; i < separators.length; i++) {\r\n        const sep = separators[i];\r\n        result.forEach((d, index) => {\r\n            const separated = d.split(sep);\r\n            const words = separated.map((word, j) => `${word}${j === separated.length - 1 ? '' : sep}`);\r\n            result[index] = words;\r\n        });\r\n        result = flatten(result);\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Wraps an SVG text element to fit within the specified width.\r\n * @param {Selection<SVGTextElement, any, SVGElement, any>} textElement - The SVG text element to be wrapped.\r\n * @param {number} width - The maximum allowed width for the text element.\r\n * @param {(string | string[])} [separator=[' ', '-', '.', ',']] - The separator(s) to be used for wrapping.\r\n */\r\nfunction wrapSVGText(textElement, width, separator = [' ', '-', '.', ',']) {\r\n    const text = textElement.text();\r\n    if (!text)\r\n        return;\r\n    // Wrap\r\n    const separators = (isArray(separator) ? separator : [separator]);\r\n    const words = splitString(text, separators);\r\n    const x = parseFloat(textElement.attr('x')) || 0;\r\n    textElement.text('');\r\n    let tspan = textElement.append('tspan').attr('x', x);\r\n    let tspanContent = `${words[0]}`;\r\n    tspan.text(tspanContent);\r\n    words.forEach((word, i) => {\r\n        if (i === 0)\r\n            return;\r\n        const tspanText = `${tspanContent}${word}`;\r\n        tspan.text(tspanText);\r\n        const tspanWidth = tspan.node().getComputedTextLength();\r\n        if (tspanWidth > width) {\r\n            tspan.text(tspanContent.trim());\r\n            tspan = textElement.append('tspan')\r\n                .attr('x', x)\r\n                .attr('dy', '1.2em')\r\n                .text(word);\r\n            tspanContent = word;\r\n        }\r\n        else\r\n            tspanContent += word;\r\n    });\r\n}\r\n/**\r\n * Trims an SVG text element based on the specified max width, trim type, and other options.\r\n * @param {Selection<SVGTextElement, any, SVGElement, any>} svgTextSelection - The D3 selection of the SVG text element to be trimmed.\r\n * @param {number} [maxWidth=50] - The maximum width of the text element.\r\n * @param {TrimMode} [trimType=TrimMode.Middle] - The type of trim (start, middle, or end).\r\n * @param {boolean} [fastMode=true] - Whether to use a fast estimation method for text length calculation.\r\n * @param {number} [fontSize=0] - The font size of the text.\r\n * @param {number} [fontWidthToHeightRatio=getFontWidthToHeightRatio()] - The font width to height ratio.\r\n * @returns {boolean} True if the text was trimmed, false otherwise.\r\n */\r\nfunction trimSVGText(svgTextSelection, maxWidth, trimType, fastMode, fontSize, fontWidthToHeightRatio) {\r\n    var _a;\r\n    if (maxWidth === void 0) { maxWidth = 50; }\r\n    if (trimType === void 0) { trimType = TrimMode.Middle; }\r\n    if (fastMode === void 0) { fastMode = true; }\r\n    if (fontSize === void 0) { fontSize = +((_a = window.getComputedStyle(svgTextSelection.node())) === null || _a === void 0 ? void 0 : _a.fontSize) || 0; }\r\n    if (fontWidthToHeightRatio === void 0) { fontWidthToHeightRatio = getFontWidthToHeightRatio(); }\r\n    const text = svgTextSelection.text() || '';\r\n    const textLength = text.length;\r\n    const textWidth = fastMode ? fontSize * textLength * fontWidthToHeightRatio : svgTextSelection.node().getComputedTextLength();\r\n    const tolerance = 1.1;\r\n    const maxCharacters = Math.ceil(textLength * maxWidth / (tolerance * textWidth));\r\n    if (maxCharacters < textLength) {\r\n        svgTextSelection.text(trimString(text, maxCharacters, trimType));\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Estimates the length of a string in pixels.\r\n * @param {string} str - The string to be measured.\r\n * @param {number} fontSize - The font size of the string.\r\n * @param {number} [fontWidthToHeightRatio=getFontWidthToHeightRatio()] - The font width to height ratio.\r\n * @returns {number} The estimated length of the string in pixels.\r\n */\r\nfunction estimateStringPixelLength(str, fontSize, fontWidthToHeightRatio = getFontWidthToHeightRatio()) {\r\n    return str.length * fontSize * fontWidthToHeightRatio || 0;\r\n}\r\n/**\r\n * Calculates the precise length of a string in pixels.\r\n * @param {string} str - The string to be measured.\r\n * @param {string} [fontFamily] - The font family of the string.\r\n * @param {(string | number)} [fontSize] - The font size of the string.\r\n * @returns {number} The precise length of the string in pixels.\r\n */\r\nfunction getPreciseStringLengthPx(str, fontFamily, fontSize) {\r\n    const svgNS = 'http://www.w3.org/2000/svg';\r\n    const svg = document.createElementNS(svgNS, 'svg');\r\n    const text = document.createElementNS(svgNS, 'text');\r\n    text.textContent = str;\r\n    text.setAttribute('font-size', `${fontSize}`);\r\n    text.setAttribute('font-family', fontFamily);\r\n    svg.appendChild(text);\r\n    document.body.appendChild(svg);\r\n    const length = text.getComputedTextLength();\r\n    document.body.removeChild(svg);\r\n    return length;\r\n}\r\n/**\r\n * Estimates the dimensions of an SVG text element.\r\n *\r\n * @export\r\n * @param {Selection<SVGTextElement, any, SVGElement, any>} svgTextSelection - The D3 selection of the SVG text element.\r\n * @param {number} fontSize - The font size.\r\n * @param {number} [dy=0.32] - The line height scaling factor.\r\n * @param {boolean} [fastMode=true] - Whether to use a fast estimation method or a more accurate one.\r\n * @param {number} [fontWidthToHeightRatio] - The font width-to-height ratio.\r\n * @returns {{width: number, height: number}} - The estimated dimensions of the text element.\r\n */\r\nfunction estimateTextSize(svgTextSelection, fontSize, dy = 0.32, fastMode = true, fontWidthToHeightRatio) {\r\n    fontWidthToHeightRatio = fontWidthToHeightRatio || getFontWidthToHeightRatio();\r\n    const tspanSelection = svgTextSelection.selectAll('tspan');\r\n    const lines = tspanSelection.size() || 1;\r\n    const height = svgTextSelection.text() ? 0.85 * fontSize * lines * (1 + dy) - dy : 0;\r\n    let width = 0;\r\n    if (tspanSelection.empty()) {\r\n        const textLength = svgTextSelection.text().length;\r\n        width = fastMode ? fontSize * textLength * fontWidthToHeightRatio : svgTextSelection.node().getComputedTextLength();\r\n    }\r\n    else {\r\n        for (const tspan of tspanSelection.nodes()) {\r\n            const tspanTextLength = tspan.textContent.length;\r\n            const w = fastMode ? fontSize * tspanTextLength * fontWidthToHeightRatio : tspan.getComputedTextLength();\r\n            if (w > width)\r\n                width = w;\r\n        }\r\n    }\r\n    return { width, height };\r\n}\r\n/**\r\n * Breaks a text block into lines based on the specified width.\r\n *\r\n * @param {UnovisText} textBlock - The text block to break into lines.\r\n * @param {number | undefined} [width=undefined] - The maximum width of a line in pixels.\r\n * @param {(number | undefined)} [height=undefined] - The height limit for the wrapped text in pixels.\r\n * @param {boolean} [fastMode=true] - Whether to use a fast estimation method or a more accurate one.\r\n * @param {string | string[]} [separator] - The word separators.\r\n * @returns {string[]} - The text split into lines.\r\n */\r\nfunction breakTextIntoLines(textBlock, width = undefined, fastMode = true, separator = UNOVIS_TEXT_SEPARATOR_DEFAULT, wordBreak = false) {\r\n    var _a, _b, _c;\r\n    const text = `${textBlock.text}`;\r\n    if (!text)\r\n        return [];\r\n    const fontSize = (_a = textBlock.fontSize) !== null && _a !== void 0 ? _a : UNOVIS_TEXT_DEFAULT.fontSize;\r\n    const fontFamily = (_b = textBlock.fontFamily) !== null && _b !== void 0 ? _b : UNOVIS_TEXT_DEFAULT.fontFamily;\r\n    const fontWidthToHeightRatio = (_c = textBlock.fontWidthToHeightRatio) !== null && _c !== void 0 ? _c : UNOVIS_TEXT_DEFAULT.fontWidthToHeightRatio;\r\n    const separators = Array.isArray(separator) ? separator : [separator];\r\n    const splitByNewLine = text.split('\\n');\r\n    return splitByNewLine.map((str) => {\r\n        const lines = [];\r\n        if (!width)\r\n            return [str];\r\n        const words = splitString(str, separators);\r\n        let line = '';\r\n        for (let i = 0; i < words.length; i += 1) {\r\n            const textLengthPx = fastMode\r\n                ? estimateStringPixelLength(line + words[i], fontSize, fontWidthToHeightRatio)\r\n                : getPreciseStringLengthPx(line + words[i], fontFamily, fontSize);\r\n            if (textLengthPx < width || i === 0) {\r\n                line += words[i];\r\n            }\r\n            else {\r\n                lines.push(line.trim());\r\n                line = words[i];\r\n            }\r\n            // Word break functionality\r\n            const minCharactersOnLine = 2;\r\n            if (wordBreak) {\r\n                while (line.trim().length > minCharactersOnLine) {\r\n                    const subLineLengthPx = fastMode\r\n                        ? estimateStringPixelLength(line, fontSize, fontWidthToHeightRatio)\r\n                        : getPreciseStringLengthPx(line, fontFamily, fontSize);\r\n                    if (subLineLengthPx > width) {\r\n                        let breakIndex = (line.trim()).length - minCharactersOnLine; // Place at least `minCharactersOnLine` characters onto the next line\r\n                        while (breakIndex > 0) {\r\n                            const subLine = `${line.substring(0, breakIndex)}${UNOVIS_TEXT_HYPHEN_CHARACTER_DEFAULT}`; // Use hyphen when force breaking words\r\n                            const subLinePx = fastMode\r\n                                ? estimateStringPixelLength(subLine, fontSize, fontWidthToHeightRatio)\r\n                                : getPreciseStringLengthPx(subLine, fontFamily, fontSize);\r\n                            // If the subline is less than the width, or just one character left, break the line\r\n                            if (subLinePx <= width || breakIndex === 1) {\r\n                                lines.push(subLine.trim());\r\n                                line = line.substring(breakIndex);\r\n                                break;\r\n                            }\r\n                            breakIndex--;\r\n                        }\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Adding the final line after the loop\r\n        if (line)\r\n            lines.push(line.trim());\r\n        return lines;\r\n    }).flat();\r\n}\r\n/**\r\n * Wraps a text or array of texts to fit within specified width and height, if provided.\r\n *\r\n * @export\r\n * @param {UnovisText | UnovisText[]} text - The text or array of texts to wrap.\r\n * @param {number | undefined} [width=undefined] - The maximum width of a line in pixels.\r\n * @param {boolean} [fastMode=true] - Whether to use a fast estimation method or a more accurate one.\r\n * @param {string | string[]} [separator] - The word separators.\r\n * @returns {UnovisWrappedText[]} - The wrapped texts.\r\n */\r\nfunction getWrappedText(text, width = undefined, height = undefined, fastMode = true, separator = UNOVIS_TEXT_SEPARATOR_DEFAULT, wordBreak = false) {\r\n    // Merge input text with default values and convert it to an array if it's not already\r\n    const textArrays = Array.isArray(text) ? text.map(t => merge(UNOVIS_TEXT_DEFAULT, t)) : [merge(UNOVIS_TEXT_DEFAULT, text)];\r\n    // Break input text into lines based on width and separator\r\n    const textWrapped = textArrays.map(block => breakTextIntoLines(block, width, fastMode, separator, wordBreak));\r\n    const firstBlock = textArrays[0];\r\n    let h = -firstBlock.fontSize * (firstBlock.lineHeight - 1);\r\n    const blocks = [];\r\n    // Process each text block and its lines based on height limit\r\n    textArrays.forEach((text, i) => {\r\n        var _a;\r\n        let lines = textWrapped[i];\r\n        const prevBlock = i > 0 ? blocks[i - 1] : undefined;\r\n        const prevBlockMarginBottomPx = prevBlock ? prevBlock.marginBottom : 0;\r\n        const marginTopPx = text.marginTop;\r\n        const effectiveMarginPx = Math.max(prevBlockMarginBottomPx, marginTopPx);\r\n        h += effectiveMarginPx;\r\n        const dh = text.fontSize * text.lineHeight;\r\n        let maxWidth = 0;\r\n        // Iterate over lines and handle text overflow based on the height limit if provided\r\n        for (let k = 0; k < lines.length; k += 1) {\r\n            let line = lines[k];\r\n            h += dh;\r\n            const lineWithEllipsis = `${line} `;\r\n            const textLengthPx = fastMode\r\n                ? estimateStringPixelLength(lineWithEllipsis, text.fontSize, text.fontWidthToHeightRatio)\r\n                : getPreciseStringLengthPx(lineWithEllipsis, text.fontFamily, text.fontSize);\r\n            maxWidth = Math.max(textLengthPx, maxWidth);\r\n            if (height && (h + dh) > height && (k !== lines.length - 1)) {\r\n                // Remove hyphen character from the end of the line if it's there\r\n                const lastCharacter = line.charAt(line.length - 1);\r\n                if (lastCharacter === UNOVIS_TEXT_HYPHEN_CHARACTER_DEFAULT) {\r\n                    line = line.substr(0, lines[k].length - 1);\r\n                }\r\n                if (textLengthPx < width) {\r\n                    lines[k] = lineWithEllipsis;\r\n                }\r\n                else {\r\n                    lines[k] = `${lines[k].substr(0, lines[k].length - 2)}`;\r\n                }\r\n                lines = lines.slice(0, k + 1);\r\n                break;\r\n            }\r\n        }\r\n        // Create wrapped text block with its calculated properties\r\n        blocks.push(Object.assign(Object.assign({}, text), { _lines: lines, _estimatedHeight: h - ((prevBlock === null || prevBlock === void 0 ? void 0 : prevBlock._estimatedHeight) || 0), _maxWidth: Math.max(maxWidth, (_a = prevBlock === null || prevBlock === void 0 ? void 0 : prevBlock._maxWidth) !== null && _a !== void 0 ? _a : 0) }));\r\n    });\r\n    return blocks;\r\n}\r\n/**\r\n * Renders a text or array of texts to SVG tspan strings.\r\n *\r\n * @param {UnovisWrappedText[]} blocks - The wrapped text blocks.\r\n * @param {number} [x=0] - The x-coordinate for the tspan elements.\r\n * @param {number} [y] - The y-coordinate for the tspan elements.\r\n * @returns {string[]} - The SVG tspan strings.\r\n */\r\nfunction renderTextToTspanStrings(blocks, x = 0, y) {\r\n    return blocks.map((b, i) => {\r\n        const prevBlock = i > 0 ? blocks[i - 1] : undefined;\r\n        const prevBlockMarginBottomEm = prevBlock ? prevBlock.marginBottom / prevBlock.fontSize : 0;\r\n        const marginTopEm = b.marginTop / b.fontSize;\r\n        const marginEm = Math.max(prevBlockMarginBottomEm, marginTopEm);\r\n        const attributes = {\r\n            fontSize: b.fontSize,\r\n            fontFamily: b.fontFamily,\r\n            fontWeight: b.fontWeight,\r\n            fill: b.color,\r\n            y: (i === 0) && y,\r\n        };\r\n        const attributesString = Object.entries(attributes)\r\n            .filter(([_, value]) => value)\r\n            .map(([key, value]) => `${kebabCase(key)}=\"${escapeStringKeepHash(value.toString())}\"`)\r\n            .join(' ');\r\n        return `<tspan xmlns=\"http://www.w3.org/2000/svg\" ${attributesString}>${b._lines.map((line, k) => {\r\n            let dy;\r\n            if (i === 0 && k === 0)\r\n                dy = 0.8 + marginEm;\r\n            else if (k === 0)\r\n                dy = marginEm + b.lineHeight;\r\n            else\r\n                dy = b.lineHeight;\r\n            return `<tspan x=\"${x}\" dy=\"${dy}em\">${line.length ? line : ''}</tspan>`;\r\n        }).join('')}</tspan>`;\r\n    });\r\n}\r\n/**\r\n * Estimates the height of wrapped text blocks.\r\n *\r\n * @export\r\n * @param {UnovisWrappedText[]} blocks - The wrapped text blocks.\r\n * @returns {number} - The estimated height of the wrapped text blocks.\r\n */\r\nfunction estimateWrappedTextHeight(blocks) {\r\n    return sum(blocks, b => b._estimatedHeight);\r\n}\r\nconst allowedSvgTextTags = ['text', 'tspan', 'textPath', 'altGlyph', 'altGlyphDef', 'altGlyphItem', 'glyphRef', 'textRef', 'textArea'];\r\n/**\r\n * Renders a text or array of texts to an SVG text element.\r\n * Calling this function will replace the contents of the specified SVG text element.\r\n *\r\n * @export\r\n * @param {SVGTextElement} textElement - The SVG text element to render the text into.\r\n * @param {UnovisText | UnovisText[]} text - The text or array of texts to render.\r\n * @param {UnovisTextOptions} options - The text options.\r\n */\r\nfunction renderTextToSvgTextElement(textElement, text, options, trimmed) {\r\n    var _a, _b;\r\n    const wrappedText = getWrappedText(text, options.width, undefined, options.fastMode, options.separator, options.wordBreak);\r\n    const textElementX = (_a = options.x) !== null && _a !== void 0 ? _a : +textElement.getAttribute('x');\r\n    const textElementY = (_b = options.y) !== null && _b !== void 0 ? _b : +textElement.getAttribute('y');\r\n    const x = textElementX !== null && textElementX !== void 0 ? textElementX : 0;\r\n    let y = textElementY !== null && textElementY !== void 0 ? textElementY : 0;\r\n    if (options.textAlign) {\r\n        textElement.setAttribute('text-anchor', getTextAnchorFromTextAlign(options.textAlign));\r\n    }\r\n    if (options.verticalAlign && options.verticalAlign !== VerticalAlign.Top) {\r\n        const height = estimateWrappedTextHeight(wrappedText);\r\n        const dy = options.verticalAlign === VerticalAlign.Middle ? -height / 2\r\n            : options.verticalAlign === VerticalAlign.Bottom ? -height : 0;\r\n        y += dy;\r\n    }\r\n    if (options.textRotationAngle) {\r\n        textElement.setAttribute('transform', `rotate(${(options.textRotationAngle === 0 || options.textRotationAngle) ? options.textRotationAngle : 0} ${x} ${y})`);\r\n    }\r\n    else {\r\n        textElement.removeAttribute('transform');\r\n    }\r\n    if (!trimmed) {\r\n        const parser = new DOMParser();\r\n        textElement.textContent = '';\r\n        wrappedText.forEach(block => {\r\n            const svgCode = renderTextToTspanStrings([block], x, y).join('');\r\n            const svgCodeSanitized = striptags(svgCode, allowedSvgTextTags);\r\n            const parsedSvgCode = parser.parseFromString(svgCodeSanitized, 'image/svg+xml').firstChild;\r\n            textElement.appendChild(parsedSvgCode);\r\n        });\r\n    }\r\n}\r\n/**\r\n * Renders a text or array of texts into a frame.\r\n * Calling this function will replace the contents of the specified SVG group.\r\n *\r\n * @export\r\n * @param {SVGGElement} group - The SVG group element to render the text into.\r\n * @param {UnovisText | UnovisText[]} text - The text or array of texts to render.\r\n * @param {UnovisTextFrameOptions} frameOptions - The text frame options.\r\n */\r\nfunction renderTextIntoFrame(group, text, frameOptions) {\r\n    var _a, _b;\r\n    const wrappedText = getWrappedText(text, frameOptions.width, frameOptions.height, frameOptions.fastMode, frameOptions.separator, frameOptions.wordBreak);\r\n    const x = frameOptions.textAlign === TextAlign.Center ? frameOptions.width / 2\r\n        : frameOptions.textAlign === TextAlign.Right ? frameOptions.width : 0;\r\n    let y = 0;\r\n    const height = estimateWrappedTextHeight(wrappedText);\r\n    // If the frame has height, the text will be vertically aligned within the frame.\r\n    // If not, the text will be aligned against the `y` position of the frame.\r\n    const dh = frameOptions.height - height;\r\n    y = frameOptions.verticalAlign === VerticalAlign.Middle ? dh / 2\r\n        : frameOptions.verticalAlign === VerticalAlign.Bottom ? dh : 0;\r\n    const translate = (frameOptions.x || frameOptions.y)\r\n        ? `transform=\"translate(${(_a = frameOptions.x) !== null && _a !== void 0 ? _a : 0},${(_b = frameOptions.y) !== null && _b !== void 0 ? _b : 0})\"`\r\n        : '';\r\n    const svgCode = `<text\n    xmlns=\"http://www.w3.org/2000/svg\"\n    text-anchor=\"${getTextAnchorFromTextAlign(frameOptions.textAlign)}\"\n    ${translate}\n  >\n    ${renderTextToTspanStrings(wrappedText, x, y).join('')}\n  </text>`;\r\n    const parser = new DOMParser();\r\n    const svgCodeSanitized = striptags(svgCode, allowedSvgTextTags);\r\n    const parsedSvgCode = parser.parseFromString(svgCodeSanitized, 'image/svg+xml').firstChild;\r\n    group.textContent = '';\r\n    group.appendChild(parsedSvgCode);\r\n}\n\nexport { allowedSvgTextTags, escapeStringKeepHash, estimateStringPixelLength, estimateTextSize, estimateWrappedTextHeight, getPreciseStringLengthPx, getWrappedText, kebabCase, kebabCaseToCamel, renderTextIntoFrame, renderTextToSvgTextElement, splitString, textAlignToAnchor, trimSVGText, trimString, trimStringEnd, trimStringMiddle, trimStringStart, wrapSVGText };\n\n", "import { TextAlign } from './text.js';\n\n/**\r\n * Converts a TextAlign value into an SVG text-anchor attribute value.\r\n *\r\n * @param {TextAlign | string} textAlign - The TextAlign value to convert.\r\n * @returns {'start' | 'middle' | 'end'} The corresponding text-anchor attribute value. Defaults to 'start' if an invalid TextAlign value is provided.\r\n */\r\nfunction getTextAnchorFromTextAlign(textAlign) {\r\n    switch (textAlign) {\r\n        case TextAlign.Center:\r\n            return 'middle';\r\n        case TextAlign.Right:\r\n            return 'end';\r\n        case TextAlign.Left:\r\n        default:\r\n            return 'start';\r\n    }\r\n}\n\nexport { getTextAnchorFromTextAlign };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { FitMode, TrimMode } from '../../types/text.js';\n\nconst AxisDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { position: undefined, type: undefined, label: undefined, labelFontSize: null, labelTextFitMode: FitMode.Wrap, labelTextTrimType: TrimMode.Middle, gridLine: true, tickLine: true, domainLine: true, numTicks: undefined, minMaxTicksOnly: false, minMaxTicksOnlyWhenWidthIsLess: 250, minMaxTicksOnlyShowGridLines: false, tickTextWidth: undefined, tickTextSeparator: undefined, tickTextForceWordBreak: false, tickTextTrimType: TrimMode.Middle, tickTextFitMode: FitMode.Wrap, tickTextFontSize: null, tickTextAlign: undefined, tickTextColor: null, tickTextAngle: undefined, labelMargin: 8, labelColor: null, tickFormat: undefined, tickValues: undefined, fullSize: true, tickPadding: 8, tickTextHideOverlapping: undefined });\n\nexport { AxisDefaultConfig };\n\n", "import { css } from '@emotion/css';\nimport { getCssVarNames, injectGlobalCssVariables } from '../../utils/style.js';\n\nconst root = css `\n  label: axis-component;\n`;\r\nconst cssVarDefaults = {\r\n    // Undefined by default to allow proper fallback to var(--vis-font-family)\r\n    /* --vis-axis-font-family: */\r\n    '--vis-axis-tick-color': '#e8e9ef',\r\n    /* --vis-axis-domain-color: // Undefined by default to allow fallback to var(--vis-axis-tick-color) */\r\n    '--vis-axis-grid-color': '#e8e9ef',\r\n    '--vis-axis-grid-line-width': '1px',\r\n    '--vis-axis-grid-line-dasharray': 'none',\r\n    '--vis-axis-label-font-size': '14px',\r\n    '--vis-axis-label-color': '#6c778c',\r\n    '--vis-axis-label-weight': '500',\r\n    '--vis-axis-tick-label-color': '#6c778c',\r\n    '--vis-axis-tick-label-font-size': '12px',\r\n    '--vis-axis-tick-label-weight': '500',\r\n    '--vis-axis-tick-label-cursor': 'default',\r\n    '--vis-axis-tick-label-text-decoration': 'none',\r\n    '--vis-axis-tick-line-width': '1px',\r\n    '--vis-axis-tick-label-hide-transition': 'opacity 400ms ease-in-out',\r\n    /* --vis-axis-domain-line-width: // Undefined by default to allow fallback to var(--vis-axis-grid-line-width) */\r\n    '--vis-dark-axis-tick-color': '#6c778c',\r\n    /* --vis-dark-axis-domain-color: // Undefined by default to allow fallback to var(--vis-dark-axis-tick-color) */\r\n    '--vis-dark-axis-tick-label-color': '#e8e9ef',\r\n    '--vis-dark-axis-grid-color': '#6c778c',\r\n    '--vis-dark-axis-label-color': '#fefefe',\r\n};\r\nconst variables = getCssVarNames(cssVarDefaults);\r\ninjectGlobalCssVariables(cssVarDefaults, root);\r\nconst hideTickLine = css `\n  label: hide-tick-line;\n`;\r\nconst hideDomain = css `\n  label: hide-domain;\n`;\r\nconst axis = css `\n  label: axis;\n\n  user-select: none;\n\n  .domain {\n    stroke: var(--vis-axis-domain-color, var(--vis-axis-tick-color));\n    stroke-width: var(--vis-axis-domain-line-width, var(--vis-axis-grid-line-width));\n    stroke-dasharray: var(--vis-axis-domain-line-dasharray, var(--vis-axis-grid-line-dasharray));\n  }\n\n  &${`.${hideTickLine}`} {\n    .tick > line {\n      opacity: 0;\n    }\n  }\n\n  &${`.${hideDomain}`} {\n    .domain {\n      opacity: 0;\n    }\n  }\n`;\r\nconst grid = css `\n  label: grid;\n\n  .domain {\n    opacity: 0;\n  }\n\n  line {\n    stroke: var(--vis-axis-grid-color);\n    stroke-width: var(--vis-axis-grid-line-width);\n    stroke-dasharray: var(--vis-axis-grid-line-dasharray);\n  }\n`;\r\nconst tick = css `\n  label: tick;\n\n  stroke: none;\n  font-size: var(--vis-axis-tick-label-font-size);\n  font-weight: var(--vis-axis-tick-label-weight);\n\n  line {\n    stroke: var(--vis-axis-tick-color);\n    stroke-width: var(--vis-axis-tick-line-width);\n  }\n\n  text {\n    fill: var(--vis-axis-tick-label-color);\n    cursor: var(--vis-axis-tick-label-cursor);\n    font-family: var(--vis-axis-font-family, var(--vis-font-family));\n    text-decoration: var(--vis-axis-tick-label-text-decoration);\n    stroke: none;\n  }\n`;\r\nconst tickTextExiting = css `\n  label: tick-text-exiting;\n`;\r\nconst label = css `\n  label: label;\n  fill: var(--vis-axis-label-color);\n  font-size: var(--vis-axis-label-font-size);\n  font-weight: var(--vis-axis-label-weight);\n  font-family: var(--vis-axis-font-family, var(--vis-font-family));\n  text-anchor: middle;\n`;\r\nconst tickLabel = css `\n  label: tick-label;\n`;\r\nconst tickLabelHideable = css `\n  label: tick-label-hideable;\n  opacity: 0;\n  transition: var(--vis-axis-tick-label-hide-transition);\n`;\n\nexport { axis, cssVarDefaults, grid, hideDomain, hideTickLine, label, root, tick, tickLabel, tickLabelHideable, tickTextExiting, variables };\n\n", "import { injectGlobal } from '@emotion/css';\nimport { kebabCaseToCamel } from './text.js';\n\nfunction getCssVarNames(cssVarsObject, prefix) {\r\n    const defaultPrefix = '--vis-';\r\n    const entries = Object.entries(cssVarsObject);\r\n    return Object.fromEntries(entries.map(([key]) => [kebabCaseToCamel(key.replace(prefix !== null && prefix !== void 0 ? prefix : defaultPrefix, '')), key]));\r\n}\r\nfunction injectGlobalCssVariables(cssVarsObject, componentRootClassName) {\r\n    injectGlobal({\r\n        ':root': cssVarsObject,\r\n        [`body.theme-dark .${componentRootClassName}`]: Object.keys(cssVarsObject)\r\n            .filter(key => key.includes('--vis-dark'))\r\n            .map(key => ({\r\n            [key.replace('--vis-dark', '--vis')]: `var(${key})`,\r\n        })),\r\n    });\r\n}\r\nfunction cssvar(name) {\r\n    return `var(${name})`;\r\n}\n\nexport { cssvar, getCssVarNames, injectGlobalCssVariables };\n\n", "import { select } from 'd3-selection';\nimport { interrupt } from 'd3-transition';\nimport { axisLeft, axisRight, axisBottom, axisTop } from 'd3-axis';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { Position } from '../../types/position.js';\nimport { VerticalAlign, FitMode, TextAlign } from '../../types/text.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { trimSVGText, renderTextToSvgTextElement, wrapSVGText, textAlignToAnchor } from '../../utils/text.js';\nimport { isEqual } from '../../utils/data.js';\nimport { rectIntersect } from '../../utils/misc.js';\nimport { AxisType } from './types.js';\nimport { AxisDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { grid, tick, tickLabel, tickLabelHideable, tickTextExiting, axis, hideTickLine, hideDomain, label } from './style.js';\n\nclass Axis extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = AxisDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this._defaultNumTicks = 3;\r\n        this.events = {};\r\n        if (config)\r\n            this.setConfig(config);\r\n        this.axisGroup = this.g.append('g');\r\n        this.gridGroup = this.g.append('g')\r\n            .attr('class', grid);\r\n    }\r\n    /** Renders axis to an invisible grouped to calculate automatic chart margins */\r\n    preRender() {\r\n        const { config } = this;\r\n        const axisRenderHelperGroup = this.g.append('g').attr('opacity', 0);\r\n        this._renderAxis(axisRenderHelperGroup, 0);\r\n        // Store axis raw BBox (without the label) for further label positioning (see _renderAxisLabel)\r\n        this._axisRawBBox = axisRenderHelperGroup.node().getBBox();\r\n        // Align tick text\r\n        if (config.tickTextAlign)\r\n            this._alignTickLabels();\r\n        // Render label and store total axis size and required margins\r\n        this._renderAxisLabel(axisRenderHelperGroup);\r\n        this._axisSizeBBox = this._getAxisSize(axisRenderHelperGroup);\r\n        this._requiredMargin = this._getRequiredMargin(this._axisSizeBBox);\r\n        axisRenderHelperGroup.remove();\r\n    }\r\n    getPosition() {\r\n        const { config: { type, position } } = this;\r\n        return (position !== null && position !== void 0 ? position : ((type === AxisType.X) ? Position.Bottom : Position.Left));\r\n    }\r\n    _getAxisSize(selection) {\r\n        const bBox = selection.node().getBBox();\r\n        return bBox;\r\n    }\r\n    _getRequiredMargin(axisSize = this._axisSizeBBox) {\r\n        const { config: { type, position } } = this;\r\n        switch (type) {\r\n            case AxisType.X: {\r\n                const tolerancePx = 1;\r\n                const xEnd = this._axisSizeBBox.x + this._axisSizeBBox.width;\r\n                const left = this._axisSizeBBox.x < 0 ? Math.abs(this._axisSizeBBox.x) : 0;\r\n                const right = (xEnd - this._width) > tolerancePx ? xEnd - this._width : 0;\r\n                switch (position) {\r\n                    case Position.Top: return { top: axisSize.height, left, right };\r\n                    case Position.Bottom:\r\n                    default: return { bottom: axisSize.height, left, right };\r\n                }\r\n            }\r\n            case AxisType.Y: {\r\n                const bleedY = axisSize.height > this._height ? (axisSize.height - this._height) / 2 : 0;\r\n                const top = bleedY;\r\n                const bottom = bleedY;\r\n                switch (position) {\r\n                    case Position.Right: return { right: axisSize.width, top, bottom };\r\n                    case Position.Left:\r\n                    default: return { left: axisSize.width, top, bottom };\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getRequiredMargin() {\r\n        return this._requiredMargin;\r\n    }\r\n    /** Calculates axis transform:translate offset based on passed container margins */\r\n    getOffset(containerMargin) {\r\n        const { config: { type, position } } = this;\r\n        switch (type) {\r\n            case AxisType.X:\r\n                switch (position) {\r\n                    case Position.Top: return { top: containerMargin.top, left: containerMargin.left };\r\n                    case Position.Bottom:\r\n                    default: return { top: containerMargin.top + this._height, left: containerMargin.left };\r\n                }\r\n            case AxisType.Y:\r\n                switch (position) {\r\n                    case Position.Right: return { top: containerMargin.top, left: containerMargin.left + this._width };\r\n                    case Position.Left:\r\n                    default: return { top: containerMargin.top, left: containerMargin.left };\r\n                }\r\n        }\r\n    }\r\n    _render(duration = this.config.duration, selection = this.axisGroup) {\r\n        const { config } = this;\r\n        this._renderAxis(selection, duration);\r\n        this._renderAxisLabel(selection);\r\n        if (config.gridLine) {\r\n            const gridGen = this._buildGrid();\r\n            // Interrupting all active transitions first to prevent them from being stuck.\r\n            // Somehow we see it happening in Angular apps.\r\n            this.gridGroup.selectAll('*').interrupt();\r\n            smartTransition(this.gridGroup, duration).call(gridGen).style('opacity', 1);\r\n        }\r\n        else {\r\n            smartTransition(this.gridGroup, duration).style('opacity', 0);\r\n        }\r\n        if (config.tickTextAlign)\r\n            this._alignTickLabels();\r\n        this._resolveTickLabelOverlap(selection);\r\n    }\r\n    _buildAxis() {\r\n        const { config: { type, position, tickPadding } } = this;\r\n        const ticks = this._getNumTicks();\r\n        switch (type) {\r\n            case AxisType.X:\r\n                switch (position) {\r\n                    case Position.Top: return axisTop(this.xScale).ticks(ticks).tickPadding(tickPadding);\r\n                    case Position.Bottom:\r\n                    default: return axisBottom(this.xScale).ticks(ticks).tickPadding(tickPadding);\r\n                }\r\n            case AxisType.Y:\r\n                switch (position) {\r\n                    case Position.Right: return axisRight(this.yScale).ticks(ticks).tickPadding(tickPadding);\r\n                    case Position.Left:\r\n                    default: return axisLeft(this.yScale).ticks(ticks).tickPadding(tickPadding);\r\n                }\r\n        }\r\n    }\r\n    _buildGrid() {\r\n        const { config } = this;\r\n        let gridGen;\r\n        switch (config.type) {\r\n            case AxisType.X:\r\n                switch (config.position) {\r\n                    case Position.Top: {\r\n                        gridGen = axisTop(this.xScale);\r\n                        break;\r\n                    }\r\n                    case Position.Bottom:\r\n                    default: {\r\n                        gridGen = axisBottom(this.xScale);\r\n                        break;\r\n                    }\r\n                }\r\n                gridGen.tickSize(-this._height);\r\n                break;\r\n            case AxisType.Y:\r\n                switch (config.position) {\r\n                    case Position.Right: {\r\n                        gridGen = axisRight(this.yScale);\r\n                        break;\r\n                    }\r\n                    case Position.Left:\r\n                    default: {\r\n                        gridGen = axisLeft(this.yScale);\r\n                        break;\r\n                    }\r\n                }\r\n                gridGen.tickSize(-this._width);\r\n        }\r\n        gridGen\r\n            .tickSizeOuter(0)\r\n            .tickFormat(() => '');\r\n        const numTicks = this._getNumTicks() * 2;\r\n        const gridScale = gridGen.scale();\r\n        const scaleDomain = gridScale.domain();\r\n        const getGridMinMaxTicksOnlyValues = () => {\r\n            if (!config.minMaxTicksOnlyShowGridLines)\r\n                return scaleDomain;\r\n            const tickValues = gridScale.ticks(numTicks);\r\n            if (tickValues.length < 2)\r\n                return scaleDomain;\r\n            // If the last tick is far enough from the domain max value, we add it to the tick values to draw the grid line\r\n            const tickValuesStep = +tickValues[1] - +tickValues[0];\r\n            const domainMaxValue = scaleDomain[1];\r\n            const diff = +domainMaxValue - +tickValues[tickValues.length - 1];\r\n            return diff > tickValuesStep / 2 ? [...tickValues, domainMaxValue] : tickValues;\r\n        };\r\n        const tickValues = config.tickValues\r\n            ? this._getConfiguredTickValues()\r\n            : this._shouldRenderMinMaxTicksOnly()\r\n                ? getGridMinMaxTicksOnlyValues()\r\n                : gridScale.ticks(numTicks);\r\n        gridGen.tickValues(tickValues);\r\n        return gridGen;\r\n    }\r\n    _renderAxis(selection = this.axisGroup, duration = this.config.duration) {\r\n        const { config } = this;\r\n        const axisGen = this._buildAxis();\r\n        const axisScale = axisGen.scale();\r\n        const tickValues = config.tickValues\r\n            ? this._getConfiguredTickValues()\r\n            : this._shouldRenderMinMaxTicksOnly()\r\n                ? axisScale.domain()\r\n                : axisScale.ticks(this._getNumTicks());\r\n        const tickCount = tickValues.length;\r\n        axisGen.tickValues(tickValues);\r\n        // Interrupting all active transitions first to prevent them from being stuck.\r\n        // Somehow we see it happening in Angular apps.\r\n        selection.selectAll('*').interrupt();\r\n        const transition = smartTransition(selection, duration).call(axisGen);\r\n        // Resolving tick label overlap after the animation is over\r\n        transition.on('end', () => {\r\n            this._resolveTickLabelOverlap(selection);\r\n        });\r\n        const ticks = selection.selectAll('g.tick');\r\n        ticks\r\n            .classed(tick, true)\r\n            .style('font-size', config.tickTextFontSize);\r\n        // Selecting the <text> elements of the ticks to apply formatting. By default, this selection\r\n        // will include exiting elements, so we're filtering them out.\r\n        const tickText = selection.selectAll('g.tick > text')\r\n            .filter(tickValue => tickValues.some((t) => isEqual(tickValue, t))) // We use isEqual to compare Dates\r\n            .classed(tickLabel, true)\r\n            .classed(tickLabelHideable, Boolean(config.tickTextHideOverlapping))\r\n            .style('fill', config.tickTextColor);\r\n        // Marking exiting elements\r\n        selection.selectAll('g.tick > text')\r\n            .filter(tickValue => !tickValues.some((t) => isEqual(tickValue, t)))\r\n            .classed(tickTextExiting, true);\r\n        // We interrupt the transition on tick's <text> to make it 'wrappable'\r\n        tickText.nodes().forEach(node => interrupt(node));\r\n        tickText.each((value, i, elements) => {\r\n            var _a, _b;\r\n            let text = (_b = (_a = config.tickFormat) === null || _a === void 0 ? void 0 : _a.call(config, value, i, tickValues)) !== null && _b !== void 0 ? _b : `${value}`;\r\n            const textElement = elements[i];\r\n            const textMaxWidth = config.tickTextWidth || (config.type === AxisType.X ? this._containerWidth / (tickCount + 1) : this._containerWidth / 5);\r\n            const styleDeclaration = getComputedStyle(textElement);\r\n            const fontSize = Number.parseFloat(styleDeclaration.fontSize);\r\n            const fontFamily = styleDeclaration.fontFamily;\r\n            const textOptions = {\r\n                verticalAlign: config.type === AxisType.X ? VerticalAlign.Top : VerticalAlign.Middle,\r\n                width: textMaxWidth,\r\n                textRotationAngle: config.tickTextAngle,\r\n                separator: config.tickTextSeparator,\r\n                wordBreak: config.tickTextForceWordBreak,\r\n            };\r\n            if (config.tickTextFitMode === FitMode.Trim) {\r\n                const textElementSelection = select(textElement).text(text);\r\n                trimSVGText(textElementSelection, textMaxWidth, config.tickTextTrimType, true, fontSize, 0.58);\r\n                text = select(textElement).text();\r\n            }\r\n            const textBlock = { text, fontFamily, fontSize };\r\n            renderTextToSvgTextElement(textElement, textBlock, textOptions);\r\n        });\r\n        selection\r\n            .classed(axis, true)\r\n            .classed(hideTickLine, !config.tickLine)\r\n            .classed(hideDomain, !config.domainLine);\r\n        if (config.fullSize) {\r\n            const path = this._getFullDomainPath(0);\r\n            smartTransition(selection.select('.domain'), duration).attr('d', path);\r\n        }\r\n    }\r\n    _resolveTickLabelOverlap(selection = this.axisGroup) {\r\n        const { config } = this;\r\n        const tickTextSelection = selection.selectAll(`g.tick > text:not(.${tickTextExiting})`);\r\n        if (!config.tickTextHideOverlapping) {\r\n            tickTextSelection.style('opacity', null);\r\n            return;\r\n        }\r\n        cancelAnimationFrame(this._collideTickLabelsAnimFrameId);\r\n        // Colliding labels in the next frame to prevent forced reflow\r\n        this._collideTickLabelsAnimFrameId = requestAnimationFrame(() => {\r\n            this._collideTickLabels(tickTextSelection);\r\n        });\r\n    }\r\n    _collideTickLabels(selection) {\r\n        // Reset visibility of all labels\r\n        selection.each((d, i, elements) => {\r\n            const node = elements[i];\r\n            node._visible = true;\r\n        });\r\n        // We do three iterations because not all overlapping labels can be resolved in the first iteration\r\n        const numIterations = 3;\r\n        for (let i = 0; i < numIterations; i += 1) {\r\n            // Run collision detection and set labels visibility\r\n            selection.each((d, i, elements) => {\r\n                const label1 = elements[i];\r\n                const isLabel1Visible = label1._visible;\r\n                if (!isLabel1Visible)\r\n                    return;\r\n                // Calculate bounding rect of point's label\r\n                const label1BoundingRect = label1.getBoundingClientRect();\r\n                for (let j = i + 1; j < elements.length; j += 1) {\r\n                    if (i === j)\r\n                        continue;\r\n                    const label2 = elements[j];\r\n                    const isLabel2Visible = label2._visible;\r\n                    if (isLabel2Visible) {\r\n                        const label2BoundingRect = label2.getBoundingClientRect();\r\n                        const intersect = rectIntersect(label1BoundingRect, label2BoundingRect, -5);\r\n                        if (intersect) {\r\n                            label2._visible = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        // Hide the overlapping labels\r\n        selection.each((d, i, elements) => {\r\n            const label = elements[i];\r\n            select(label).style('opacity', label._visible ? 1 : 0);\r\n        });\r\n    }\r\n    _getNumTicks() {\r\n        const { config: { type, numTicks } } = this;\r\n        if (numTicks)\r\n            return numTicks;\r\n        if (type === AxisType.X) {\r\n            const xRange = this.xScale.range();\r\n            const width = xRange[1] - xRange[0];\r\n            return Math.floor(width / 175);\r\n        }\r\n        if (type === AxisType.Y) {\r\n            const yRange = this.yScale.range();\r\n            const height = Math.abs(yRange[0] - yRange[1]);\r\n            return Math.pow(height, 0.85) / 25;\r\n        }\r\n        return this._defaultNumTicks;\r\n    }\r\n    _getConfiguredTickValues() {\r\n        const { config } = this;\r\n        const scale = config.type === AxisType.X ? this.xScale : this.yScale;\r\n        const scaleDomain = scale === null || scale === void 0 ? void 0 : scale.domain();\r\n        if (config.tickValues) {\r\n            return config.tickValues.filter(v => (v >= scaleDomain[0]) && (v <= scaleDomain[1]));\r\n        }\r\n        return null;\r\n    }\r\n    _shouldRenderMinMaxTicksOnly() {\r\n        const { config } = this;\r\n        return config.minMaxTicksOnly || (config.type === AxisType.X && this._width < config.minMaxTicksOnlyWhenWidthIsLess);\r\n    }\r\n    _getFullDomainPath(tickSize = 0) {\r\n        const { config: { type } } = this;\r\n        switch (type) {\r\n            case AxisType.X: return `M0.5, ${tickSize} V0.5 H${this._width + 0.5} V${tickSize}`;\r\n            case AxisType.Y: return `M${-tickSize}, ${this._height + 0.5} H0.5 V0.5 H${-tickSize}`;\r\n        }\r\n    }\r\n    _renderAxisLabel(selection = this.axisGroup) {\r\n        var _a;\r\n        const { type, label: label$1, labelMargin, labelFontSize, labelTextFitMode } = this.config;\r\n        // Remove the old label first to calculate the axis size properly\r\n        selection.selectAll(`.${label}`).remove();\r\n        if (!label$1)\r\n            return;\r\n        // Calculate label position and rotation\r\n        const axisPosition = this.getPosition();\r\n        // We always use this.axisRenderHelperGroup to calculate the size of the axis because\r\n        //    this.axisGroup will give us incorrect values due to animation\r\n        const { width: axisWidth, height: axisHeight } = (_a = this._axisRawBBox) !== null && _a !== void 0 ? _a : selection.node().getBBox();\r\n        const rotation = type === AxisType.Y ? -90 : 0;\r\n        // Create the text element (without transform first)\r\n        const textElement = selection\r\n            .append('text')\r\n            .attr('class', label)\r\n            .attr('dy', `${this._getLabelDY()}em`)\r\n            .style('font-size', labelFontSize)\r\n            .style('fill', this.config.labelColor);\r\n        // Set the text content\r\n        textElement.text(label$1);\r\n        let isWrapped = false;\r\n        if (labelTextFitMode === FitMode.Wrap) {\r\n            // For Y-axis, use the chart height as the maximum width before rotation\r\n            const maxWidth = type === AxisType.Y ? this._height : this._width;\r\n            const currentTextWidth = textElement.node().getComputedTextLength();\r\n            if (currentTextWidth > maxWidth) {\r\n                wrapSVGText(textElement, maxWidth);\r\n                isWrapped = true;\r\n            }\r\n        }\r\n        // Calculate offset after wrapping to get accurate dimensions\r\n        let labelWidth = axisWidth;\r\n        let labelHeight = axisHeight;\r\n        if (labelTextFitMode === FitMode.Wrap) {\r\n            const labelBBox = textElement.node().getBBox();\r\n            labelWidth = labelBBox.width;\r\n            labelHeight = labelBBox.height;\r\n        }\r\n        else {\r\n            const trimWidth = type === AxisType.X ? labelWidth : labelHeight;\r\n            const styleDeclaration = getComputedStyle(textElement.node());\r\n            const fontSize = Number.parseFloat(styleDeclaration.fontSize);\r\n            // Use the default fontWidthToHeightRatio\r\n            trimSVGText(textElement, trimWidth, this.config.labelTextTrimType, true, fontSize);\r\n            const trimmedBBox = textElement.node().getBBox();\r\n            labelWidth = trimmedBBox.width;\r\n            labelHeight = trimmedBBox.height;\r\n        }\r\n        /*\r\n          we need to calculate the offset for the label based on the position and the fit mode\r\n          for offsetX, applying Y label we need to check if it's wrap or trim, then set the offset accordingly.\r\n          Same for offsetY, need to consider x label.\r\n        */\r\n        const offsetX = type === AxisType.X\r\n            ? this._width / 2\r\n            : type === AxisType.Y && labelTextFitMode === FitMode.Wrap && isWrapped\r\n                ? (axisPosition === Position.Left)\r\n                    ? -axisWidth - labelHeight / 2 - 10 // there's a 10px gap between tick label and Position.Right Y label, so offset as well in the Position.Left case\r\n                    : axisWidth\r\n                : Math.pow((-1), (+(axisPosition === Position.Left))) * axisWidth;\r\n        const offsetY = type === AxisType.Y\r\n            ? this._height / 2\r\n            : type === AxisType.X && labelTextFitMode === FitMode.Wrap\r\n                ? (axisPosition === Position.Top) ? -axisHeight - labelHeight / 2 : axisHeight\r\n                : Math.pow((-1), (+(axisPosition === Position.Top))) * axisHeight;\r\n        const marginX = type === AxisType.X ? 0 : Math.pow((-1), (+(axisPosition === Position.Left))) * labelMargin;\r\n        const marginY = type === AxisType.X ? Math.pow((-1), (+(axisPosition === Position.Top))) * labelMargin : 0;\r\n        // Apply transform and rotation after all calculations\r\n        textElement.attr('transform', `translate(${offsetX + marginX},${offsetY + marginY}) rotate(${rotation})`);\r\n    }\r\n    _getLabelDY() {\r\n        const { type, position } = this.config;\r\n        switch (type) {\r\n            case AxisType.X:\r\n                switch (position) {\r\n                    case Position.Top: return 0;\r\n                    case Position.Bottom:\r\n                    default: return 0.75;\r\n                }\r\n            case AxisType.Y:\r\n                switch (position) {\r\n                    case Position.Right: return 0.75;\r\n                    case Position.Left:\r\n                    default: return -0.25;\r\n                }\r\n        }\r\n    }\r\n    _alignTickLabels() {\r\n        const { config: { type, tickTextAlign, tickTextAngle, position } } = this;\r\n        const tickText = this.g.selectAll('g.tick > text');\r\n        const textAnchor = textAlignToAnchor(tickTextAlign);\r\n        const translateX = type === AxisType.X\r\n            ? 0\r\n            : this._getYTickTextTranslate(tickTextAlign, position);\r\n        const translateValue = tickTextAngle ? `translate(${translateX},0) rotate(${tickTextAngle})` : `translate(${translateX},0)`;\r\n        tickText\r\n            .attr('transform', translateValue)\r\n            .attr('text-anchor', textAnchor);\r\n    }\r\n    _getYTickTextTranslate(textAlign, axisPosition = Position.Left) {\r\n        var _a, _b, _c, _d;\r\n        /*\r\n          Default in D3 is 9, tickPadding is the spacing in pixels between the tick and it's label. Default: `8`\r\n        */\r\n        const defaultTickTextSpacingPx = this.config.tickPadding + 1;\r\n        // this._axisRawBBox will be undefined when autoMargin is undefined\r\n        const width = ((_d = (_b = (_a = this._axisRawBBox) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : (_c = this.axisGroup.node()) === null || _c === void 0 ? void 0 : _c.getBBox().width) !== null && _d !== void 0 ? _d : 0) - defaultTickTextSpacingPx;\r\n        switch (textAlign) {\r\n            case TextAlign.Left: return axisPosition === Position.Left ? width * -1 : 0;\r\n            case TextAlign.Right: return axisPosition === Position.Left ? 0 : width;\r\n            case TextAlign.Center: return axisPosition === Position.Left ? width * (-0.5) : width * 0.5;\r\n            default: return 0;\r\n        }\r\n    }\r\n}\r\nAxis.selectors = style;\n\nexport { Axis };\n\n", "import { symbolCircle, symbolCross, symbolDiamond, symbolSquare, symbolStar, symbolTriangle, symbolWye } from 'd3-shape';\n\nvar SymbolType;\r\n(function (SymbolType) {\r\n    SymbolType[\"Circle\"] = \"circle\";\r\n    SymbolType[\"Cross\"] = \"cross\";\r\n    SymbolType[\"Diamond\"] = \"diamond\";\r\n    SymbolType[\"Square\"] = \"square\";\r\n    SymbolType[\"Star\"] = \"star\";\r\n    SymbolType[\"Triangle\"] = \"triangle\";\r\n    SymbolType[\"Wye\"] = \"wye\";\r\n})(SymbolType || (SymbolType = {}));\r\nconst Symbol = {\r\n    [SymbolType.Circle]: symbolCircle,\r\n    [SymbolType.Cross]: symbolCross,\r\n    [SymbolType.Diamond]: symbolDiamond,\r\n    [SymbolType.Square]: symbolSquare,\r\n    [SymbolType.Star]: symbolStar,\r\n    [SymbolType.Triangle]: symbolTriangle,\r\n    [SymbolType.Wye]: symbolWye,\r\n};\n\nexport { Symbol, SymbolType };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { Scale } from '../../types/scale.js';\nimport { SymbolType } from '../../types/symbol.js';\nimport { Position } from '../../types/position.js';\n\n// Core\r\nconst ScatterDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { color: (d) => d.color, size: 10, sizeScale: Scale.scaleSqrt(), sizeRange: undefined, shape: SymbolType.Circle, label: undefined, labelColor: undefined, labelPosition: Position.Bottom, labelHideOverlapping: true, cursor: null, labelTextBrightnessRatio: 0.65, strokeColor: undefined, strokeWidth: undefined });\n\nexport { ScatterDefaultConfig };\n\n", "import { select } from 'd3-selection';\nimport { Position } from '../../../types/position.js';\nimport { rectIntersect } from '../../../utils/misc.js';\nimport { estimateStringPixelLength } from '../../../utils/text.js';\nimport { getValue } from '../../../utils/data.js';\n\nfunction isLabelPositionCenter(labelPosition) {\r\n    return (labelPosition !== Position.Top) && (labelPosition !== Position.Bottom) &&\r\n        (labelPosition !== Position.Left) && (labelPosition !== Position.Right);\r\n}\r\nfunction getCentralLabelFontSize(pointDiameter, textLength) {\r\n    return textLength ? 0.7 * pointDiameter / Math.pow(textLength, 0.5) : 0;\r\n}\r\nfunction getLabelShift(labelPosition, pointDiameter, labelPadding = 5) {\r\n    switch (labelPosition) {\r\n        case Position.Top:\r\n            return [0, -pointDiameter / 2 - labelPadding];\r\n        case Position.Bottom:\r\n            return [0, pointDiameter / 2 + labelPadding];\r\n        case Position.Left:\r\n            return [-pointDiameter / 2 - labelPadding, 0];\r\n        case Position.Right:\r\n            return [pointDiameter / 2 + labelPadding, 0];\r\n        default:\r\n            return [0, 0];\r\n    }\r\n}\r\nfunction getEstimatedLabelBBox(d, labelPosition, xScale, yScale, fontSizePx) {\r\n    var _a;\r\n    const x = xScale(d._point.xValue);\r\n    const y = yScale(d._point.yValue);\r\n    const pointDiameter = d._point.sizePx;\r\n    const pointLabelText = (_a = d._point.label) !== null && _a !== void 0 ? _a : '';\r\n    const textLength = pointLabelText.length;\r\n    const centralLabelFontSize = getCentralLabelFontSize(pointDiameter, textLength);\r\n    const width = estimateStringPixelLength(pointLabelText, isLabelPositionCenter(labelPosition) ? centralLabelFontSize : fontSizePx, 0.6);\r\n    const height = fontSizePx;\r\n    const labelShift = getLabelShift(labelPosition, pointDiameter);\r\n    const dx = labelPosition === Position.Left ? -width\r\n        : labelPosition === Position.Right ? 0 : -width / 2;\r\n    const dy = labelPosition === Position.Top ? -height\r\n        : labelPosition === Position.Bottom ? 0 : -height / 2;\r\n    const bbox = {\r\n        x: x + labelShift[0] + dx,\r\n        y: y + labelShift[1] + dy,\r\n        width: width,\r\n        height: height,\r\n    };\r\n    return bbox;\r\n}\r\nfunction collideLabels(selection, config, xScale, yScale) {\r\n    // Reset visibility of all labels\r\n    selection.each((datum1, i, elements) => {\r\n        const node = elements[i];\r\n        node._labelVisible = true;\r\n    });\r\n    // Run collision detection and set labels visibility\r\n    selection.each((datum1, i, elements) => {\r\n        var _a, _b;\r\n        const group1Node = elements[i];\r\n        const label1Position = getValue(datum1, config.labelPosition, datum1._point.pointIndex);\r\n        if (!group1Node._labelVisible || isLabelPositionCenter(label1Position))\r\n            return;\r\n        const label1 = select(group1Node).select('text');\r\n        const label1FontSize = Number.parseFloat((_a = window.getComputedStyle(label1.node())) === null || _a === void 0 ? void 0 : _a.fontSize);\r\n        // Calculate bounding rect of point's label\r\n        const label1BoundingRect = getEstimatedLabelBBox(datum1, label1Position, xScale, yScale, label1FontSize);\r\n        for (let j = 0; j < elements.length; j += 1) {\r\n            if (i === j)\r\n                continue;\r\n            const group2Node = elements[j];\r\n            const group2 = select(group2Node);\r\n            const label2 = group2.select('text');\r\n            const datum2 = group2.datum();\r\n            // Calculate bounding rect of the second point's circle\r\n            const p2Pos = [xScale(datum2._point.xValue), yScale(datum2._point.yValue)];\r\n            const p2Radius = datum2._point.sizePx / 2;\r\n            const point2BoundingRect = {\r\n                x: p2Pos[0] - p2Radius,\r\n                y: p2Pos[1] - p2Radius,\r\n                width: 2 * p2Radius,\r\n                height: 2 * p2Radius,\r\n            };\r\n            let intersect = rectIntersect(label1BoundingRect, point2BoundingRect, 2);\r\n            // If there's no intersection, check for collision with the second point's label\r\n            const label2Visible = group2Node._labelVisible;\r\n            if (!intersect && label2Visible) {\r\n                const label2FontSize = Number.parseFloat((_b = window.getComputedStyle(label2.node())) === null || _b === void 0 ? void 0 : _b.fontSize);\r\n                const label2Position = getValue(datum2, config.labelPosition, datum2._point.pointIndex);\r\n                const label2BoundingRect = getEstimatedLabelBBox(datum2, label2Position, xScale, yScale, label2FontSize);\r\n                intersect = rectIntersect(label1BoundingRect, label2BoundingRect, 0.25);\r\n            }\r\n            if (intersect) {\r\n                if (group1Node._forceShowLabel)\r\n                    group2Node._labelVisible = false;\r\n                else {\r\n                    group1Node._labelVisible = false;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    // Hide the overlapping labels\r\n    selection.each((datum1, i, elements) => {\r\n        const node = elements[i];\r\n        const label = select(node).select('text');\r\n        label.attr('opacity', node._labelVisible ? 1 : 0);\r\n    });\r\n}\n\nexport { collideLabels, getCentralLabelFontSize, getEstimatedLabelBBox, getLabelShift, isLabelPositionCenter };\n\n", "import { select } from 'd3-selection';\nimport { symbol } from 'd3-shape';\nimport { color } from 'd3-color';\nimport { Position } from '../../../types/position.js';\nimport { Symbol } from '../../../types/symbol.js';\nimport { smartTransition } from '../../../utils/d3.js';\nimport { isStringCSSVariable, getCSSVariableValue } from '../../../utils/misc.js';\nimport { hexToBrightness } from '../../../utils/color.js';\nimport { getCentralLabelFontSize, getLabelShift } from './utils.js';\n\nfunction createPoints(selection, xScale, yScale) {\r\n    selection.attr('transform', d => `translate(${d._point.xValue},${d._point.yValue})`);\r\n    selection.append('path').style('fill', d => d._point.color);\r\n    selection.append('text')\r\n        .style('pointer-events', 'none');\r\n    selection.attr('transform', d => `translate(${xScale(d._point.xValue)},${yScale(d._point.yValue)}) scale(0)`);\r\n}\r\nfunction updatePoints(selection, config, xScale, yScale, duration) {\r\n    const symbolGenerator = symbol();\r\n    selection.each((d, index, elements) => {\r\n        var _a, _b, _c, _d;\r\n        const group = select(elements[index]);\r\n        const label = group.select('text');\r\n        const path = group.select('path');\r\n        // Shape\r\n        const pointDiameter = d._point.sizePx;\r\n        const pointColor = d._point.color;\r\n        const pointStrokeColor = (_a = d._point.strokeColor) !== null && _a !== void 0 ? _a : null;\r\n        const pointStrokeWidth = (_b = d._point.strokeWidthPx) !== null && _b !== void 0 ? _b : null;\r\n        path.attr('d', () => {\r\n            const svgPath = d._point.shape ? symbolGenerator\r\n                .size(Math.PI * pointDiameter * pointDiameter / 4)\r\n                .type(Symbol[d._point.shape])() : null;\r\n            return svgPath;\r\n        });\r\n        smartTransition(path, duration)\r\n            .style('fill', pointColor)\r\n            .style('stroke', pointStrokeColor)\r\n            .style('stroke-width', `${pointStrokeWidth}px`);\r\n        // Label\r\n        const labelPosition = d._point.labelPosition;\r\n        const isLabelPositionCenter = (labelPosition !== Position.Top) && (labelPosition !== Position.Bottom) &&\r\n            (labelPosition !== Position.Left) && (labelPosition !== Position.Right);\r\n        const pointLabelText = (_c = d._point.label) !== null && _c !== void 0 ? _c : '';\r\n        const textLength = pointLabelText.length;\r\n        const centralLabelFontSize = getCentralLabelFontSize(pointDiameter, textLength);\r\n        let labelColor = d._point.labelColor;\r\n        if (!labelColor && isLabelPositionCenter) {\r\n            const c = pointColor || 'var(--vis-scatter-fill-color)';\r\n            const hex = (_d = color(isStringCSSVariable(c) ? getCSSVariableValue(c, group.node()) : c)) === null || _d === void 0 ? void 0 : _d.hex();\r\n            const brightness = hexToBrightness(hex);\r\n            labelColor = brightness > config.labelTextBrightnessRatio ? 'var(--vis-scatter-point-label-text-color-dark)' : 'var(--vis-scatter-point-label-text-color-light)';\r\n        }\r\n        const labelShift = getLabelShift(labelPosition, pointDiameter);\r\n        label.html(pointLabelText)\r\n            .attr('x', labelShift[0])\r\n            .attr('y', labelShift[1])\r\n            .style('font-size', isLabelPositionCenter ? centralLabelFontSize : null)\r\n            .style('text-anchor', () => {\r\n            switch (labelPosition) {\r\n                case Position.Right: return null;\r\n                case Position.Left: return 'end';\r\n                default: return 'middle';\r\n            }\r\n        })\r\n            .style('dominant-baseline', () => {\r\n            switch (labelPosition) {\r\n                case Position.Top: return null;\r\n                case Position.Bottom: return 'hanging';\r\n                default: return 'central';\r\n            }\r\n        });\r\n        smartTransition(label, duration)\r\n            .style('fill', labelColor);\r\n        path.style('cursor', d._point.cursor);\r\n    });\r\n    smartTransition(selection, duration)\r\n        .attr('transform', d => `translate(${xScale(d._point.xValue)},${yScale(d._point.yValue)}) scale(1)`);\r\n}\r\nfunction removePoints(selection, xScale, yScale, duration) {\r\n    smartTransition(selection, duration)\r\n        .attr('transform', d => `translate(${xScale(d._point.xValue)},${yScale(d._point.yValue)}) scale(0)`)\r\n        .remove();\r\n}\n\nexport { createPoints, removePoints, updatePoints };\n\n", "import { injectGlobal, css } from '@emotion/css';\n\nconst globalStyles = injectGlobal `\n  :root {\n    --vis-scatter-cursor: default;\n    --vis-scatter-fill-color: var(--vis-color-main);\n    --vis-scatter-stroke-color: 'none';\n    --vis-scatter-stroke-width: 1px;\n    --vis-scatter-fill-opacity: 1;\n    --vis-scatter-stroke-opacity: 1;\n    --vis-scatter-hover-stroke-width: 2px;\n\n    --vis-scatter-point-label-text-color-dark: #5b5f6d;\n    --vis-scatter-point-label-text-color-light: #fff;\n    --vis-scatter-point-label-text-font-weight: 500;\n    --vis-scatter-point-label-text-font-size: 12px;\n    // Undefined by default to allow proper fallback to var(--vis-font-family)\n    /* --vis-scatter-point-label-text-font-family: */\n  }\n`;\r\nconst root = css `\n  label: scatter-component;\n`;\r\nconst pointGroup = css `\n  label: point-group;\n`;\r\nconst pointGroupExit = css `\n  label: point-group-exit;\n`;\r\nconst point = css `\n  label: point;\n\n  > path {\n    cursor: var(--vis-scatter-cursor);\n    fill: var(--vis-scatter-fill-color);\n    fill-opacity: var(--vis-scatter-fill-opacity);\n    stroke-opacity: var(--vis-scatter-stroke-opacity);\n    stroke-width: var(--vis-scatter-stroke-width);\n    stroke: var(--vis-scatter-stroke-color);\n\n    &:hover {\n        stroke-width: var(--vis-scatter-hover-stroke-width);\n    }\n  }\n\n  > text {\n    font-weight: var(--vis-scatter-point-label-text-font-weight);\n    font-size: var(--vis-scatter-point-label-text-font-size);\n    font-family: var(--vis-scatter-point-label-text-font-family, var(--vis-font-family));\n    fill: var(--vis-scatter-point-label-text-color-dark);\n    user-select: none;\n  }\n`;\n\nexport { globalStyles, point, pointGroup, pointGroupExit, root };\n\n", "import { select } from 'd3-selection';\nimport { min, max } from 'd3-array';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { flatten, isNumber, getString, getExtent, isArray, getNumber, getValue } from '../../utils/data.js';\nimport { getColor } from '../../utils/color.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { getCSSVariableValueInPixels } from '../../utils/misc.js';\nimport { ScatterDefaultConfig } from './config.js';\nimport { createPoints, updatePoints, removePoints } from './modules/point.js';\nimport { getEstimatedLabelBBox, collideLabels } from './modules/utils.js';\nimport * as style from './style.js';\nimport { pointGroup, pointGroupExit, point } from './style.js';\n\nclass Scatter extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = ScatterDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.events = {\r\n            [Scatter.selectors.point]: {\r\n                mouseenter: this._onPointMouseOver.bind(this),\r\n                mouseleave: this._onPointMouseOut.bind(this),\r\n            },\r\n        };\r\n        this._pointData = [];\r\n        if (config)\r\n            this.setConfig(config);\r\n    }\r\n    setConfig(config) {\r\n        super.setConfig(config);\r\n        this._updateSizeScale();\r\n    }\r\n    setData(data) {\r\n        super.setData(data);\r\n        this._updateSizeScale();\r\n    }\r\n    get bleed() {\r\n        this._pointData = this._getOnScreenData();\r\n        const pointDataFlat = flatten(this._pointData);\r\n        const yRangeStart = min(this.yScale.range());\r\n        const yRangeEnd = max(this.yScale.range());\r\n        const xRangeStart = this.xScale.range()[0];\r\n        const xRangeEnd = this.xScale.range()[1];\r\n        const fontSizePx = getCSSVariableValueInPixels('var(--vis-scatter-point-label-text-font-size)', this.element);\r\n        const extent = pointDataFlat.reduce((ext, d) => {\r\n            const x = this.xScale(d._point.xValue);\r\n            const y = this.yScale(d._point.yValue);\r\n            const r = d._point.sizePx / 2;\r\n            ext.minX = Math.min(ext.minX, x - r);\r\n            ext.maxX = Math.max(ext.maxX, x + r);\r\n            ext.minY = Math.min(ext.minY, y - r);\r\n            ext.maxY = Math.max(ext.maxY, y + r);\r\n            if (d._point.label) {\r\n                const labelBBox = getEstimatedLabelBBox(d, d._point.labelPosition, this.xScale, this.yScale, fontSizePx);\r\n                ext.minX = Math.min(ext.minX, labelBBox.x);\r\n                ext.maxX = Math.max(ext.maxX, labelBBox.x + labelBBox.width);\r\n                ext.minY = Math.min(ext.minY, labelBBox.y);\r\n                ext.maxY = Math.max(ext.maxY, labelBBox.y + labelBBox.height);\r\n            }\r\n            return ext;\r\n        }, {\r\n            minX: Number.POSITIVE_INFINITY,\r\n            maxX: Number.NEGATIVE_INFINITY,\r\n            minY: Number.POSITIVE_INFINITY,\r\n            maxY: Number.NEGATIVE_INFINITY,\r\n        });\r\n        const coeff = 1.2; // Multiplier to take into account subsequent scale range changes and shape irregularities\r\n        const top = extent.minY < yRangeStart ? coeff * (yRangeStart - extent.minY) : 0;\r\n        const bottom = extent.maxY > yRangeEnd ? coeff * (extent.maxY - yRangeEnd) : 0;\r\n        const left = extent.minX < xRangeStart ? coeff * (xRangeStart - extent.minX) : 0;\r\n        const right = extent.maxX > xRangeEnd ? coeff * (extent.maxX - xRangeEnd) : 0;\r\n        return { top, bottom, left, right };\r\n    }\r\n    _render(customDuration) {\r\n        const { config } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        // Groups\r\n        const pointGroups = this.g\r\n            .selectAll(`.${pointGroup}`)\r\n            .data(this._pointData);\r\n        const pointGroupsEnter = pointGroups\r\n            .enter()\r\n            .append('g')\r\n            .attr('class', pointGroup);\r\n        const pointGroupsMerged = pointGroupsEnter.merge(pointGroups);\r\n        smartTransition(pointGroupsMerged, duration)\r\n            .style('opacity', 1);\r\n        const pointGroupExit$1 = pointGroups.exit().attr('class', pointGroupExit);\r\n        smartTransition(pointGroupExit$1, duration).style('opacity', 0).remove();\r\n        // Points\r\n        const points = pointGroupsMerged\r\n            .selectAll(`.${point}`)\r\n            .data(d => d, d => { var _a; return `${(_a = getString(d, config.id, d._point.pointIndex)) !== null && _a !== void 0 ? _a : d._point.pointIndex}`; });\r\n        const pointsEnter = points.enter().append('g')\r\n            .attr('class', point);\r\n        createPoints(pointsEnter, this.xScale, this.yScale);\r\n        this._points = pointsEnter.merge(points);\r\n        updatePoints(this._points, config, this.xScale, this.yScale, duration);\r\n        removePoints(points.exit(), this.xScale, this.yScale, duration);\r\n        // Take care of overlapping labels\r\n        if (this._hasLabels()) {\r\n            this._resolveLabelOverlap();\r\n        }\r\n    }\r\n    _hasLabels() {\r\n        // If label config is not defined, no labels will be shown\r\n        if (!this.config.label)\r\n            return false;\r\n        // Check if any point in the flattened data has a label\r\n        const pointDataFlat = flatten(this._pointData);\r\n        return pointDataFlat.some(d => d._point.label);\r\n    }\r\n    _resolveLabelOverlap() {\r\n        if (!this.config.labelHideOverlapping) {\r\n            const label = this._points.selectAll('text');\r\n            label.attr('opacity', null);\r\n            return;\r\n        }\r\n        cancelAnimationFrame(this._collideLabelsAnimFrameId);\r\n        this._collideLabelsAnimFrameId = requestAnimationFrame(() => {\r\n            collideLabels(this._points, this.config, this.xScale, this.yScale);\r\n        });\r\n    }\r\n    _updateSizeScale() {\r\n        var _a;\r\n        const { config, datamodel } = this;\r\n        this._sizeScale = config.sizeScale.copy();\r\n        this._sizeScale.domain(getExtent(datamodel.data, config.size));\r\n        this._sizeScale.range((_a = config.sizeRange) !== null && _a !== void 0 ? _a : [0, 0]);\r\n    }\r\n    _getOnScreenData() {\r\n        const { config, datamodel: { data } } = this;\r\n        const xDomain = this.xScale.domain().map((d) => +d); // Convert Date to number\r\n        const yDomain = this.yScale.domain().map((d) => +d); // Convert Date to number\r\n        const yAccessors = (isArray(config.y) ? config.y : [config.y]);\r\n        const maxSizeValue = max(flatten(yAccessors.map((y, j) => data === null || data === void 0 ? void 0 : data.map(d => getNumber(d, config.size, j)))));\r\n        const maxSizePx = config.sizeRange ? this._sizeScale(maxSizeValue) : maxSizeValue;\r\n        const maxSizeXDomain = this.xScale.invert(maxSizePx) - this.xScale.invert(0);\r\n        const maxSizeYDomain = Math.abs(this.yScale.invert(maxSizePx) - this.yScale.invert(0));\r\n        return yAccessors.map((y, j) => {\r\n            var _a;\r\n            return (_a = data === null || data === void 0 ? void 0 : data.reduce((acc, d, i) => {\r\n                const xValue = getNumber(d, config.x, i);\r\n                const yValue = getNumber(d, y, j);\r\n                const pointSize = getNumber(d, config.size, i);\r\n                const pointSizeScaled = config.sizeRange ? this._sizeScale(pointSize) : pointSize;\r\n                const pointSizeXDomain = this.xScale.invert(pointSizeScaled) - this.xScale.invert(0);\r\n                const pointSizeYDomain = Math.abs(this.yScale.invert(pointSizeScaled) - this.yScale.invert(0));\r\n                if (((xValue - pointSizeXDomain / 2) >= (xDomain[0] - maxSizeXDomain / 2)) &&\r\n                    ((xValue + pointSizeXDomain / 2) <= (xDomain[1] + maxSizeXDomain / 2)) &&\r\n                    ((yValue - pointSizeYDomain / 2) >= (yDomain[0] - maxSizeYDomain / 2)) &&\r\n                    ((yValue + pointSizeYDomain / 2) <= (yDomain[1] + maxSizeYDomain / 2))) {\r\n                    acc.push(Object.assign(Object.assign({}, d), { _point: {\r\n                            xValue: xValue,\r\n                            yValue: yValue,\r\n                            sizePx: pointSizeScaled,\r\n                            color: getColor(d, config.color, j),\r\n                            strokeColor: getColor(d, config.strokeColor, j, true),\r\n                            strokeWidthPx: getNumber(d, config.strokeWidth, j),\r\n                            shape: getString(d, config.shape, j),\r\n                            label: getString(d, config.label, j),\r\n                            labelColor: getColor(d, config.labelColor, j, true),\r\n                            labelPosition: getValue(d, config.labelPosition, i),\r\n                            cursor: getString(d, config.cursor, j),\r\n                            groupIndex: j,\r\n                            pointIndex: i,\r\n                        } }));\r\n                }\r\n                return acc;\r\n            }, [])) !== null && _a !== void 0 ? _a : [];\r\n        });\r\n    }\r\n    _onPointMouseOver(d, event) {\r\n        const point = select(event.target);\r\n        const pointNode = point.node();\r\n        if (pointNode)\r\n            pointNode._forceShowLabel = true;\r\n        point.raise();\r\n        this._resolveLabelOverlap();\r\n    }\r\n    _onPointMouseOut(d, event) {\r\n        const pointNode = select(event.target).node();\r\n        if (pointNode)\r\n            delete pointNode._forceShowLabel;\r\n        this._resolveLabelOverlap();\r\n    }\r\n}\r\nScatter.selectors = style;\n\nexport { Scatter };\n\n", "// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n", "import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n", "export default x => () => x;\n", "export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n", "import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n", "export default x => () => x;\n", "export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n", "export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n", "import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { Arrangement } from '../../types/position.js';\n\nconst BrushDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { \r\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function */\r\n    onBrush: (s, e, userDriven) => { }, \r\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function */\r\n    onBrushStart: (s, e, userDriven) => { }, \r\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function */\r\n    onBrushMove: (s, e, userDriven) => { }, \r\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function */\r\n    onBrushEnd: (s, e, userDriven) => { }, handleWidth: 9, selection: null, draggable: false, handlePosition: Arrangement.Inside, selectionMinLength: undefined });\n\nexport { BrushDefaultConfig };\n\n", "var BrushDirection;\r\n(function (BrushDirection) {\r\n    BrushDirection[\"West\"] = \"w\";\r\n    BrushDirection[\"East\"] = \"e\";\r\n})(BrushDirection || (BrushDirection = {}));\n\nexport { BrushDirection };\n\n", "import { css } from '@emotion/css';\nimport { getCssVarNames, injectGlobalCssVariables } from '../../utils/style.js';\n\nconst root = css `\n  label: brush-component;\n`;\r\nconst cssVarDefaults = {\r\n    '--vis-brush-selection-fill-color': 'none',\r\n    '--vis-brush-selection-stroke-color': 'none',\r\n    '--vis-brush-selection-stroke-width': '0',\r\n    '--vis-brush-selection-opacity': '0',\r\n    '--vis-brush-unselected-fill-color': '#0b1640',\r\n    '--vis-brush-unselected-stroke-color': '#acb2b9',\r\n    '--vis-brush-unselected-stroke-width': '0',\r\n    '--vis-brush-unselected-opacity': '0.4',\r\n    '--vis-brush-handle-fill-color': '#6d778c',\r\n    '--vis-brush-handle-stroke-color': '#eee',\r\n    /* Dark Theme */\r\n    '--vis-dark-brush-selection-fill-color': 'none',\r\n    '--vis-dark-brush-selection-stroke-color': 'none',\r\n    '--vis-dark-brush-selection-stroke-width': '0',\r\n    '--vis-dark-brush-selection-opacity': '0',\r\n    '--vis-dark-brush-unselected-fill-color': '#acb2b9',\r\n    '--vis-dark-brush-unselected-stroke-color': '#0b1640',\r\n    '--vis-dark-brush-unselected-stroke-width': '0',\r\n    '--vis-dark-brush-unselected-opacity': '0.4',\r\n    '--vis-dark-brush-handle-fill-color': '#acb2b9',\r\n    '--vis-dark-brush-handle-stroke-color': 'var(--vis-color-grey)',\r\n};\r\nconst variables = getCssVarNames(cssVarDefaults);\r\ninjectGlobalCssVariables(cssVarDefaults, root);\r\nconst brush = css `\n  label: brush;\n\n  .selection {\n    fill: var(${variables.brushSelectionFillColor});\n    stroke: var(${variables.brushSelectionStrokeColor});\n    stroke-width: var(${variables.brushSelectionStrokeWidth});\n    opacity: var(${variables.brushSelectionOpacity});\n  }\n\n  .handle {\n    fill: var(${variables.brushHandleFillColor});\n  }\n\n  &.non-draggable {\n    .selection, .overlay {\n      pointer-events: none;\n    }\n  }\n`;\r\nconst unselected = css `\n  label: unselected;\n  fill: var(${variables.brushUnselectedFillColor});\n  stroke: var(${variables.brushUnselectedStrokeColor});\n  stroke-width: var(${variables.brushUnselectedStrokeWidth});\n  stroke-opacity: var(${variables.brushUnselectedOpacity});\n  opacity: var(${variables.brushUnselectedOpacity});\n  pointer-events: none;\n`;\r\nconst handleLine = css `\n  label: handle-line;\n  stroke: var(${variables.brushHandleStrokeColor});\n  stroke-width: 1;\n  fill: none;\n  pointer-events: none;\n`;\n\nexport { brush, cssVarDefaults, handleLine, root, unselected, variables };\n\n", "import { brushX } from 'd3-brush';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { isNumber, clamp } from '../../utils/data.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { Arrangement } from '../../types/position.js';\nimport { BrushDefaultConfig } from './config.js';\nimport { BrushDirection } from './types.js';\nimport * as style from './style.js';\nimport { unselected, brush, handleLine } from './style.js';\n\nclass Brush extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = BrushDefaultConfig;\r\n        this.clippable = false; // Don't apply clipping path to this component. See XYContainer\r\n        this.config = this._defaultConfig;\r\n        this.brushBehaviour = brushX();\r\n        this.events = {\r\n            [Brush.selectors.brush]: {},\r\n        };\r\n        this._selection = null;\r\n        this._firstRender = true;\r\n        if (config)\r\n            this.setConfig(config);\r\n        const directions = [{ type: BrushDirection.West }, { type: BrushDirection.East }];\r\n        this.unselectedRange = this.g\r\n            .selectAll(`.${unselected}`)\r\n            .data(directions)\r\n            .enter().append('rect')\r\n            .attr('class', unselected);\r\n        this.brush = this.g\r\n            .append('g')\r\n            .attr('class', brush);\r\n        this.handleLines = this.g\r\n            .selectAll(`.${handleLine}`)\r\n            .data(directions)\r\n            .enter().append('line')\r\n            .attr('class', handleLine);\r\n    }\r\n    _render(customDuration) {\r\n        var _a, _b, _c, _d;\r\n        const { brushBehaviour, config } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        const xScale = this.xScale;\r\n        brushBehaviour\r\n            .extent([[0, 0], [this._width, this._height]])\r\n            .on('start', this._onBrushStart.bind(this))\r\n            .on('brush', this._onBrushMove.bind(this))\r\n            .on('end', this._onBrushEnd.bind(this));\r\n        this.brush\r\n            .call(brushBehaviour)\r\n            .classed('non-draggable', !config.draggable);\r\n        const yRange = [this._height, 0];\r\n        const h = yRange[0] - yRange[1];\r\n        this.g.selectAll('.handle')\r\n            .attr('y', yRange[1])\r\n            .attr('height', h);\r\n        this.unselectedRange\r\n            .attr('y', yRange[1])\r\n            .attr('height', h);\r\n        this.handleLines\r\n            .attr('y1', yRange[1] + 10)\r\n            .attr('y2', yRange[1] + h - 10);\r\n        // We save the X scale range and set it to the available horizontal space to calculate the selection range in pixels correctly\r\n        const xRange = [0, this._width];\r\n        const xScaleRange = xScale.range();\r\n        xScale.range(xRange);\r\n        const selectionMin = clamp((_b = xScale((_a = (config.selection || this._selection)) === null || _a === void 0 ? void 0 : _a[0])) !== null && _b !== void 0 ? _b : 0, xRange[0], xRange[1]);\r\n        const selectionMax = clamp((_d = xScale((_c = (config.selection || this._selection)) === null || _c === void 0 ? void 0 : _c[1])) !== null && _d !== void 0 ? _d : 0, xRange[0], xRange[1]);\r\n        xScale.range(xScaleRange); // Restore the X scale range\r\n        const selectionLength = selectionMax - selectionMin;\r\n        const brushRange = (selectionLength ? [selectionMin, selectionMax] : xRange);\r\n        this._positionHandles(brushRange);\r\n        smartTransition(this.brush, duration)\r\n            .call(brushBehaviour.move, brushRange) // Sets up the brush and calls brush events\r\n            .on('end interrupt', () => { this._firstRender = false; });\r\n        // We track the first render to not trigger user events on component initialization\r\n        if (!duration)\r\n            this._firstRender = false;\r\n    }\r\n    _updateSelection(s) {\r\n        const xRange = [0, this._width];\r\n        this.unselectedRange\r\n            .attr('x', d => d.type === BrushDirection.West ? xRange[0] : s[1])\r\n            .attr('width', d => {\r\n            const length = d.type === BrushDirection.West ? s[0] - xRange[0] : xRange[1] - s[1];\r\n            const lengthClamped = clamp(length, 0, xRange[1] - xRange[0]);\r\n            return lengthClamped;\r\n        });\r\n        this._positionHandles(s);\r\n        // D3 sets brush handle height to be too long, so we need to update it\r\n        const yRange = [this._height, 0];\r\n        const h = yRange[0] - yRange[1];\r\n        this.g.selectAll('.handle')\r\n            .attr('y', yRange[1])\r\n            .attr('height', h);\r\n    }\r\n    _positionHandles(s) {\r\n        const { config } = this;\r\n        this.brush.selectAll('.handle')\r\n            .attr('width', config.handleWidth)\r\n            .attr('x', d => {\r\n            if (!s)\r\n                return 0;\r\n            const west = d.type === BrushDirection.West;\r\n            const inside = config.handlePosition === Arrangement.Inside;\r\n            if (west)\r\n                return s[0] + (inside ? 0 : -config.handleWidth);\r\n            else\r\n                return s[1] + (inside ? -config.handleWidth : 0);\r\n        });\r\n        this.handleLines\r\n            .attr('transform', d => {\r\n            if (!s)\r\n                return null;\r\n            const west = d.type === BrushDirection.West;\r\n            const inside = config.handlePosition === Arrangement.Inside;\r\n            return `translate(${west\r\n                ? s[0] - Math.pow((-1), Number(inside)) * config.handleWidth / 2\r\n                : s[1] + Math.pow((-1), Number(inside)) * config.handleWidth / 2},0)`;\r\n        });\r\n    }\r\n    _onBrush(event) {\r\n        var _a;\r\n        const { config } = this;\r\n        const xScale = this.xScale;\r\n        const xRange = [0, this._width];\r\n        const s = ((event === null || event === void 0 ? void 0 : event.selection) || xRange);\r\n        const userDriven = !!(event === null || event === void 0 ? void 0 : event.sourceEvent);\r\n        // Handle edge cases:\r\n        // (event?.selection === null) happens when user clicks to reset the selection\r\n        // (s?.[0] === s?.[1]) happens when user drags the selection out of range\r\n        if (userDriven && (((event === null || event === void 0 ? void 0 : event.selection) === null) || // happens when user clicks to reset the selection\r\n            ((s === null || s === void 0 ? void 0 : s[0]) === (s === null || s === void 0 ? void 0 : s[1])) || // happens when user drags the selection out of range\r\n            ((s === null || s === void 0 ? void 0 : s[0]) < xRange[0]) || //\r\n            ((s === null || s === void 0 ? void 0 : s[0]) > xRange[1]) || // happens when you drag the brush and the domain updates\r\n            ((s === null || s === void 0 ? void 0 : s[1]) < xRange[0]) || // to a smaller one and brush goes out of range\r\n            ((s === null || s === void 0 ? void 0 : s[1]) > xRange[1]) //\r\n        )) {\r\n            this.brush.call(this.brushBehaviour.move, xRange); // Will trigger the 'brush end' callback with `range`\r\n            return;\r\n        }\r\n        // When you reset selection by clicking on a non-selected brush area, D3 triggers the brush event twice.\r\n        // The first call will have equal selection coordinates (e.g. [441, 441]), the second call will have the full range (e.g. [0, 700]).\r\n        // To avoid unnecessary render from the first call we skip it\r\n        if (s[0] !== s[1] && isNumber(s[0]) && isNumber(s[1])) {\r\n            // We save the X scale range and set it to the available horizontal space to invert the selection correctly\r\n            const xScaleRange = xScale.range();\r\n            xScale.range(xRange);\r\n            const selectedDomain = s.map(n => +xScale.invert(n));\r\n            if (userDriven) {\r\n                // Constraint the selection if configured\r\n                const xDomain = xScale.domain();\r\n                const xDomainLength = Math.abs(xDomain[1] - xDomain[0]);\r\n                const selectionLength = Math.abs(selectedDomain[1] - selectedDomain[0]);\r\n                if (config.selectionMinLength >= xDomainLength) {\r\n                    console.warn('Unovis | Brush: Configured `selectionMinLength` is bigger than the brush domain');\r\n                }\r\n                if ((selectionLength < config.selectionMinLength) && (config.selectionMinLength < xDomainLength)) {\r\n                    const selection = (_a = config.selection) !== null && _a !== void 0 ? _a : this._selection;\r\n                    const range = [xScale(selection[0]), xScale(selection[1])];\r\n                    this.brush.call(this.brushBehaviour.move, range); // Will trigger the 'brush end' callback with `range`\r\n                    // Restore the X scale range\r\n                    xScale.range(xScaleRange);\r\n                    return;\r\n                }\r\n                else {\r\n                    this._selection = selectedDomain;\r\n                    // Restore the X scale range\r\n                    xScale.range(xScaleRange);\r\n                }\r\n            }\r\n            this._updateSelection(s);\r\n            if (!this._firstRender)\r\n                config.onBrush(selectedDomain, event, userDriven);\r\n        }\r\n    }\r\n    _onBrushStart(event) {\r\n        const { config } = this;\r\n        this._onBrush(event);\r\n        if (!this._firstRender)\r\n            config.onBrushStart(this._selection, event, !!(event === null || event === void 0 ? void 0 : event.sourceEvent));\r\n    }\r\n    _onBrushMove(event) {\r\n        const { config } = this;\r\n        this._onBrush(event);\r\n        if (!this._firstRender)\r\n            config.onBrushMove(this._selection, event, !!(event === null || event === void 0 ? void 0 : event.sourceEvent));\r\n    }\r\n    _onBrushEnd(event) {\r\n        const { config } = this;\r\n        this._onBrush(event);\r\n        if (!this._firstRender)\r\n            config.onBrushEnd(this._selection, event, !!(event === null || event === void 0 ? void 0 : event.sourceEvent));\r\n    }\r\n}\r\nBrush.selectors = style;\n\nexport { Brush };\n\n", "import { select } from 'd3-selection';\nimport toPx from 'to-px';\nimport { merge } from '../../utils/data.js';\nimport { BulletLegendDefaultConfig } from './config.js';\nimport { BulletLegendOrientation } from './types.js';\nimport { createBullets, getBulletsTotalWidth, updateBullets } from './modules/shape.js';\nimport * as style from './style.js';\nimport { root, item, itemVertical, clickable, bullet, label } from './style.js';\n\nclass BulletLegend {\r\n    constructor(element, config) {\r\n        this._defaultConfig = BulletLegendDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this._colorAccessor = (d) => d.color;\r\n        this._container = element;\r\n        this.div = (config === null || config === void 0 ? void 0 : config.renderIntoProvidedDomNode) ? select(this._container) : select(this._container).append('div');\r\n        this.div.classed(root, true);\r\n        this.element = this.div.node();\r\n        if (config)\r\n            this.update(config);\r\n    }\r\n    update(config) {\r\n        this.prevConfig = this.config;\r\n        this.config = merge(this._defaultConfig, config);\r\n        this.render();\r\n    }\r\n    render() {\r\n        const { config } = this;\r\n        const legendItems = this.div.selectAll(`.${item}`).data(config.items);\r\n        const legendItemsEnter = legendItems.enter().append('div')\r\n            .on('click', this._onItemClick.bind(this));\r\n        const legendItemsMerged = legendItemsEnter.merge(legendItems);\r\n        legendItemsMerged\r\n            .attr('class', d => { var _a; return `${item} ${(_a = d.className) !== null && _a !== void 0 ? _a : ''}`; })\r\n            .classed(itemVertical, config.orientation === BulletLegendOrientation.Vertical)\r\n            .classed(clickable, d => !!config.onLegendItemClick && this._isItemClickable(d))\r\n            .attr('title', d => d.name)\r\n            .style('display', (d) => d.hidden ? 'none' : null);\r\n        // Bullet\r\n        legendItemsEnter.append('span')\r\n            .attr('class', bullet)\r\n            .call(createBullets);\r\n        legendItemsMerged.select(`.${bullet}`)\r\n            .style('width', function (d) {\r\n            const colors = Array.isArray(d.color) ? d.color : [d.color];\r\n            const numColors = colors.length;\r\n            const defaultSize = toPx(getComputedStyle(this).getPropertyValue('--vis-legend-bullet-size')) || 9;\r\n            const baseSize = config.bulletSize ? toPx(config.bulletSize) : defaultSize;\r\n            const spacing = config.bulletSpacing;\r\n            return `${getBulletsTotalWidth(baseSize, numColors, spacing)}px`;\r\n        })\r\n            .style('height', config.bulletSize)\r\n            .style('box-sizing', 'content-box')\r\n            .call(updateBullets, this.config, this._colorAccessor);\r\n        // Labels\r\n        legendItemsEnter.append('span')\r\n            .attr('class', label)\r\n            .classed(config.labelClassName, true)\r\n            .style('max-width', config.labelMaxWidth)\r\n            .style('font-size', config.labelFontSize);\r\n        legendItemsMerged.select(`.${label}`)\r\n            .text((d) => d.name);\r\n        legendItems.exit().remove();\r\n    }\r\n    _isItemClickable(item) {\r\n        return item.pointer === undefined ? true : item.pointer;\r\n    }\r\n    _onItemClick(event, d) {\r\n        const { config: { onLegendItemClick } } = this;\r\n        const legendItems = this.div.selectAll(`.${item}`).nodes();\r\n        const index = legendItems.indexOf(event.currentTarget);\r\n        if (onLegendItemClick)\r\n            onLegendItemClick(d, index);\r\n    }\r\n    destroy() {\r\n        if (this.element !== this._container)\r\n            this.div.remove();\r\n    }\r\n}\r\nBulletLegend.selectors = style;\n\nexport { BulletLegend };\n\n", "import { SymbolType } from '../../types/symbol.js';\n\n/* eslint-disable @typescript-eslint/naming-convention */\r\nconst BulletShape = Object.assign(Object.assign({}, SymbolType), { Line: 'line' });\r\nvar BulletLegendOrientation;\r\n(function (BulletLegendOrientation) {\r\n    BulletLegendOrientation[\"Horizontal\"] = \"horizontal\";\r\n    BulletLegendOrientation[\"Vertical\"] = \"vertical\";\r\n})(BulletLegendOrientation || (BulletLegendOrientation = {}));\n\nexport { BulletLegendOrientation, BulletShape };\n\n", "import { BulletShape, BulletLegendOrientation } from './types.js';\n\nconst BulletLegendDefaultConfig = {\r\n    items: [],\r\n    labelClassName: '',\r\n    onLegendItemClick: undefined,\r\n    labelFontSize: null,\r\n    labelMaxWidth: null,\r\n    bulletSize: null,\r\n    bulletSpacing: 4,\r\n    bulletShape: d => { var _a; return (_a = d.shape) !== null && _a !== void 0 ? _a : BulletShape.Circle; },\r\n    orientation: BulletLegendOrientation.Horizontal,\r\n    renderIntoProvidedDomNode: false,\r\n};\n\nexport { BulletLegendDefaultConfig };\n\n", "import { select } from 'd3-selection';\nimport { symbol } from 'd3-shape';\nimport toPx from 'to-px';\nimport { Symbol } from '../../../types/symbol.js';\nimport { getColor } from '../../../utils/color.js';\nimport { getString, ensureArray } from '../../../utils/data.js';\nimport { PATTERN_SIZE_PX } from '../../../styles/patterns.js';\nimport { BulletShape } from '../types.js';\n\n// Size with respect to the viewBox. We use this to compute path data which is independent of the\r\n// the configured size.\r\nconst BULLET_SIZE = PATTERN_SIZE_PX * 3;\r\n// Different shapes need different scaling to fit the full size\r\nconst shapeScale = {\r\n    [BulletShape.Circle]: Math.PI / 4,\r\n    [BulletShape.Cross]: 5 / 9,\r\n    [BulletShape.Diamond]: Math.sqrt(3) / 6,\r\n    [BulletShape.Square]: 1,\r\n    [BulletShape.Star]: 0.3,\r\n    [BulletShape.Triangle]: Math.sqrt(3) / 4,\r\n    [BulletShape.Wye]: 5 / 11,\r\n};\r\nfunction getBulletsTotalWidth(bulletSize, numBullets, spacing) {\r\n    if (numBullets < 1)\r\n        return 0;\r\n    return bulletSize * numBullets + spacing * (numBullets - 1);\r\n}\r\nfunction createBullets(container) {\r\n    container.each((d, i, els) => {\r\n        select(els[i]).append('svg')\r\n            .attr('width', '100%')\r\n            .attr('height', '100%')\r\n            .append('path');\r\n    });\r\n}\r\nfunction updateBullets(container, config, colorAccessor) {\r\n    container.each((d, i, els) => {\r\n        var _a;\r\n        const shape = getString(d, config.bulletShape, i);\r\n        const colors = ensureArray((_a = d.color) !== null && _a !== void 0 ? _a : getColor(d, colorAccessor, i));\r\n        const numBullets = colors.length;\r\n        const bulletWidth = BULLET_SIZE;\r\n        const defaultBulletSize = toPx(getComputedStyle(els[i]).getPropertyValue('--vis-legend-bullet-size'));\r\n        const spacing = config.bulletSpacing * (BULLET_SIZE / defaultBulletSize); // Scale spacing relative to bullet size\r\n        const width = getBulletsTotalWidth(bulletWidth, numBullets, spacing);\r\n        const height = shape === BulletShape.Line ? BULLET_SIZE / 2.5 : BULLET_SIZE;\r\n        const selection = select(els[i]).select('svg')\r\n            .attr('viewBox', `0 0 ${width} ${height}`);\r\n        // Remove existing paths\r\n        selection.selectAll('path').remove();\r\n        const opacity = d.inactive ? 'var(--vis-legend-bullet-inactive-opacity)' : 1;\r\n        // Create a path for each color\r\n        colors.forEach((color, colorIndex) => {\r\n            const bulletPath = selection.append('path');\r\n            if (shape === BulletShape.Line) {\r\n                const x1 = colorIndex * (bulletWidth + spacing);\r\n                const x2 = x1 + bulletWidth;\r\n                bulletPath\r\n                    .attr('d', `M${x1},${height / 2} L${x2},${height / 2}`)\r\n                    .attr('transform', null)\r\n                    .style('opacity', opacity)\r\n                    .style('stroke', color)\r\n                    .style('stroke-width', '3px')\r\n                    .style('fill', null)\r\n                    .style('fill-opacity', null)\r\n                    .style('marker-start', 'none')\r\n                    .style('marker-end', 'none');\r\n            }\r\n            else {\r\n                const symbolGen = symbol()\r\n                    .type(Symbol[shape])\r\n                    .size(bulletWidth * height * shapeScale[shape]);\r\n                const scale = (bulletWidth - 2) / bulletWidth;\r\n                let dy = height / 2;\r\n                switch (shape) {\r\n                    case BulletShape.Triangle:\r\n                        dy += height / 8;\r\n                        break;\r\n                    case BulletShape.Star:\r\n                        dy += height / 16;\r\n                        break;\r\n                    case BulletShape.Wye:\r\n                        dy -= height / 16;\r\n                        break;\r\n                }\r\n                const dx = colorIndex * (bulletWidth + spacing) + bulletWidth / 2;\r\n                bulletPath\r\n                    .attr('d', symbolGen)\r\n                    .attr('transform', `translate(${dx}, ${Math.round(dy)}) scale(${scale})`)\r\n                    .style('stroke', color)\r\n                    .style('stroke-width', '1px')\r\n                    .style('opacity', null)\r\n                    .style('fill', color)\r\n                    .style('fill-opacity', opacity);\r\n            }\r\n        });\r\n    });\r\n}\n\nexport { createBullets, getBulletsTotalWidth, updateBullets };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst root = css `\n  label: bullet-legend-component;\n`;\r\nconst variables = injectGlobal `\n  :root {\n    // Undefined by default to allow proper fallback to var(--vis-font-family)\n    /* --vis-legend-font-family: */\n\n    --vis-legend-label-color: #6c778c;\n    --vis-legend-label-max-width: 300px;\n    --vis-legend-label-font-size: 12px;\n    --vis-legend-bullet-size: 9px;\n    --vis-legend-bullet-inactive-opacity: 0.15;\n    --vis-legend-item-spacing: 20px;\n    --vis-legend-vertical-item-spacing: 5px;\n    --vis-legend-bullet-label-spacing: 8px;\n\n    --vis-dark-legend-label-color: #eee;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-legend-label-color: var(--vis-dark-legend-label-color);\n  }\n\n  body.theme-patterns {\n    --vis-legend-bullet-size: 14px;\n  }\n`;\r\nconst item = css `\n  label: legendItem;\n  display: inline-flex;\n  align-items: center;\n  font-family: var(--vis-legend-font-family, var(--vis-font-family));\n  margin-right: var(--vis-legend-item-spacing);\n  white-space: nowrap;\n  cursor: default;\n  user-select: none;\n  max-width: min-content;\n`;\r\nconst itemVertical = css `\n  label: legendItemVertical;\n  display: flex;\n  margin-top: var(--vis-legend-vertical-item-spacing);\n`;\r\nconst clickable = css `\n  cursor: pointer;\n`;\r\nconst label = css `\n  label: legendItemLabel;\n  font-size: var(--vis-legend-label-font-size);\n  display: inline-block;\n  vertical-align: middle;\n  color: var(--vis-legend-label-color);\n  max-width: var(--vis-legend-label-max-width);\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n`;\r\nconst bullet = css `\n  flex: 0 0 auto;\n  label: legendItemBullet;\n  margin-right: var(--vis-legend-bullet-label-spacing);\n  height: var(--vis-legend-bullet-size);\n  width: var(--vis-legend-bullet-size);\n\n  svg {\n    display: block;\n  }\n`;\n\nexport { bullet, clickable, item, itemVertical, label, root, variables };\n\n", "const RollingPinLegendDefaultConfig = {\r\n    rects: [],\r\n    leftLabelText: undefined,\r\n    rightLabelText: undefined,\r\n    labelClassName: '',\r\n    labelFontSize: null,\r\n    renderIntoProvidedDomNode: false,\r\n};\n\nexport { RollingPinLegendDefaultConfig };\n\n", "import { css } from '@emotion/css';\nimport { getCssVarNames, injectGlobalCssVariables } from '../../utils/style.js';\n\nconst root = css `\n  display: flex;\n`;\r\nconst cssVarDefaults = {\r\n    '--vis-rolling-pin-legend-label-color': '#6c778c',\r\n    '--vis-rolling-pin-legend-label-max-width': '300px',\r\n    '--vis-rolling-pin-legend-label-font-size': '12px',\r\n    '--vis-rolling-pin-legend-spacing': '4px',\r\n    '--vis-rolling-pin-legend-item-width': '8px',\r\n    '--vis-dark-rolling-pin-legend-label-color': '#eee',\r\n};\r\nconst variables = getCssVarNames(cssVarDefaults);\r\ninjectGlobalCssVariables(cssVarDefaults, root);\r\nconst rectsContainer = css `\n  display: flex;\n`;\r\nconst label = css `\n  font-family: var(--vis-rolling-pin-legend-font-family, var(--vis-font-family));\n  font-size: var(${variables.rollingPinLegendLabelFontSize});\n  max-width: var(${variables.rollingPinLegendLabelMaxWidth});\n  color: var(${variables.rollingPinLegendLabelColor});\n`;\r\nconst leftLabel = css `\n  margin-right: var(${variables.rollingPinLegendSpacing});\n`;\r\nconst rightLabel = css `\n  margin-left: var(${variables.rollingPinLegendSpacing});\n`;\r\nconst rect = css `\n  display: inline-block;\n  flex: 1;\n  width: var(${variables.rollingPinLegendItemWidth});\n`;\n\nexport { cssVarDefaults, label, leftLabel, rect, rectsContainer, rightLabel, root, variables };\n\n", "import { select } from 'd3-selection';\nimport { merge } from '../../utils/data.js';\nimport { RollingPinLegendDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { root, label, rectsContainer, leftLabel, rightLabel, rect } from './style.js';\n\nclass RollingPinLegend {\r\n    constructor(element, config) {\r\n        this._defaultConfig = RollingPinLegendDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this._container = element;\r\n        this.div = (config === null || config === void 0 ? void 0 : config.renderIntoProvidedDomNode) ? select(this._container) : select(this._container).append('div');\r\n        this.div.classed(root, true);\r\n        this.element = this.div.node();\r\n        if (config)\r\n            this.setConfig(config);\r\n    }\r\n    setConfig(config) {\r\n        this.prevConfig = this.config;\r\n        this.config = merge(this._defaultConfig, config);\r\n        this.render();\r\n    }\r\n    render() {\r\n        const { config } = this;\r\n        const newRoot = this.div\r\n            .selectAll(`.${root}`)\r\n            .data([0])\r\n            .enter()\r\n            .append('div')\r\n            .attr('class', root);\r\n        newRoot\r\n            .append('span')\r\n            .attr('class', label)\r\n            .classed(config.labelClassName, true)\r\n            .style('font-size', config.labelFontSize);\r\n        newRoot\r\n            .append('div')\r\n            .attr('class', rectsContainer);\r\n        newRoot\r\n            .append('span')\r\n            .attr('class', label)\r\n            .classed(config.labelClassName, true)\r\n            .style('font-size', config.labelFontSize);\r\n        const root$1 = this.div\r\n            .select(`.${root}`);\r\n        root$1.selectAll(`.${label}`)\r\n            .data([config.leftLabelText, config.rightLabelText])\r\n            .text(d => d)\r\n            .classed(leftLabel, (d, i) => i === 0 && typeof d === 'string' && d.length > 0)\r\n            .classed(rightLabel, (d, i) => i === 1 && typeof d === 'string' && d.length > 0);\r\n        const rectsContainer$1 = root$1.select(`.${rectsContainer}`);\r\n        const rects = rectsContainer$1.selectAll(`.${rect}`).data(config.rects);\r\n        const rectsEnter = rects.enter()\r\n            .append('div')\r\n            .attr('class', rect);\r\n        const rectsMerged = rectsEnter.merge(rects);\r\n        rectsMerged\r\n            .style('background-color', d => d);\r\n        rects.exit().remove();\r\n    }\r\n    destroy() {\r\n        if (this.element !== this._container)\r\n            this.div.remove();\r\n    }\r\n}\r\nRollingPinLegend.selectors = style;\n\nexport { RollingPinLegend };\n\n", "const FlowLegendDefaultConfig = {\r\n    customWidth: undefined,\r\n    items: [],\r\n    labelFontSize: 12,\r\n    lineColor: undefined,\r\n    labelColor: undefined,\r\n    arrowSymbol: '',\r\n    arrowColor: undefined,\r\n    onLegendItemClick: undefined,\r\n};\n\nexport { FlowLegendDefaultConfig };\n\n", "var FlowLegendItemType;\r\n(function (FlowLegendItemType) {\r\n    FlowLegendItemType[\"Label\"] = \"label\";\r\n    FlowLegendItemType[\"Symbol\"] = \"symbol\";\r\n})(FlowLegendItemType || (FlowLegendItemType = {}));\n\nexport { FlowLegendItemType };\n\n", "import { css, injectGlobal } from '@emotion/css';\nimport { UNOVIS_ICON_FONT_FAMILY_DEFAULT } from '../../styles/index.js';\n\nconst root = css `\n  label: flow-legend-component;\n\n  position: relative;\n  user-select: none;\n`;\r\nconst globalStyles = injectGlobal `\n  :root {\n    --vis-flow-legend-label-background: #ffffff;\n    --vis-flow-legend-label-color: #71788a;\n    --vis-flow-legend-link-color: #E5E9F7;\n    --vis-flow-legend-arrow-color: #E5E9F7;\n    --vis-flow-legend-label-padding: 5px 15px;\n    --vis-flow-legend-arrow-padding: 0 10px;\n    /* --vis-flow-legend-arrow-font-family: Undefined by default to allow proper fallback to var(DEFAULT_ICON_FONT_FAMILY)*/\n\n    --vis-dark-flow-legend-label-background: #292b34;\n    --vis-dark-flow-legend-label-color: #E5E9F7;\n    --vis-dark-flow-legend-link-color: #71788a;\n    --vis-dark-flow-legend-arrow-color: #71788a;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-flow-legend-label-background: var(--vis-dark-flow-legend-label-background);\n    --vis-flow-legend-label-color: var(--vis-dark-flow-legend-label-color);\n    --vis-flow-legend-link-color: var(--vis-dark-flow-legend-link-color);\n    --vis-flow-legend-arrow-color: var(--vis-dark-flow-legend-arrow-color);\n  }\n`;\r\nconst line = (lineColor) => css `\n  label: line;\n\n  height: 2px;\n  width: 100%;\n  background-color: ${lineColor || 'var(--vis-flow-legend-link-color)'};\n  position: absolute;\n  top: 50%;\n`;\r\nconst labels = css `\n  label: labels;\n\n  position: relative;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\r\nconst item = css `\n  label: item;\n\n  position: relative;\n  max-width: 50px;\n\n  padding: 10px;\n`;\r\nconst clickable = css `\n  cursor: pointer;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\r\nconst label = (labelFontSize, labelColor) => css `\n  label: label;\n\n  transform: translate(-50%, 0%);\n  margin-left: 7px;\n  background-color: var(--vis-flow-legend-label-background);\n  padding: var(--vis-flow-legend-label-padding);\n  font-size: ${labelFontSize}px;\n  color: ${labelColor || 'var(--vis-flow-legend-label-color)'};\n  display: inline-table;\n  text-align: center;\n`;\r\nconst arrow = (arrowColor) => css `\n  label: arrow;\n\n  font-family: var(--vis-flow-legend-arrow-font-family, ${UNOVIS_ICON_FONT_FAMILY_DEFAULT});\n  font-size: 9px;\n  vertical-align: middle;\n  color: ${arrowColor || 'var(--vis-flow-legend-arrow-color)'};\n  background-color: var(--vis-flow-legend-label-background);\n  padding: var(--vis-flow-legend-arrow-padding);\n  transform: translate(-25%, 0%);\n  display: inline-table;\n  text-align: center;\n`;\n\nexport { arrow, clickable, globalStyles, item, label, labels, line, root };\n\n", "import { select } from 'd3-selection';\nimport { smartTransition } from '../../utils/d3.js';\nimport { merge } from '../../utils/data.js';\nimport { FlowLegendDefaultConfig } from './config.js';\nimport { FlowLegendItemType } from './types.js';\nimport { root, labels, item, arrow, label, clickable, line } from './style.js';\n\nclass FlowLegend {\r\n    constructor(element, config) {\r\n        this._defaultConfig = FlowLegendDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this._container = element;\r\n        this.div = select(this._container).append('div').attr('class', root);\r\n        this.element = this.div.node();\r\n        this.line = this.div.append('div');\r\n        this.labels = this.div.append('div').attr('class', labels);\r\n        if (config)\r\n            this.update(config);\r\n    }\r\n    update(config) {\r\n        this.prevConfig = this.config;\r\n        this.config = merge(this._defaultConfig, config);\r\n        this.render();\r\n    }\r\n    render() {\r\n        const { config } = this;\r\n        if (!config.items.length)\r\n            return;\r\n        if (config.customWidth)\r\n            this.div.style('width', `${config.customWidth}px`);\r\n        // Prepare Data\r\n        const legendData = config.items.reduce((acc, label, i) => {\r\n            acc.push({\r\n                text: label,\r\n                index: i,\r\n                type: FlowLegendItemType.Label,\r\n            });\r\n            if (config.arrowSymbol && (acc.length !== config.items.length * 2 - 1)) {\r\n                acc.push({\r\n                    text: config.arrowSymbol,\r\n                    index: i,\r\n                    type: FlowLegendItemType.Symbol,\r\n                });\r\n            }\r\n            return acc;\r\n        }, []);\r\n        // Draw\r\n        const legendItems = this.labels.selectAll(`.${item}`)\r\n            .data(legendData);\r\n        const legendItemsEnter = legendItems.enter()\r\n            .append('div')\r\n            .attr('class', item)\r\n            .attr('opacity', 0);\r\n        legendItemsEnter.filter(d => d.type === FlowLegendItemType.Label)\r\n            .on('click', this._onItemClick.bind(this));\r\n        legendItemsEnter.append('span')\r\n            .attr('class', d => d.type === FlowLegendItemType.Symbol\r\n            ? arrow(config.arrowColor)\r\n            : label(config.labelFontSize, config.labelColor))\r\n            .classed(clickable, d => d.type === FlowLegendItemType.Label && !!config.onLegendItemClick);\r\n        const legendItemsMerged = legendItemsEnter.merge(legendItems);\r\n        smartTransition(legendItemsMerged, 500)\r\n            .attr('opacity', 1);\r\n        legendItemsMerged.select('span').html(d => d.text);\r\n        legendItems.exit().remove();\r\n        this.line\r\n            .attr('class', line(config.lineColor))\r\n            .style('opacity', config.items.length > 1 ? 1 : 0);\r\n    }\r\n    _onItemClick(event, d) {\r\n        const { config } = this;\r\n        if (config.onLegendItemClick)\r\n            config.onLegendItemClick(d.text, d.index);\r\n    }\r\n}\n\nexport { FlowLegend };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\n\nconst CrosshairDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { yStacked: undefined, baseline: null, duration: 100, tooltip: undefined, template: (d, x, data, leftNearestDatumIndex) => '', hideWhenFarFromPointer: true, hideWhenFarFromPointerDistance: 100, snapToData: true, getCircles: undefined, color: undefined, strokeColor: undefined, strokeWidth: undefined, onCrosshairMove: undefined, forceShowAt: undefined, skipRangeCheck: false });\n\nexport { CrosshairDefaultConfig };\n\n", "import { injectGlobal, css } from '@emotion/css';\n\nconst globalStyles = injectGlobal `\n  :root {\n    --vis-crosshair-line-stroke-color: #888;\n    --vis-crosshair-line-stroke-width: 1px;\n    --vis-crosshair-line-stroke-opacity: 1;\n    --vis-crosshair-circle-stroke-color: #fff;\n    --vis-crosshair-circle-stroke-width: 1px;\n    --vis-crosshair-circle-stroke-opacity: 0.75;\n  }\n`;\r\nconst root = css `\n  label: crosshair-component;\n`;\r\nconst line = css `\n  stroke: var(--vis-crosshair-line-stroke-color);\n  stroke-width: var(--vis-crosshair-line-stroke-width);\n  stroke-opacity: var(--vis-crosshair-line-stroke-opacity);\n  pointer-events: none;\n`;\r\nconst circle = css `\n  stroke: var(--vis-crosshair-circle-stroke-color);\n  stroke-width: var(--vis-crosshair-circle-stroke-width);\n  stroke-opacity: var(--vis-crosshair-circle-stroke-opacity);\n  pointer-events: none;\n`;\n\nexport { circle, globalStyles, line, root };\n\n", "import { pointer } from 'd3-selection';\nimport { easeLinear } from 'd3-ease';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { isArray, isNumber, getNearest, clamp, getNumber, isFunction, getStackedValues } from '../../utils/data.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { getColor } from '../../utils/color.js';\nimport { Position } from '../../types/position.js';\nimport { FindNearestDirection } from '../../types/data.js';\nimport { CrosshairDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { line, circle } from './style.js';\n\nclass Crosshair extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this.clippable = true; // Don't apply clipping path to this component. See XYContainer\r\n        this._defaultConfig = CrosshairDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this._xPx = undefined;\r\n        this._yPx = undefined;\r\n        this._mouseEvent = undefined;\r\n        this._animFrameId = null;\r\n        /** Accessors passed externally (e.g. from XYContainer) */\r\n        this._accessors = {\r\n            x: undefined,\r\n            y: undefined,\r\n            yStacked: undefined,\r\n            baseline: undefined,\r\n        };\r\n        if (config)\r\n            this.setConfig(config);\r\n        this.g.style('opacity', 0);\r\n        this.line = this.g.append('line')\r\n            .attr('class', line);\r\n    }\r\n    set accessors(accessors) { this._accessors = accessors; }\r\n    get accessors() {\r\n        var _a;\r\n        const { config } = this;\r\n        const hasConfig = !!(config.x || config.y || config.yStacked);\r\n        const x = hasConfig ? config.x : this._accessors.x;\r\n        const yAcc = hasConfig ? config.y : this._accessors.y;\r\n        const y = yAcc ? (isArray(yAcc) ? yAcc : [yAcc]) : undefined;\r\n        const yStacked = hasConfig ? config.yStacked : this._accessors.yStacked;\r\n        const baseline = (_a = config.baseline) !== null && _a !== void 0 ? _a : this._accessors.baseline;\r\n        return { x, y, yStacked, baseline };\r\n    }\r\n    _isContainerInViewport() {\r\n        var _a;\r\n        if (!((_a = this.container) === null || _a === void 0 ? void 0 : _a.node()))\r\n            return false;\r\n        const containerRect = this.container.node().getBoundingClientRect();\r\n        const viewportWidth = window.innerWidth || document.documentElement.clientWidth;\r\n        const viewportHeight = window.innerHeight || document.documentElement.clientHeight;\r\n        // Calculate the visible area of the container\r\n        const visibleWidth = Math.max(0, Math.min(containerRect.right, viewportWidth) - Math.max(containerRect.left, 0));\r\n        const visibleHeight = Math.max(0, Math.min(containerRect.bottom, viewportHeight) - Math.max(containerRect.top, 0));\r\n        const containerArea = containerRect.width * containerRect.height;\r\n        const visibleArea = visibleWidth * visibleHeight;\r\n        // Container must be at least 35% visible\r\n        return containerArea > 0 && (visibleArea / containerArea) >= 0.35;\r\n    }\r\n    setContainer(containerSvg) {\r\n        if (this.container === containerSvg)\r\n            return;\r\n        this.container = containerSvg;\r\n        this.container.on('mousemove.crosshair', this._onMouseMove.bind(this));\r\n        this.container.on('mouseout.crosshair', this._onMouseOut.bind(this));\r\n        this.container.on('wheel.crosshair', this._onWheel.bind(this));\r\n    }\r\n    _render(customDuration) {\r\n        var _a, _b, _c, _d, _e;\r\n        const { config, datamodel } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        const isForceShowAtDefined = config.forceShowAt !== undefined;\r\n        const xPx = isForceShowAtDefined ? this.xScale(config.forceShowAt) : this._xPx;\r\n        const xValue = this.xScale.invert(xPx);\r\n        const leftNearestDatumIndex = (((_a = datamodel.data) === null || _a === void 0 ? void 0 : _a.length) && this.accessors.x)\r\n            ? datamodel.data.indexOf(getNearest(datamodel.data, xValue, this.accessors.x, FindNearestDirection.Left)) : undefined;\r\n        // If `snapToData` is `true`, we need to find the nearest datum to the crosshair\r\n        // It can be from a mouse interaction or from a `forceShowAt` setting\r\n        let nearestDatum;\r\n        let nearestDatumIndex;\r\n        if (config.snapToData) {\r\n            if (!this.accessors.y && !this.accessors.yStacked && ((_b = datamodel.data) === null || _b === void 0 ? void 0 : _b.length)) {\r\n                console.warn('Unovis | Crosshair: Y accessors have not been configured. Please check if they\\'re present in the configuration object');\r\n            }\r\n            // Emit a warning if there's no data to snap to.\r\n            // To keep the console clean, only emit the warning when there's mouse interaction.\r\n            if (!((_c = datamodel.data) === null || _c === void 0 ? void 0 : _c.length) && this._mouseEvent) {\r\n                console.warn('Unovis | Crosshair: No data to snap to. Make sure the data has been passed to the container or to the crosshair itself');\r\n            }\r\n            nearestDatum = getNearest(datamodel.data, xValue, this.accessors.x);\r\n            nearestDatumIndex = datamodel.data.indexOf(nearestDatum);\r\n        }\r\n        const xRange = this.xScale.range();\r\n        const yRange = this.yScale.range();\r\n        const xClamped = config.snapToData && nearestDatum\r\n            ? clamp(Math.round(this.xScale(getNumber(nearestDatum, this.accessors.x, nearestDatumIndex))), 0, this._width)\r\n            : clamp(xPx, xRange[0], xRange[1]);\r\n        const isCrosshairWithinXRange = (xPx >= xRange[0]) && (xPx <= xRange[1]);\r\n        const isCrosshairWithinYRange = (this._yPx >= Math.min(yRange[0], yRange[1])) && (this._yPx <= Math.max(yRange[0], yRange[1]));\r\n        let shouldShow = config.skipRangeCheck ? !!this._xPx : (this._xPx ? isCrosshairWithinXRange && isCrosshairWithinYRange : isCrosshairWithinXRange);\r\n        // If the crosshair is far from the mouse pointer (usually when `snapToData` is `true` and data resolution is low), hide it\r\n        if (config.hideWhenFarFromPointer && ((Math.abs(xClamped - (+xPx)) >= config.hideWhenFarFromPointerDistance))) {\r\n            shouldShow = false;\r\n        }\r\n        const tooltip = (_d = config.tooltip) !== null && _d !== void 0 ? _d : this.tooltip;\r\n        if (shouldShow && tooltip && this._isContainerInViewport()) {\r\n            const container = tooltip.getContainer() || this.container.node();\r\n            const isContainerBody = tooltip.isContainerBody();\r\n            if (isForceShowAtDefined) {\r\n                // Convert SVG coordinates to screen coordinates\r\n                const containerRect = this.container.node().getBoundingClientRect();\r\n                // Use the actual left margin from the container\r\n                const screenX = (isContainerBody ? xPx + containerRect.left : xPx) + this._containerMargin.left;\r\n                const screenY = this._height / 2 + (isContainerBody ? containerRect.top : 0);\r\n                const pos = [screenX, screenY];\r\n                this._showTooltip(nearestDatum, xValue, pos, leftNearestDatumIndex);\r\n            }\r\n            else if (this._mouseEvent) {\r\n                const pos = (isContainerBody ? [this._mouseEvent.clientX, this._mouseEvent.clientY] : pointer(this._mouseEvent, container));\r\n                this._showTooltip(nearestDatum, xValue, pos, leftNearestDatumIndex);\r\n            }\r\n        }\r\n        else\r\n            this._hideTooltip();\r\n        // Trigger `onCrosshairMove` if the render was triggered by a mouse move event\r\n        if (this._mouseEvent) {\r\n            (_e = config.onCrosshairMove) === null || _e === void 0 ? void 0 : _e.call(config, shouldShow ? this.xScale.invert(this._xPx) : undefined, nearestDatum, nearestDatumIndex, this._mouseEvent);\r\n            this._mouseEvent = undefined;\r\n        }\r\n        smartTransition(this.g, duration)\r\n            .style('opacity', shouldShow ? 1 : 0);\r\n        // When `config.forceShowAt` becomes `undefined`, the crosshair \"jumps\" to the edge of the chart.\r\n        // This looks off, so we stop further rendering when the `xPx` value is not finite.\r\n        if (!isFinite(xPx))\r\n            return;\r\n        this.line\r\n            .attr('y1', 0)\r\n            .attr('y2', this._height);\r\n        smartTransition(this.line, duration, easeLinear)\r\n            .attr('x1', xClamped)\r\n            .attr('x2', xClamped);\r\n        const circleData = isFunction(config.getCircles)\r\n            ? config.getCircles(xValue, datamodel.data, this.yScale, leftNearestDatumIndex)\r\n            : this.getCircleData(nearestDatum, nearestDatumIndex);\r\n        const circles = this.g\r\n            .selectAll('circle')\r\n            .data(circleData, (d, i) => { var _a; return (_a = d.id) !== null && _a !== void 0 ? _a : i; });\r\n        const circlesEnter = circles.enter()\r\n            .append('circle')\r\n            .attr('class', circle)\r\n            .attr('r', 0)\r\n            .attr('cx', xClamped)\r\n            .attr('cy', d => d.y)\r\n            .style('fill', d => d.color)\r\n            .style('stroke', d => d.strokeColor)\r\n            .style('stroke-width', d => d.strokeWidth);\r\n        smartTransition(circlesEnter.merge(circles), duration, easeLinear)\r\n            .attr('cx', xClamped)\r\n            .attr('cy', d => d.y)\r\n            .attr('r', 4)\r\n            .style('opacity', d => d.opacity)\r\n            .style('fill', d => d.color)\r\n            .style('stroke', d => d.strokeColor)\r\n            .style('stroke-width', d => d.strokeWidth);\r\n        circles.exit().remove();\r\n    }\r\n    hide(sourceEvent) {\r\n        window.cancelAnimationFrame(this._animFrameId);\r\n        this._animFrameId = window.requestAnimationFrame(() => {\r\n            var _a, _b;\r\n            this._xPx = undefined;\r\n            this._yPx = undefined;\r\n            this._mouseEvent = undefined;\r\n            // We call `onCrosshairMove` with all the arguments set to `undefined` because we want\r\n            // the users to be able to hide the crosshair easily when using `forceShowAt`\r\n            (_b = (_a = this.config).onCrosshairMove) === null || _b === void 0 ? void 0 : _b.call(_a, undefined, undefined, undefined, sourceEvent);\r\n            this._render();\r\n        });\r\n    }\r\n    _onMouseMove(event) {\r\n        var _a;\r\n        const { datamodel, element } = this;\r\n        if (!this.accessors.x && ((_a = datamodel.data) === null || _a === void 0 ? void 0 : _a.length)) {\r\n            console.warn('Unovis | Crosshair: X accessor function has not been configured. Please check if it\\'s present in the configuration object');\r\n        }\r\n        const [x, y] = pointer(event, element);\r\n        this._xPx = x;\r\n        this._yPx = y;\r\n        this._mouseEvent = event;\r\n        window.cancelAnimationFrame(this._animFrameId);\r\n        this._animFrameId = window.requestAnimationFrame(() => {\r\n            // We'll call `config.onCrosshairMove` in `_render` with the found `nearestDatum` and `nearestDatumIndex`,\r\n            // which can come from the mouse interaction or from the `forceShowAt` setting\r\n            this._render();\r\n        });\r\n    }\r\n    _onMouseOut(event) {\r\n        var _a;\r\n        // Only hide if the mouse actually left the SVG, not just moved to a child\r\n        if (!event || !((_a = this.container) === null || _a === void 0 ? void 0 : _a.node().contains(event.relatedTarget))) {\r\n            this.hide(event);\r\n        }\r\n    }\r\n    _onWheel(event) {\r\n        this.hide(event);\r\n    }\r\n    _showTooltip(datum, xValue, pos, nearestDatumIndex) {\r\n        var _a;\r\n        const { config, datamodel } = this;\r\n        const tooltip = (_a = config.tooltip) !== null && _a !== void 0 ? _a : this.tooltip;\r\n        if (!tooltip || !pos)\r\n            return;\r\n        const [x, y] = pos;\r\n        const content = config.template(datum, xValue, datamodel.data, nearestDatumIndex);\r\n        // Force set `followCursor` to `true` because we don't want Crosshair's tooltip to be hoverable\r\n        tooltip.config.followCursor = true;\r\n        // Set tooltip placement based on Crosshair's position (left / right)\r\n        if (!tooltip.config.horizontalPlacement || tooltip.config.horizontalPlacement === Position.Auto) {\r\n            const xRelative = tooltip.isContainerBody() ? x - this.container.node().getBoundingClientRect().left : x;\r\n            tooltip.overrideHorizontalPlacement(xRelative > this._containerWidth / 2 ? Position.Left : Position.Right);\r\n        }\r\n        if (content)\r\n            tooltip.show(content, { x, y });\r\n    }\r\n    _hideTooltip() {\r\n        var _a;\r\n        const { config } = this;\r\n        const tooltip = (_a = config.tooltip) !== null && _a !== void 0 ? _a : this.tooltip;\r\n        tooltip === null || tooltip === void 0 ? void 0 : tooltip.hide();\r\n    }\r\n    // We don't want Crosshair to be be taken in to account in domain calculations\r\n    getYDataExtent() {\r\n        return [undefined, undefined];\r\n    }\r\n    getCircleData(datum, datumIndex) {\r\n        var _a, _b;\r\n        const { config } = this;\r\n        if (config.snapToData && datum) {\r\n            const yAccessors = (_a = this.accessors.y) !== null && _a !== void 0 ? _a : [];\r\n            const yStackedAccessors = (_b = this.accessors.yStacked) !== null && _b !== void 0 ? _b : [];\r\n            const baselineValue = getNumber(datum, this.accessors.baseline, datumIndex) || 0;\r\n            const stackedValues = getStackedValues(datum, datumIndex, ...yStackedAccessors)\r\n                .map((value, index) => ({\r\n                y: this.yScale(value + baselineValue),\r\n                opacity: isNumber(getNumber(datum, yStackedAccessors[index], index)) ? 1 : 0,\r\n                color: getColor(datum, config.color, index),\r\n                strokeColor: config.strokeColor ? getColor(datum, config.strokeColor, index) : undefined,\r\n                strokeWidth: config.strokeWidth ? getNumber(datum, config.strokeWidth, index) : undefined,\r\n            }));\r\n            const regularValues = yAccessors\r\n                .map((a, index) => {\r\n                const value = getNumber(datum, a, datumIndex);\r\n                return {\r\n                    y: this.yScale(value),\r\n                    opacity: isNumber(value) ? 1 : 0,\r\n                    color: getColor(datum, config.color, stackedValues.length + index),\r\n                    strokeColor: config.strokeColor ? getColor(datum, config.strokeColor, index) : undefined,\r\n                    strokeWidth: config.strokeWidth ? getNumber(datum, config.strokeWidth, index) : undefined,\r\n                };\r\n            });\r\n            return stackedValues.concat(regularValues);\r\n        }\r\n        return [];\r\n    }\r\n}\r\nCrosshair.selectors = style;\n\nexport { Crosshair };\n\n", "var Shape;\r\n(function (Shape) {\r\n    Shape[\"Square\"] = \"square\";\r\n    Shape[\"Circle\"] = \"circle\";\r\n    Shape[\"Hexagon\"] = \"hexagon\";\r\n    Shape[\"Triangle\"] = \"triangle\";\r\n    Shape[\"Cluster\"] = \"cluster\";\r\n})(Shape || (Shape = {}));\n\nexport { Shape };\n\n", "var ChordLabelAlignment;\r\n(function (ChordLabelAlignment) {\r\n    ChordLabelAlignment[\"Along\"] = \"along\";\r\n    ChordLabelAlignment[\"Perpendicular\"] = \"perpendicular\";\r\n})(ChordLabelAlignment || (ChordLabelAlignment = {}));\n\nexport { ChordLabelAlignment };\n\n", "export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n", "export default function noop() {}\n", "function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n", "import {Adder} from \"d3-array\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = new Adder();\n\n// hello?\n\nvar areaSum = new Adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum = new Adder();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum = new Adder();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n", "import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n", "export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n", "import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n", "import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(2),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n", "import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n", "import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n", "import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n", "import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n", "import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n", "import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n", "import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 2 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n", "export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n", "import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n", "export default x => x;\n", "import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n", "import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n", "import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n", "import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n", "import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n", "// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n", "import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n", "export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n", "import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n", "import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n", "import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n", "import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n", "import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n", "import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n", "import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n", "import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960500. The projection also works quite well at 960600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n", "import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n", "import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n", "import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n", "import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n", "import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n", "import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n", "import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n", "import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n", "import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n", "import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n", "import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n", "import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n", "import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n", "export var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var ceil = Math.ceil;\nexport var cos = Math.cos;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var pow = Math.pow;\nexport var round = Math.round;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sin = Math.sin;\nexport var tan = Math.tan;\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var sqrt1_2 = Math.SQRT1_2;\nexport var sqrt2 = sqrt(2);\nexport var sqrtPi = sqrt(pi);\nexport var tau = pi * 2;\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport function sinci(x) {\n  return x ? x / Math.sin(x) : 1;\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function sqrt(x) {\n  return x > 0 ? Math.sqrt(x) : 0;\n}\n\nexport function tanh(x) {\n  x = exp(2 * x);\n  return (x - 1) / (x + 1);\n}\n\nexport function sinh(x) {\n  return (exp(x) - exp(-x)) / 2;\n}\n\nexport function cosh(x) {\n  return (exp(x) + exp(-x)) / 2;\n}\n\nexport function arsinh(x) {\n  return log(x + sqrt(x * x + 1));\n}\n\nexport function arcosh(x) {\n  return log(x + sqrt(x * x - 1));\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, acos, cos, epsilon, pi, sin, sinci, sqrt} from \"./math.js\";\n\nexport function aitoffRaw(x, y) {\n  var cosy = cos(y), sincia = sinci(acos(cosy * cos(x /= 2)));\n  return [2 * cosy * sin(x) * sincia, sin(y) * sincia];\n}\n\n// Abort if [x, y] is not within an ellipse centered at [0, 0] with\n// semi-major axis pi and semi-minor axis pi/2.\naitoffRaw.invert = function(x, y) {\n  if (x * x + 4 * y * y > pi * pi + epsilon) return;\n  var x1 = x, y1 = y, i = 25;\n  do {\n    var sinx = sin(x1),\n        sinx_2 = sin(x1 / 2),\n        cosx_2 = cos(x1 / 2),\n        siny = sin(y1),\n        cosy = cos(y1),\n        sin_2y = sin(2 * y1),\n        sin2y = siny * siny,\n        cos2y = cosy * cosy,\n        sin2x_2 = sinx_2 * sinx_2,\n        c = 1 - cos2y * cosx_2 * cosx_2,\n        e = c ? acos(cosy * cosx_2) * sqrt(f = 1 / c) : f = 0,\n        f,\n        fx = 2 * e * cosy * sinx_2 - x,\n        fy = e * siny - y,\n        dxdx = f * (cos2y * sin2x_2 + e * cosy * cosx_2 * sin2y),\n        dxdy = f * (0.5 * sinx * sin_2y - e * 2 * siny * sinx_2),\n        dydx = f * 0.25 * (sin_2y * sinx_2 - e * siny * cos2y * sinx),\n        dydy = f * (sin2y * cosx_2 + e * sin2x_2 * cosy),\n        z = dxdy * dydx - dydy * dxdx;\n    if (!z) break;\n    var dx = (fy * dxdy - fx * dydy) / z,\n        dy = (fx * dydx - fy * dxdx) / z;\n    x1 -= dx, y1 -= dy;\n  } while ((abs(dx) > epsilon || abs(dy) > epsilon) && --i > 0);\n  return [x1, y1];\n};\n\nexport default function() {\n  return projection(aitoffRaw)\n      .scale(152.63);\n}\n", "import {geoProjectionMutator as projectionMutator} from \"d3-geo\";\nimport {abs, atan2, cos, degrees, epsilon, radians, sin, tan} from \"./math.js\";\n\nexport function armadilloRaw(phi0) {\n  var sinPhi0 = sin(phi0),\n      cosPhi0 = cos(phi0),\n      sPhi0 = phi0 >= 0 ? 1 : -1,\n      tanPhi0 = tan(sPhi0 * phi0),\n      k = (1 + sinPhi0 - cosPhi0) / 2;\n\n  function forward(lambda, phi) {\n    var cosPhi = cos(phi),\n        cosLambda = cos(lambda /= 2);\n    return [\n      (1 + cosPhi) * sin(lambda),\n      (sPhi0 * phi > -atan2(cosLambda, tanPhi0) - 1e-3 ? 0 : -sPhi0 * 10) + k + sin(phi) * cosPhi0 - (1 + cosPhi) * sinPhi0 * cosLambda // TODO D3 core should allow null or [NaN, NaN] to be returned.\n    ];\n  }\n\n  forward.invert = function(x, y) {\n    var lambda = 0,\n        phi = 0,\n        i = 50;\n    do {\n      var cosLambda = cos(lambda),\n          sinLambda = sin(lambda),\n          cosPhi = cos(phi),\n          sinPhi = sin(phi),\n          A = 1 + cosPhi,\n          fx = A * sinLambda - x,\n          fy = k + sinPhi * cosPhi0 - A * sinPhi0 * cosLambda - y,\n          dxdLambda = A * cosLambda / 2,\n          dxdPhi = -sinLambda * sinPhi,\n          dydLambda = sinPhi0 * A * sinLambda / 2,\n          dydPhi = cosPhi0 * cosPhi + sinPhi0 * cosLambda * sinPhi,\n          denominator = dxdPhi * dydLambda - dydPhi * dxdLambda,\n          dLambda = (fy * dxdPhi - fx * dydPhi) / denominator / 2,\n          dPhi = (fx * dydLambda - fy * dxdLambda) / denominator;\n      if (abs(dPhi) > 2) dPhi /= 2;\n      lambda -= dLambda, phi -= dPhi;\n    } while ((abs(dLambda) > epsilon || abs(dPhi) > epsilon) && --i > 0);\n    return sPhi0 * phi > -atan2(cos(lambda), tanPhi0) - 1e-3 ? [lambda * 2, phi] : null;\n  };\n\n  return forward;\n}\n\nexport default function() {\n  var phi0 = 20 * radians,\n      sPhi0 = phi0 >= 0 ? 1 : -1,\n      tanPhi0 = tan(sPhi0 * phi0),\n      m = projectionMutator(armadilloRaw),\n      p = m(phi0),\n      stream_ = p.stream;\n\n  p.parallel = function(_) {\n    if (!arguments.length) return phi0 * degrees;\n    tanPhi0 = tan((sPhi0 = (phi0 = _ * radians) >= 0 ? 1 : -1) * phi0);\n    return m(phi0);\n  };\n\n  p.stream = function(stream) {\n    var rotate = p.rotate(),\n        rotateStream = stream_(stream),\n        sphereStream = (p.rotate([0, 0]), stream_(stream)),\n        precision = p.precision();\n    p.rotate(rotate);\n    rotateStream.sphere = function() {\n      sphereStream.polygonStart(), sphereStream.lineStart();\n      for (var lambda = sPhi0 * -180; sPhi0 * lambda < 180; lambda += sPhi0 * 90)\n        sphereStream.point(lambda, sPhi0 * 90);\n      if (phi0) while (sPhi0 * (lambda -= 3 * sPhi0 * precision) >= -180) {\n        sphereStream.point(lambda, sPhi0 * -atan2(cos(lambda * radians / 2), tanPhi0) * degrees);\n      }\n      sphereStream.lineEnd(), sphereStream.polygonEnd();\n    };\n    return rotateStream;\n  };\n\n  return p\n      .scale(218.695)\n      .center([0, 28.0974]);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, arcosh, arsinh, asin, atan2, cos, cosh, sign, sin, sinh, sqrt, tan} from \"./math.js\";\n\nexport function augustRaw(lambda, phi) {\n  var tanPhi = tan(phi / 2),\n      k = sqrt(1 - tanPhi * tanPhi),\n      c = 1 + k * cos(lambda /= 2),\n      x = sin(lambda) * k / c,\n      y = tanPhi / c,\n      x2 = x * x,\n      y2 = y * y;\n  return [\n    4 / 3 * x * (3 + x2 - 3 * y2),\n    4 / 3 * y * (3 + 3 * x2 - y2)\n  ];\n}\n\naugustRaw.invert = function(x, y) {\n  x *= 3 / 8, y *= 3 / 8;\n  if (!x && abs(y) > 1) return null;\n  var x2 = x * x,\n      y2 = y * y,\n      s = 1 + x2 + y2,\n      sin3Eta = sqrt((s - sqrt(s * s - 4 * y * y)) / 2),\n      eta = asin(sin3Eta) / 3,\n      xi = sin3Eta ? arcosh(abs(y / sin3Eta)) / 3 : arsinh(abs(x)) / 3,\n      cosEta = cos(eta),\n      coshXi = cosh(xi),\n      d = coshXi * coshXi - cosEta * cosEta;\n  return [\n    sign(x) * 2 * atan2(sinh(xi) * cosEta, 0.25 - d),\n    sign(y) * 2 * atan2(coshXi * sin(eta), 0.25 + d)\n  ];\n};\n\nexport default function() {\n  return projection(augustRaw)\n      .scale(66.1603);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, atan, cos, epsilon2, exp, halfPi, log, quarterPi, sign, sin, sqrt, sqrt2, tan} from \"./math.js\";\n\nvar sqrt8 = sqrt(8),\n    phi0 = log(1 + sqrt2);\n\nexport function bakerRaw(lambda, phi) {\n  var phi0 = abs(phi);\n  return phi0 < quarterPi\n      ? [lambda, log(tan(quarterPi + phi / 2))]\n      : [lambda * cos(phi0) * (2 * sqrt2 - 1 / sin(phi0)), sign(phi) * (2 * sqrt2 * (phi0 - quarterPi) - log(tan(phi0 / 2)))];\n}\n\nbakerRaw.invert = function(x, y) {\n  if ((y0 = abs(y)) < phi0) return [x, 2 * atan(exp(y)) - halfPi];\n  var phi = quarterPi, i = 25, delta, y0;\n  do {\n    var cosPhi_2 = cos(phi / 2), tanPhi_2 = tan(phi / 2);\n    phi -= delta = (sqrt8 * (phi - quarterPi) - log(tanPhi_2) - y0) / (sqrt8 - cosPhi_2 * cosPhi_2 / (2 * tanPhi_2));\n  } while (abs(delta) > epsilon2 && --i > 0);\n  return [x / (cos(phi) * (sqrt8 - 1 / sin(phi))), sign(y) * phi];\n};\n\nexport default function() {\n  return projection(bakerRaw)\n      .scale(112.314);\n}\n", "import {geoAzimuthalEqualAreaRaw as azimuthalEqualAreaRaw, geoProjectionMutator as projectionMutator} from \"d3-geo\";\nimport {asin, cos, sin} from \"./math.js\";\n\nexport function hammerRaw(A, B) {\n  if (arguments.length < 2) B = A;\n  if (B === 1) return azimuthalEqualAreaRaw;\n  if (B === Infinity) return hammerQuarticAuthalicRaw;\n\n  function forward(lambda, phi) {\n    var coordinates = azimuthalEqualAreaRaw(lambda / B, phi);\n    coordinates[0] *= A;\n    return coordinates;\n  }\n\n  forward.invert = function(x, y) {\n    var coordinates = azimuthalEqualAreaRaw.invert(x / A, y);\n    coordinates[0] *= B;\n    return coordinates;\n  };\n\n  return forward;\n}\n\nfunction hammerQuarticAuthalicRaw(lambda, phi) {\n  return [\n    lambda * cos(phi) / cos(phi /= 2),\n    2 * sin(phi)\n  ];\n}\n\nhammerQuarticAuthalicRaw.invert = function(x, y) {\n  var phi = 2 * asin(y / 2);\n  return [\n    x * cos(phi / 2) / cos(phi),\n    phi\n  ];\n};\n\nexport default function() {\n  var B = 2,\n      m = projectionMutator(hammerRaw),\n      p = m(B);\n\n  p.coefficient = function(_) {\n    if (!arguments.length) return B;\n    return m(B = +_);\n  };\n\n  return p\n    .scale(169.529);\n}\n", "import {abs, epsilon, epsilon2} from \"./math.js\";\n\n// Approximate Newton-Raphson\n// Solve f(x) = y, start from x\nexport function solve(f, y, x) {\n  var steps = 100, delta, f0, f1;\n  x = x === undefined ? 0 : +x;\n  y = +y;\n  do {\n    f0 = f(x);\n    f1 = f(x + epsilon);\n    if (f0 === f1) f1 = f0 + epsilon;\n    x -= delta = (-1 * epsilon * (f0 - y)) / (f0 - f1);\n  } while (steps-- > 0 && abs(delta) > epsilon);\n  return steps < 0 ? NaN : x;\n}\n\n// Approximate Newton-Raphson in 2D\n// Solve f(a,b) = [x,y]\nexport function solve2d(f, MAX_ITERATIONS, eps) {\n  if (MAX_ITERATIONS === undefined) MAX_ITERATIONS = 40;\n  if (eps === undefined) eps = epsilon2;\n  return function(x, y, a, b) {\n    var err2, da, db;\n    a = a === undefined ? 0 : +a;\n    b = b === undefined ? 0 : +b;\n    for (var i = 0; i < MAX_ITERATIONS; i++) {\n      var p = f(a, b),\n        // diffs\n        tx = p[0] - x,\n        ty = p[1] - y;\n      if (abs(tx) < eps && abs(ty) < eps) break; // we're there!\n\n      // backtrack if we overshot\n      var h = tx * tx + ty * ty;\n      if (h > err2) {\n        a -= da /= 2;\n        b -= db /= 2;\n        continue;\n      }\n      err2 = h;\n\n      // partial derivatives\n      var ea = (a > 0 ? -1 : 1) * eps,\n        eb = (b > 0 ? -1 : 1) * eps,\n        pa = f(a + ea, b),\n        pb = f(a, b + eb),\n        dxa = (pa[0] - p[0]) / ea,\n        dya = (pa[1] - p[1]) / ea,\n        dxb = (pb[0] - p[0]) / eb,\n        dyb = (pb[1] - p[1]) / eb,\n        // determinant\n        D = dyb * dxa - dya * dxb,\n        // newton step  or half-step for small D\n        l = (abs(D) < 0.5 ? 0.5 : 1) / D;\n      da = (ty * dxb - tx * dyb) * l;\n      db = (tx * dya - ty * dxa) * l;\n      a += da;\n      b += db;\n      if (abs(da) < eps && abs(db) < eps) break; // we're crawling\n    }\n    return [a, b];\n  };\n}", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, asin, cos, epsilon, halfPi, pi, sin, sqrt2} from \"./math.js\";\n\nexport function mollweideBromleyTheta(cp, phi) {\n  var cpsinPhi = cp * sin(phi), i = 30, delta;\n  do phi -= delta = (phi + sin(phi) - cpsinPhi) / (1 + cos(phi));\n  while (abs(delta) > epsilon && --i > 0);\n  return phi / 2;\n}\n\nexport function mollweideBromleyRaw(cx, cy, cp) {\n\n  function forward(lambda, phi) {\n    return [cx * lambda * cos(phi = mollweideBromleyTheta(cp, phi)), cy * sin(phi)];\n  }\n\n  forward.invert = function(x, y) {\n    return y = asin(y / cy), [x / (cx * cos(y)), asin((2 * y + sin(2 * y)) / cp)];\n  };\n\n  return forward;\n}\n\nexport var mollweideRaw = mollweideBromleyRaw(sqrt2 / halfPi, sqrt2, pi);\n\nexport default function() {\n  return projection(mollweideRaw)\n      .scale(169.529);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {mollweideBromleyTheta} from \"./mollweide.js\";\nimport {abs, cos, epsilon, pi, quarterPi, sin, sqrt2} from \"./math.js\";\n\nvar k = 2.00276,\n    w = 1.11072;\n\nexport function boggsRaw(lambda, phi) {\n  var theta = mollweideBromleyTheta(pi, phi);\n  return [k * lambda / (1 / cos(phi) + w / cos(theta)), (phi + sqrt2 * sin(theta)) / k];\n}\n\nboggsRaw.invert = function(x, y) {\n  var ky = k * y, theta = y < 0 ? -quarterPi : quarterPi, i = 25, delta, phi;\n  do {\n    phi = ky - sqrt2 * sin(theta);\n    theta -= delta = (sin(2 * theta) + 2 * theta - pi * sin(phi)) / (2 * cos(2 * theta) + 2 + pi * cos(phi) * sqrt2 * cos(theta));\n  } while (abs(delta) > epsilon && --i > 0);\n  phi = ky - sqrt2 * sin(theta);\n  return [x * (1 / cos(phi) + w / cos(theta)) / k, phi];\n};\n\nexport default function() {\n  return projection(boggsRaw)\n      .scale(160.857);\n}\n", "import {geoProjectionMutator as projectionMutator} from \"d3-geo\";\nimport {degrees, radians} from \"./math.js\";\n\nexport default function(projectAt) {\n  var phi0 = 0,\n      m = projectionMutator(projectAt),\n      p = m(phi0);\n\n  p.parallel = function(_) {\n    return arguments.length ? m(phi0 = _ * radians) : phi0 * degrees;\n  };\n\n  return p;\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {cos} from \"./math.js\";\n\nexport function sinusoidalRaw(lambda, phi) {\n  return [lambda * cos(phi), phi];\n}\n\nsinusoidalRaw.invert = function(x, y) {\n  return [x / cos(y), y];\n};\n\nexport default function() {\n  return projection(sinusoidalRaw)\n      .scale(152.63);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {pi} from \"./math.js\";\nimport {mollweideBromleyRaw} from \"./mollweide.js\";\n\nexport var bromleyRaw = mollweideBromleyRaw(1, 4 / pi, pi);\n\nexport default function() {\n  return projection(bromleyRaw)\n      .scale(152.63);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {asin, pi, sin, sqrt, sqrtPi} from \"./math.js\";\n\nexport function collignonRaw(lambda, phi) {\n  var alpha = sqrt(1 - sin(phi));\n  return [(2 / sqrtPi) * lambda * alpha, sqrtPi * (1 - alpha)];\n}\n\ncollignonRaw.invert = function(x, y) {\n  var lambda = (lambda = y / sqrtPi - 1) * lambda;\n  return [lambda > 0 ? x * sqrt(pi / lambda) / 2 : 0, asin(1 - lambda)];\n};\n\nexport default function() {\n  return projection(collignonRaw)\n      .scale(95.6464)\n      .center([0, 30]);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {asin, cos, sin, sqrt, sqrtPi} from \"./math.js\";\n\nvar sqrt3 = sqrt(3);\n\nexport function crasterRaw(lambda, phi) {\n  return [sqrt3 * lambda * (2 * cos(2 * phi / 3) - 1) / sqrtPi, sqrt3 * sqrtPi * sin(phi / 3)];\n}\n\ncrasterRaw.invert = function(x, y) {\n  var phi = 3 * asin(y / (sqrt3 * sqrtPi));\n  return [sqrtPi * x / (sqrt3 * (2 * cos(2 * phi / 3) - 1)), phi];\n};\n\nexport default function() {\n  return projection(crasterRaw)\n      .scale(156.19);\n}\n", "import {asin, cos, sin} from \"./math.js\";\nimport parallel1 from \"./parallel1.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n\nexport default function() {\n  return parallel1(cylindricalEqualAreaRaw)\n      .parallel(38.58) // acos(sqrt(width / height / pi)) * radians\n      .scale(195.044); // width / (sqrt(width / height / pi) * 2 * pi)\n}\n", "import {atan, cos, tan} from \"./math.js\";\nimport parallel1 from \"./parallel1.js\";\n\nexport function cylindricalStereographicRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, (1 + cosPhi0) * tan(phi / 2)];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, atan(y / (1 + cosPhi0)) * 2];\n  };\n\n  return forward;\n}\n\nexport default function() {\n  return parallel1(cylindricalStereographicRaw)\n      .scale(124.75);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, pi, sqrt} from \"./math.js\";\n\nexport function eckert1Raw(lambda, phi) {\n  var alpha = sqrt(8 / (3 * pi));\n  return [\n    alpha * lambda * (1 - abs(phi) / pi),\n    alpha * phi\n  ];\n}\n\neckert1Raw.invert = function(x, y) {\n  var alpha = sqrt(8 / (3 * pi)),\n      phi = y / alpha;\n  return [\n    x / (alpha * (1 - abs(phi) / pi)),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(eckert1Raw)\n      .scale(165.664);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, asin, pi, sign, sin, sqrt} from \"./math.js\";\n\nexport function eckert2Raw(lambda, phi) {\n  var alpha = sqrt(4 - 3 * sin(abs(phi)));\n  return [\n    2 / sqrt(6 * pi) * lambda * alpha,\n    sign(phi) * sqrt(2 * pi / 3) * (2 - alpha)\n  ];\n}\n\neckert2Raw.invert = function(x, y) {\n  var alpha = 2 - abs(y) / sqrt(2 * pi / 3);\n  return [\n    x * sqrt(6 * pi) / (2 * alpha),\n    sign(y) * asin((4 - alpha * alpha) / 3)\n  ];\n};\n\nexport default function() {\n  return projection(eckert2Raw)\n      .scale(165.664);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {pi, sqrt} from \"./math.js\";\n\nexport function eckert3Raw(lambda, phi) {\n  var k = sqrt(pi * (4 + pi));\n  return [\n    2 / k * lambda * (1 + sqrt(1 - 4 * phi * phi / (pi * pi))),\n    4 / k * phi\n  ];\n}\n\neckert3Raw.invert = function(x, y) {\n  var k = sqrt(pi * (4 + pi)) / 2;\n  return [\n    x * k / (1 + sqrt(1 - y * y * (4 + pi) / (4 * pi))),\n    y * k / 2\n  ];\n};\n\nexport default function() {\n  return projection(eckert3Raw)\n      .scale(180.739);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, asin, cos, epsilon, halfPi, pi, sin, sqrt} from \"./math.js\";\n\nexport function eckert4Raw(lambda, phi) {\n  var k = (2 + halfPi) * sin(phi);\n  phi /= 2;\n  for (var i = 0, delta = Infinity; i < 10 && abs(delta) > epsilon; i++) {\n    var cosPhi = cos(phi);\n    phi -= delta = (phi + sin(phi) * (cosPhi + 2) - k) / (2 * cosPhi * (1 + cosPhi));\n  }\n  return [\n    2 / sqrt(pi * (4 + pi)) * lambda * (1 + cos(phi)),\n    2 * sqrt(pi / (4 + pi)) * sin(phi)\n  ];\n}\n\neckert4Raw.invert = function(x, y) {\n  var A = y * sqrt((4 + pi) / pi) / 2,\n      k = asin(A),\n      c = cos(k);\n  return [\n    x / (2 / sqrt(pi * (4 + pi)) * (1 + c)),\n    asin((k + A * (c + 2)) / (2 + halfPi))\n  ];\n};\n\nexport default function() {\n  return projection(eckert4Raw)\n      .scale(180.739);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {cos, pi, sqrt} from \"./math.js\";\n\nexport function eckert5Raw(lambda, phi) {\n  return [\n    lambda * (1 + cos(phi)) / sqrt(2 + pi),\n    2 * phi / sqrt(2 + pi)\n  ];\n}\n\neckert5Raw.invert = function(x, y) {\n  var k = sqrt(2 + pi),\n      phi = y * k / 2;\n  return [\n    k * x / (1 + cos(phi)),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(eckert5Raw)\n      .scale(173.044);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, asin, cos, epsilon, halfPi, pi, sin, sqrt} from \"./math.js\";\n\nexport function eckert6Raw(lambda, phi) {\n  var k = (1 + halfPi) * sin(phi);\n  for (var i = 0, delta = Infinity; i < 10 && abs(delta) > epsilon; i++) {\n    phi -= delta = (phi + sin(phi) - k) / (1 + cos(phi));\n  }\n  k = sqrt(2 + pi);\n  return [\n    lambda * (1 + cos(phi)) / k,\n    2 * phi / k\n  ];\n}\n\neckert6Raw.invert = function(x, y) {\n  var j = 1 + halfPi,\n      k = sqrt(j / 2);\n  return [\n    x * 2 * k / (1 + cos(y *= k)),\n    asin((y + sin(y)) / j)\n  ];\n};\n\nexport default function() {\n  return projection(eckert6Raw)\n      .scale(173.044);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {augustRaw} from \"./august.js\";\nimport {abs, atan, cos, epsilon, halfPi, log, max, min, sin, sqrt, sqrt1_2, sqrt2} from \"./math.js\";\n\nvar eisenlohrK = 3 + 2 * sqrt2;\n\nexport function eisenlohrRaw(lambda, phi) {\n  var s0 = sin(lambda /= 2),\n      c0 = cos(lambda),\n      k = sqrt(cos(phi)),\n      c1 = cos(phi /= 2),\n      t = sin(phi) / (c1 + sqrt2 * c0 * k),\n      c = sqrt(2 / (1 + t * t)),\n      v = sqrt((sqrt2 * c1 + (c0 + s0) * k) / (sqrt2 * c1 + (c0 - s0) * k));\n  return [\n    eisenlohrK * (c * (v - 1 / v) - 2 * log(v)),\n    eisenlohrK * (c * t * (v + 1 / v) - 2 * atan(t))\n  ];\n}\n\neisenlohrRaw.invert = function(x, y) {\n  if (!(p = augustRaw.invert(x / 1.2, y * 1.065))) return null;\n  var lambda = p[0], phi = p[1], i = 20, p;\n  x /= eisenlohrK, y /= eisenlohrK;\n  do {\n    var _0 = lambda / 2,\n        _1 = phi / 2,\n        s0 = sin(_0),\n        c0 = cos(_0),\n        s1 = sin(_1),\n        c1 = cos(_1),\n        cos1 = cos(phi),\n        k = sqrt(cos1),\n        t = s1 / (c1 + sqrt2 * c0 * k),\n        t2 = t * t,\n        c = sqrt(2 / (1 + t2)),\n        v0 = (sqrt2 * c1 + (c0 + s0) * k),\n        v1 = (sqrt2 * c1 + (c0 - s0) * k),\n        v2 = v0 / v1,\n        v = sqrt(v2),\n        vm1v = v - 1 / v,\n        vp1v = v + 1 / v,\n        fx = c * vm1v - 2 * log(v) - x,\n        fy = c * t * vp1v - 2 * atan(t) - y,\n        deltatDeltaLambda = s1 && sqrt1_2 * k * s0 * t2 / s1,\n        deltatDeltaPhi = (sqrt2 * c0 * c1 + k) / (2 * (c1 + sqrt2 * c0 * k) * (c1 + sqrt2 * c0 * k) * k),\n        deltacDeltat = -0.5 * t * c * c * c,\n        deltacDeltaLambda = deltacDeltat * deltatDeltaLambda,\n        deltacDeltaPhi = deltacDeltat * deltatDeltaPhi,\n        A = (A = 2 * c1 + sqrt2 * k * (c0 - s0)) * A * v,\n        deltavDeltaLambda = (sqrt2 * c0 * c1 * k + cos1) / A,\n        deltavDeltaPhi = -(sqrt2 * s0 * s1) / (k * A),\n        deltaxDeltaLambda = vm1v * deltacDeltaLambda - 2 * deltavDeltaLambda / v + c * (deltavDeltaLambda + deltavDeltaLambda / v2),\n        deltaxDeltaPhi = vm1v * deltacDeltaPhi - 2 * deltavDeltaPhi / v + c * (deltavDeltaPhi + deltavDeltaPhi / v2),\n        deltayDeltaLambda = t * vp1v * deltacDeltaLambda - 2 * deltatDeltaLambda / (1 + t2) + c * vp1v * deltatDeltaLambda + c * t * (deltavDeltaLambda - deltavDeltaLambda / v2),\n        deltayDeltaPhi = t * vp1v * deltacDeltaPhi - 2 * deltatDeltaPhi / (1 + t2) + c * vp1v * deltatDeltaPhi + c * t * (deltavDeltaPhi - deltavDeltaPhi / v2),\n        denominator = deltaxDeltaPhi * deltayDeltaLambda - deltayDeltaPhi * deltaxDeltaLambda;\n    if (!denominator) break;\n    var deltaLambda = (fy * deltaxDeltaPhi - fx * deltayDeltaPhi) / denominator,\n        deltaPhi = (fx * deltayDeltaLambda - fy * deltaxDeltaLambda) / denominator;\n    lambda -= deltaLambda;\n    phi = max(-halfPi, min(halfPi, phi - deltaPhi));\n  } while ((abs(deltaLambda) > epsilon || abs(deltaPhi) > epsilon) && --i > 0);\n  return abs(abs(phi) - halfPi) < epsilon ? [0, phi] : i && [lambda, phi];\n};\n\nexport default function() {\n  return projection(eisenlohrRaw)\n      .scale(62.5271);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {atan, cos, radians, sqrt, tan} from \"./math.js\";\n\nvar faheyK = cos(35 * radians);\n\nexport function faheyRaw(lambda, phi) {\n  var t = tan(phi / 2);\n  return [lambda * faheyK * sqrt(1 - t * t), (1 + faheyK) * t];\n}\n\nfaheyRaw.invert = function(x, y) {\n  var t = y / (1 + faheyK);\n  return [x && x / (faheyK * sqrt(1 - t * t)), 2 * atan(t)];\n};\n\nexport default function() {\n  return projection(faheyRaw)\n      .scale(137.152);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {atan, cos, sqrtPi, tan} from \"./math.js\";\n\nexport function foucautRaw(lambda, phi) {\n  var k = phi / 2, cosk = cos(k);\n  return [ 2 * lambda / sqrtPi * cos(phi) * cosk * cosk, sqrtPi * tan(k)];\n}\n\nfoucautRaw.invert = function(x, y) {\n  var k = atan(y / sqrtPi), cosk = cos(k), phi = 2 * k;\n  return [x * sqrtPi / 2 / (cos(phi) * cosk * cosk), phi];\n};\n\nexport default function() {\n  return projection(foucautRaw)\n      .scale(135.264);\n}\n", "import {geoProjectionMutator as projectionMutator} from \"d3-geo\";\nimport {cos, halfPi, pi, sin, sqrt} from \"./math.js\";\nimport {solve} from \"./newton.js\";\n\nexport function foucautSinusoidalRaw(alpha) {\n  var beta = 1 - alpha,\n      equatorial = raw(pi, 0)[0] - raw(-pi, 0)[0],\n      polar = raw(0, halfPi)[1] - raw(0, -halfPi)[1],\n      ratio = sqrt(2 * polar / equatorial);\n\n  function raw(lambda, phi) {\n    var cosphi = cos(phi),\n        sinphi = sin(phi);\n    return [\n      cosphi / (beta + alpha * cosphi) * lambda,\n      beta * phi + alpha * sinphi\n    ];\n  }\n\n  function forward(lambda, phi) {\n    var p = raw(lambda, phi);\n    return [p[0] * ratio, p[1] / ratio];\n  }\n\n  function forwardMeridian(phi) {\n    return forward(0, phi)[1];\n  }\n\n  forward.invert = function(x, y) {\n    var phi = solve(forwardMeridian, y),\n        lambda = x / ratio * (alpha + beta / cos(phi));\n    return [lambda, phi];\n  };\n\n  return forward;\n}\n\nexport default function() {\n  var alpha = 0.5,\n      m = projectionMutator(foucautSinusoidalRaw),\n      p = m(alpha);\n\n  p.alpha = function(_) {\n    return arguments.length ? m(alpha = +_) : alpha;\n  };\n\n  return p\n      .scale(168.725);\n}\n", "import {abs, asin, cos, epsilon, pi, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b, c, d, e, f, g, h) {\n  if (arguments.length < 8) h = 0;\n\n  function forward(lambda, phi) {\n    if (!phi) return [a * lambda / pi, 0];\n    var phi2 = phi * phi,\n        xB = a + phi2 * (b + phi2 * (c + phi2 * d)),\n        yB = phi * (e - 1 + phi2 * (f - h + phi2 * g)),\n        m = (xB * xB + yB * yB) / (2 * yB),\n        alpha = lambda * asin(xB / m) / pi;\n    return [m * sin(alpha), phi * (1 + phi2 * h) + m * (1 - cos(alpha))];\n  }\n\n  forward.invert = function(x, y) {\n    var lambda = pi * x / a,\n        phi = y,\n        deltaLambda, deltaPhi, i = 50;\n    do {\n      var phi2 = phi * phi,\n          xB = a + phi2 * (b + phi2 * (c + phi2 * d)),\n          yB = phi * (e - 1 + phi2 * (f - h + phi2 * g)),\n          p = xB * xB + yB * yB,\n          q = 2 * yB,\n          m = p / q,\n          m2 = m * m,\n          dAlphadLambda = asin(xB / m) / pi,\n          alpha = lambda * dAlphadLambda,\n          xB2 = xB * xB,\n          dxBdPhi = (2 * b + phi2 * (4 * c + phi2 * 6 * d)) * phi,\n          dyBdPhi = e + phi2 * (3 * f + phi2 * 5 * g),\n          dpdPhi = 2 * (xB * dxBdPhi + yB * (dyBdPhi - 1)),\n          dqdPhi = 2 * (dyBdPhi - 1),\n          dmdPhi = (dpdPhi * q - p * dqdPhi) / (q * q),\n          cosAlpha = cos(alpha),\n          sinAlpha = sin(alpha),\n          mcosAlpha = m * cosAlpha,\n          msinAlpha = m * sinAlpha,\n          dAlphadPhi = ((lambda / pi) * (1 / sqrt(1 - xB2 / m2)) * (dxBdPhi * m - xB * dmdPhi)) / m2,\n          fx = msinAlpha - x,\n          fy = phi * (1 + phi2 * h) + m - mcosAlpha - y,\n          deltaxDeltaPhi = dmdPhi * sinAlpha + mcosAlpha * dAlphadPhi,\n          deltaxDeltaLambda = mcosAlpha * dAlphadLambda,\n          deltayDeltaPhi = 1 + dmdPhi - (dmdPhi * cosAlpha - msinAlpha * dAlphadPhi),\n          deltayDeltaLambda = msinAlpha * dAlphadLambda,\n          denominator = deltaxDeltaPhi * deltayDeltaLambda - deltayDeltaPhi * deltaxDeltaLambda;\n      if (!denominator) break;\n      lambda -= deltaLambda = (fy * deltaxDeltaPhi - fx * deltayDeltaPhi) / denominator;\n      phi -= deltaPhi = (fx * deltayDeltaLambda - fy * deltaxDeltaLambda) / denominator;\n    } while ((abs(deltaLambda) > epsilon || abs(deltaPhi) > epsilon) && --i > 0);\n    return [lambda, phi];\n  };\n\n  return forward;\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport ginzburgPolyconicRaw from \"./ginzburgPolyconic.js\";\n\nexport var ginzburg4Raw = ginzburgPolyconicRaw(2.8284, -1.6988, 0.75432, -0.18071, 1.76003, -0.38914, 0.042555);\n\nexport default function() {\n  return projection(ginzburg4Raw)\n      .scale(149.995);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport ginzburgPolyconicRaw from \"./ginzburgPolyconic.js\";\n\nexport var ginzburg5Raw = ginzburgPolyconicRaw(2.583819, -0.835827, 0.170354, -0.038094, 1.543313, -0.411435,0.082742);\n\nexport default function() {\n  return projection(ginzburg5Raw)\n      .scale(153.93);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport ginzburgPolyconicRaw from \"./ginzburgPolyconic.js\";\nimport {pi} from \"./math.js\";\n\nexport var ginzburg6Raw = ginzburgPolyconicRaw(5 / 6 * pi, -0.62636, -0.0344, 0, 1.3493, -0.05524, 0, 0.045);\n\nexport default function() {\n  return projection(ginzburg6Raw)\n      .scale(130.945);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, epsilon} from \"./math.js\";\n\nexport function ginzburg8Raw(lambda, phi) {\n  var lambda2 = lambda * lambda,\n      phi2 = phi * phi;\n  return [\n    lambda * (1 - 0.162388 * phi2) * (0.87 - 0.000952426 * lambda2 * lambda2),\n    phi * (1 + phi2 / 12)\n  ];\n}\n\nginzburg8Raw.invert = function(x, y) {\n  var lambda = x,\n      phi = y,\n      i = 50, delta;\n  do {\n    var phi2 = phi * phi;\n    phi -= delta = (phi * (1 + phi2 / 12) - y) / (1 + phi2 / 4);\n  } while (abs(delta) > epsilon && --i > 0);\n  i = 50;\n  x /= 1 -0.162388 * phi2;\n  do {\n    var lambda4 = (lambda4 = lambda * lambda) * lambda4;\n    lambda -= delta = (lambda * (0.87 - 0.000952426 * lambda4) - x) / (0.87 - 0.00476213 * lambda4);\n  } while (abs(delta) > epsilon && --i > 0);\n  return [lambda, phi];\n};\n\nexport default function() {\n  return projection(ginzburg8Raw)\n      .scale(131.747);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport ginzburgPolyconicRaw from \"./ginzburgPolyconic.js\";\n\nexport var ginzburg9Raw = ginzburgPolyconicRaw(2.6516, -0.76534, 0.19123, -0.047094, 1.36289, -0.13965,0.031762);\n\nexport default function() {\n  return projection(ginzburg9Raw)\n      .scale(131.087);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, asin, atan2, cos, sign, epsilon, epsilon2, halfPi, pi, sin, sqrt} from \"./math.js\";\nimport squareRaw from \"./square.js\";\n\nexport function gringortenRaw(lambda, phi) {\n  var sLambda = sign(lambda),\n      sPhi = sign(phi),\n      cosPhi = cos(phi),\n      x = cos(lambda) * cosPhi,\n      y = sin(lambda) * cosPhi,\n      z = sin(sPhi * phi);\n  lambda = abs(atan2(y, z));\n  phi = asin(x);\n  if (abs(lambda - halfPi) > epsilon) lambda %= halfPi;\n  var point = gringortenHexadecant(lambda > pi / 4 ? halfPi - lambda : lambda, phi);\n  if (lambda > pi / 4) z = point[0], point[0] = -point[1], point[1] = -z;\n  return (point[0] *= sLambda, point[1] *= -sPhi, point);\n}\n\ngringortenRaw.invert = function(x, y) {\n  if (abs(x) > 1) x = sign(x) * 2 - x;\n  if (abs(y) > 1) y = sign(y) * 2 - y;\n  var sx = sign(x),\n      sy = sign(y),\n      x0 = -sx * x,\n      y0 = -sy * y,\n      t = y0 / x0 < 1,\n      p = gringortenHexadecantInvert(t ? y0 : x0, t ? x0 : y0),\n      lambda = p[0],\n      phi = p[1],\n      cosPhi = cos(phi);\n  if (t) lambda = -halfPi - lambda;\n  return [sx * (atan2(sin(lambda) * cosPhi, -sin(phi)) + pi), sy * asin(cos(lambda) * cosPhi)];\n};\n\nfunction gringortenHexadecant(lambda, phi) {\n  if (phi === halfPi) return [0, 0];\n\n  var sinPhi = sin(phi),\n      r = sinPhi * sinPhi,\n      r2 = r * r,\n      j = 1 + r2,\n      k = 1 + 3 * r2,\n      q = 1 - r2,\n      z = asin(1 / sqrt(j)),\n      v = q + r * j * z,\n      p2 = (1 - sinPhi) / v,\n      p = sqrt(p2),\n      a2 = p2 * j,\n      a = sqrt(a2),\n      h = p * q,\n      x,\n      i;\n\n  if (lambda === 0) return [0, -(h + r * a)];\n\n  var cosPhi = cos(phi),\n      secPhi = 1 / cosPhi,\n      drdPhi = 2 * sinPhi * cosPhi,\n      dvdPhi = (-3 * r + z * k) * drdPhi,\n      dp2dPhi = (-v * cosPhi - (1 - sinPhi) * dvdPhi) / (v * v),\n      dpdPhi = (0.5 * dp2dPhi) / p,\n      dhdPhi = q * dpdPhi - 2 * r * p * drdPhi,\n      dra2dPhi = r * j * dp2dPhi + p2 * k * drdPhi,\n      mu = -secPhi * drdPhi,\n      nu = -secPhi * dra2dPhi,\n      zeta = -2 * secPhi * dhdPhi,\n      lambda1 = 4 * lambda / pi,\n      delta;\n\n  // Slower but accurate bisection method.\n  if (lambda > 0.222 * pi || phi < pi / 4 && lambda > 0.175 * pi) {\n    x = (h + r * sqrt(a2 * (1 + r2) - h * h)) / (1 + r2);\n    if (lambda > pi / 4) return [x, x];\n    var x1 = x, x0 = 0.5 * x;\n    x = 0.5 * (x0 + x1), i = 50;\n    do {\n      var g = sqrt(a2 - x * x),\n          f = (x * (zeta + mu * g) + nu * asin(x / a)) - lambda1;\n      if (!f) break;\n      if (f < 0) x0 = x;\n      else x1 = x;\n      x = 0.5 * (x0 + x1);\n    } while (abs(x1 - x0) > epsilon && --i > 0);\n  }\n\n  // Newton-Raphson.\n  else {\n    x = epsilon, i = 25;\n    do {\n      var x2 = x * x,\n          g2 = sqrt(a2 - x2),\n          zetaMug = zeta + mu * g2,\n          f2 = x * zetaMug + nu * asin(x / a) - lambda1,\n          df = zetaMug + (nu - mu * x2) / g2;\n      x -= delta = g2 ? f2 / df : 0;\n    } while (abs(delta) > epsilon && --i > 0);\n  }\n\n  return [x, -h - r * sqrt(a2 - x * x)];\n}\n\nfunction gringortenHexadecantInvert(x, y) {\n  var x0 = 0,\n      x1 = 1,\n      r = 0.5,\n      i = 50;\n\n  while (true) {\n    var r2 = r * r,\n        sinPhi = sqrt(r),\n        z = asin(1 / sqrt(1 + r2)),\n        v = (1 - r2) + r * (1 + r2) * z,\n        p2 = (1 - sinPhi) / v,\n        p = sqrt(p2),\n        a2 = p2 * (1 + r2),\n        h = p * (1 - r2),\n        g2 = a2 - x * x,\n        g = sqrt(g2),\n        y0 = y + h + r * g;\n    if (abs(x1 - x0) < epsilon2 || --i === 0 || y0 === 0) break;\n    if (y0 > 0) x0 = r;\n    else x1 = r;\n    r = 0.5 * (x0 + x1);\n  }\n\n  if (!i) return null;\n\n  var phi = asin(sinPhi),\n      cosPhi = cos(phi),\n      secPhi = 1 / cosPhi,\n      drdPhi = 2 * sinPhi * cosPhi,\n      dvdPhi = (-3 * r + z * (1 + 3 * r2)) * drdPhi,\n      dp2dPhi = (-v * cosPhi - (1 - sinPhi) * dvdPhi) / (v * v),\n      dpdPhi = 0.5 * dp2dPhi / p,\n      dhdPhi = (1 - r2) * dpdPhi - 2 * r * p * drdPhi,\n      zeta = -2 * secPhi * dhdPhi,\n      mu = -secPhi * drdPhi,\n      nu = -secPhi * (r * (1 + r2) * dp2dPhi + p2 * (1 + 3 * r2) * drdPhi);\n\n  return [pi / 4 * (x * (zeta + mu * g) + nu * asin(x / sqrt(a2))), phi];\n}\n\nexport default function() {\n  return projection(squareRaw(gringortenRaw))\n      .scale(239.75);\n}\n", "import {abs, asin, atan, cos, cosh, epsilon, exp, halfPi, log, pi, pow, quarterPi, sign, sin, sinh, sqrt, tan, tanh} from \"./math.js\";\n\n// Returns [sn, cn, dn](u + iv|m).\nexport function ellipticJi(u, v, m) {\n  var a, b, c;\n  if (!u) {\n    b = ellipticJ(v, 1 - m);\n    return [\n      [0, b[0] / b[1]],\n      [1 / b[1], 0],\n      [b[2] / b[1], 0]\n    ];\n  }\n  a = ellipticJ(u, m);\n  if (!v) return [[a[0], 0], [a[1], 0], [a[2], 0]];\n  b = ellipticJ(v, 1 - m);\n  c = b[1] * b[1] + m * a[0] * a[0] * b[0] * b[0];\n  return [\n    [a[0] * b[2] / c, a[1] * a[2] * b[0] * b[1] / c],\n    [a[1] * b[1] / c, -a[0] * a[2] * b[0] * b[2] / c],\n    [a[2] * b[1] * b[2] / c, -m * a[0] * a[1] * b[0] / c]\n  ];\n}\n\n// Returns [sn, cn, dn, ph](u|m).\nexport function ellipticJ(u, m) {\n  var ai, b, phi, t, twon;\n  if (m < epsilon) {\n    t = sin(u);\n    b = cos(u);\n    ai = m * (u - t * b) / 4;\n    return [\n      t - ai * b,\n      b + ai * t,\n      1 - m * t * t / 2,\n      u - ai\n    ];\n  }\n  if (m >= 1 - epsilon) {\n    ai = (1 - m) / 4;\n    b = cosh(u);\n    t = tanh(u);\n    phi = 1 / b;\n    twon = b * sinh(u);\n    return [\n      t + ai * (twon - u) / (b * b),\n      phi - ai * t * phi * (twon - u),\n      phi + ai * t * phi * (twon + u),\n      2 * atan(exp(u)) - halfPi + ai * (twon - u) / b\n    ];\n  }\n\n  var a = [1, 0, 0, 0, 0, 0, 0, 0, 0],\n      c = [sqrt(m), 0, 0, 0, 0, 0, 0, 0, 0],\n      i = 0;\n  b = sqrt(1 - m);\n  twon = 1;\n\n  while (abs(c[i] / a[i]) > epsilon && i < 8) {\n    ai = a[i++];\n    c[i] = (ai - b) / 2;\n    a[i] = (ai + b) / 2;\n    b = sqrt(ai * b);\n    twon *= 2;\n  }\n\n  phi = twon * a[i] * u;\n  do {\n    t = c[i] * sin(b = phi) / a[i];\n    phi = (asin(t) + phi) / 2;\n  } while (--i);\n\n  return [sin(phi), t = cos(phi), t / cos(phi - b), phi];\n}\n\n// Calculate F(phi+iPsi|m).\n// See Abramowitz and Stegun, 17.4.11.\nexport function ellipticFi(phi, psi, m) {\n  var r = abs(phi),\n      i = abs(psi),\n      sinhPsi = sinh(i);\n  if (r) {\n    var cscPhi = 1 / sin(r),\n        cotPhi2 = 1 / (tan(r) * tan(r)),\n        b = -(cotPhi2 + m * (sinhPsi * sinhPsi * cscPhi * cscPhi) - 1 + m),\n        c = (m - 1) * cotPhi2,\n        cotLambda2 = (-b + sqrt(b * b - 4 * c)) / 2;\n    return [\n      ellipticF(atan(1 / sqrt(cotLambda2)), m) * sign(phi),\n      ellipticF(atan(sqrt((cotLambda2 / cotPhi2 - 1) / m)), 1 - m) * sign(psi)\n    ];\n  }\n  return [\n    0,\n    ellipticF(atan(sinhPsi), 1 - m) * sign(psi)\n  ];\n}\n\n// Calculate F(phi|m) where m = k = sin.\n// See Abramowitz and Stegun, 17.6.7.\nexport function ellipticF(phi, m) {\n  if (!m) return phi;\n  if (m === 1) return log(tan(phi / 2 + quarterPi));\n  var a = 1,\n      b = sqrt(1 - m),\n      c = sqrt(m);\n  for (var i = 0; abs(c) > epsilon; i++) {\n    if (phi % pi) {\n      var dPhi = atan(b * tan(phi) / a);\n      if (dPhi < 0) dPhi += pi;\n      phi += dPhi + ~~(phi / pi) * pi;\n    } else phi += phi;\n    c = (a + b) / 2;\n    b = sqrt(a * b);\n    c = ((a = c) - b) / 2;\n  }\n  return phi / (pow(2, i) * a);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {ellipticF, ellipticFi, ellipticJi} from \"./elliptic.js\";\nimport {abs, atan, atan2, cos, exp, halfPi, log, pi, sin, sqrt, sqrt2, tan} from \"./math.js\";\nimport squareRaw from \"./square.js\";\n\nexport function guyouRaw(lambda, phi) {\n  var k_ = (sqrt2 - 1) / (sqrt2 + 1),\n      k = sqrt(1 - k_ * k_),\n      K = ellipticF(halfPi, k * k),\n      f = -1,\n      psi = log(tan(pi / 4 + abs(phi) / 2)),\n      r = exp(f * psi) / sqrt(k_),\n      at = guyouComplexAtan(r * cos(f * lambda), r * sin(f * lambda)),\n      t = ellipticFi(at[0], at[1], k * k);\n  return [-t[1], (phi >= 0 ? 1 : -1) * (0.5 * K - t[0])];\n}\n\nfunction guyouComplexAtan(x, y) {\n  var x2 = x * x,\n      y_1 = y + 1,\n      t = 1 - x2 - y * y;\n  return [\n   0.5 * ((x >= 0 ? halfPi : -halfPi) - atan2(t, 2 * x)),\n    -0.25 * log(t * t + 4 * x2) +0.5 * log(y_1 * y_1 + x2)\n  ];\n}\n\nfunction guyouComplexDivide(a, b) {\n  var denominator = b[0] * b[0] + b[1] * b[1];\n  return [\n    (a[0] * b[0] + a[1] * b[1]) / denominator,\n    (a[1] * b[0] - a[0] * b[1]) / denominator\n  ];\n}\n\nguyouRaw.invert = function(x, y) {\n  var k_ = (sqrt2 - 1) / (sqrt2 + 1),\n      k = sqrt(1 - k_ * k_),\n      K = ellipticF(halfPi, k * k),\n      f = -1,\n      j = ellipticJi(0.5 * K - y, -x, k * k),\n      tn = guyouComplexDivide(j[0], j[1]),\n      lambda = atan2(tn[1], tn[0]) / f;\n  return [\n    lambda,\n    2 * atan(exp(0.5 / f * log(k_ * tn[0] * tn[0] + k_ * tn[1] * tn[1]))) - halfPi\n  ];\n};\n\nexport default function() {\n  return projection(squareRaw(guyouRaw))\n      .scale(151.496);\n}\n", "import {range} from \"d3-array\";\nimport {geoStream, geoProjectionMutator as projectionMutator} from \"d3-geo\";\nimport {collignonRaw} from \"./collignon.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\nimport {abs, asin, degrees, epsilon, floor, max, min, pi, radians, sqrtPi, tau} from \"./math.js\";\n\nvar K = 3,\n    healpixParallel = asin(1 - 1 / K) * degrees,\n    healpixLambert = cylindricalEqualAreaRaw(0);\n\nexport function healpixRaw(H) {\n  var phi0 = healpixParallel * radians,\n      dx = collignonRaw(pi, phi0)[0] - collignonRaw(-pi, phi0)[0],\n      y0 = healpixLambert(0, phi0)[1],\n      y1 = collignonRaw(0, phi0)[1],\n      dy1 = sqrtPi - y1,\n      k = tau / H,\n      w = 4 / tau,\n      h = y0 + (dy1 * dy1 * 4) / tau;\n\n  function forward(lambda, phi) {\n    var point,\n        phi2 = abs(phi);\n    if (phi2 > phi0) {\n      var i = min(H - 1, max(0, floor((lambda + pi) / k)));\n      lambda += pi * (H - 1) / H - i * k;\n      point = collignonRaw(lambda, phi2);\n      point[0] = point[0] * tau / dx - tau * (H - 1) / (2 * H) + i * tau / H;\n      point[1] = y0 + (point[1] - y1) * 4 * dy1 / tau;\n      if (phi < 0) point[1] = -point[1];\n    } else {\n      point = healpixLambert(lambda, phi);\n    }\n    point[0] *= w, point[1] /= h;\n    return point;\n  }\n\n  forward.invert = function(x, y) {\n    x /= w, y *= h;\n    var y2 = abs(y);\n    if (y2 > y0) {\n      var i = min(H - 1, max(0, floor((x + pi) / k)));\n      x = (x + pi * (H - 1) / H - i * k) * dx / tau;\n      var point = collignonRaw.invert(x, 0.25 * (y2 - y0) * tau / dy1 + y1);\n      point[0] -= pi * (H - 1) / H - i * k;\n      if (y < 0) point[1] = -point[1];\n      return point;\n    }\n    return healpixLambert.invert(x, y);\n  };\n\n  return forward;\n}\n\nfunction sphereTop(x, i) {\n  return [x, i & 1 ? 90 - epsilon : healpixParallel];\n}\n\nfunction sphereBottom(x, i) {\n  return [x, i & 1 ? -90 + epsilon : -healpixParallel];\n}\n\nfunction sphereNudge(d) {\n  return [d[0] * (1 - epsilon), d[1]];\n}\n\nfunction sphere(step) {\n  var c = [].concat(\n    range(-180, 180 + step / 2, step).map(sphereTop),\n    range(180, -180 - step / 2, -step).map(sphereBottom)\n  );\n  return {\n    type: \"Polygon\",\n    coordinates: [step === 180 ? c.map(sphereNudge) : c]\n  };\n}\n\nexport default function() {\n  var H = 4,\n      m = projectionMutator(healpixRaw),\n      p = m(H),\n      stream_ = p.stream;\n\n  p.lobes = function(_) {\n    return arguments.length ? m(H = +_) : H;\n  };\n\n  p.stream = function(stream) {\n    var rotate = p.rotate(),\n        rotateStream = stream_(stream),\n        sphereStream = (p.rotate([0, 0]), stream_(stream));\n    p.rotate(rotate);\n    rotateStream.sphere = function() { geoStream(sphere(180 / H), sphereStream); };\n    return rotateStream;\n  };\n\n  return p\n      .scale(239.75);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {mollweideRaw} from \"./mollweide.js\";\nimport {sinusoidalRaw} from \"./sinusoidal.js\";\n\nexport var sinuMollweidePhi = 0.7109889596207567;\n\nexport var sinuMollweideY = 0.0528035274542;\n\nexport function sinuMollweideRaw(lambda, phi) {\n  return phi > -sinuMollweidePhi\n      ? (lambda = mollweideRaw(lambda, phi), lambda[1] += sinuMollweideY, lambda)\n      : sinusoidalRaw(lambda, phi);\n}\n\nsinuMollweideRaw.invert = function(x, y) {\n  return y > -sinuMollweidePhi\n      ? mollweideRaw.invert(x, y - sinuMollweideY)\n      : sinusoidalRaw.invert(x, y);\n};\n\nexport default function() {\n  return projection(sinuMollweideRaw)\n      .rotate([-20, -55])\n      .scale(164.263)\n      .center([0, -5.4036]);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs} from \"./math.js\";\nimport {mollweideRaw} from \"./mollweide.js\";\nimport {sinusoidalRaw} from \"./sinusoidal.js\";\nimport {sinuMollweidePhi, sinuMollweideY} from \"./sinuMollweide.js\";\n\nexport function homolosineRaw(lambda, phi) {\n  return abs(phi) > sinuMollweidePhi\n      ? (lambda = mollweideRaw(lambda, phi), lambda[1] -= phi > 0 ? sinuMollweideY : -sinuMollweideY, lambda)\n      : sinusoidalRaw(lambda, phi);\n}\n\nhomolosineRaw.invert = function(x, y) {\n  return abs(y) > sinuMollweidePhi\n      ? mollweideRaw.invert(x, y + (y > 0 ? sinuMollweideY : -sinuMollweideY))\n      : sinusoidalRaw.invert(x, y);\n};\n\nexport default function() {\n  return projection(homolosineRaw)\n      .scale(152.63);\n}\n", "import { geoProjectionMutator as projectionMutator } from \"d3-geo\";\nimport { asin, cos, degrees, pi, radians, sign, sin, sqrt } from \"./math.js\";\nimport { solve } from \"./newton.js\";\n\nexport function hufnagelRaw(a, b, psiMax, ratio) {\n  var k = sqrt(\n      (4 * pi) /\n        (2 * psiMax +\n          (1 + a - b / 2) * sin(2 * psiMax) +\n          ((a + b) / 2) * sin(4 * psiMax) +\n          (b / 2) * sin(6 * psiMax))\n    ),\n    c = sqrt(\n      ratio *\n        sin(psiMax) *\n        sqrt((1 + a * cos(2 * psiMax) + b * cos(4 * psiMax)) / (1 + a + b))\n    ),\n    M = psiMax * mapping(1);\n\n  function radius(psi) {\n    return sqrt(1 + a * cos(2 * psi) + b * cos(4 * psi));\n  }\n\n  function mapping(t) {\n    var psi = t * psiMax;\n    return (\n      (2 * psi +\n        (1 + a - b / 2) * sin(2 * psi) +\n        ((a + b) / 2) * sin(4 * psi) +\n        (b / 2) * sin(6 * psi)) /\n      psiMax\n    );\n  }\n\n  function inversemapping(psi) {\n    return radius(psi) * sin(psi);\n  }\n\n  var forward = function(lambda, phi) {\n    var psi = psiMax * solve(mapping, (M * sin(phi)) / psiMax, phi / pi);\n    if (isNaN(psi)) psi = psiMax * sign(phi);\n    var kr = k * radius(psi);\n    return [((kr * c * lambda) / pi) * cos(psi), (kr / c) * sin(psi)];\n  };\n\n  forward.invert = function(x, y) {\n    var psi = solve(inversemapping, (y * c) / k);\n    return [\n      (x * pi) / (cos(psi) * k * c * radius(psi)),\n      asin((psiMax * mapping(psi / psiMax)) / M)\n    ];\n  };\n\n  if (psiMax === 0) {\n    k = sqrt(ratio / pi);\n    forward = function(lambda, phi) {\n      return [lambda * k, sin(phi) / k];\n    };\n    forward.invert = function(x, y) {\n      return [x / k, asin(y * k)];\n    };\n  }\n\n  return forward;\n}\n\nexport default function() {\n  var a = 1,\n    b = 0,\n    psiMax = 45 * radians,\n    ratio = 2,\n    mutate = projectionMutator(hufnagelRaw),\n    projection = mutate(a, b, psiMax, ratio);\n\n  projection.a = function(_) {\n    return arguments.length ? mutate((a = +_), b, psiMax, ratio) : a;\n  };\n  projection.b = function(_) {\n    return arguments.length ? mutate(a, (b = +_), psiMax, ratio) : b;\n  };\n  projection.psiMax = function(_) {\n    return arguments.length\n      ? mutate(a, b, (psiMax = +_ * radians), ratio)\n      : psiMax * degrees;\n  };\n  projection.ratio = function(_) {\n    return arguments.length ? mutate(a, b, psiMax, (ratio = +_)) : ratio;\n  };\n\n  return projection.scale(180.739);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {pi, sqrt, tau} from \"./math.js\";\n\nexport function kavrayskiy7Raw(lambda, phi) {\n  return [3 / tau * lambda * sqrt(pi * pi / 3 - phi * phi), phi];\n}\n\nkavrayskiy7Raw.invert = function(x, y) {\n  return [tau / 3 * x / sqrt(pi * pi / 3 - y * y), y];\n};\n\nexport default function() {\n  return projection(kavrayskiy7Raw)\n      .scale(158.837);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, acos, cos, epsilon, halfPi, sin, pi, sqrt, sqrt2} from \"./math.js\";\n\nvar pi_sqrt2 = pi / sqrt2;\n\nexport function larriveeRaw(lambda, phi) {\n  return [\n    lambda * (1 + sqrt(cos(phi))) / 2,\n    phi / (cos(phi / 2) * cos(lambda / 6))\n  ];\n}\n\nlarriveeRaw.invert = function(x, y) {\n  var x0 = abs(x),\n      y0 = abs(y),\n      lambda = epsilon,\n      phi = halfPi;\n  if (y0 < pi_sqrt2) phi *= y0 / pi_sqrt2;\n  else lambda += 6 * acos(pi_sqrt2 / y0);\n  for (var i = 0; i < 25; i++) {\n    var sinPhi = sin(phi),\n        sqrtcosPhi = sqrt(cos(phi)),\n        sinPhi_2 = sin(phi / 2),\n        cosPhi_2 = cos(phi / 2),\n        sinLambda_6 = sin(lambda / 6),\n        cosLambda_6 = cos(lambda / 6),\n        f0 = 0.5 * lambda * (1 + sqrtcosPhi) - x0,\n        f1 = phi / (cosPhi_2 * cosLambda_6) - y0,\n        df0dPhi = sqrtcosPhi ? -0.25 * lambda * sinPhi / sqrtcosPhi : 0,\n        df0dLambda = 0.5 * (1 + sqrtcosPhi),\n        df1dPhi = (1 + 0.5 * phi * sinPhi_2 / cosPhi_2) / (cosPhi_2 * cosLambda_6),\n        df1dLambda = (phi / cosPhi_2) * (sinLambda_6 / 6) / (cosLambda_6 * cosLambda_6),\n        denom = df0dPhi * df1dLambda - df1dPhi * df0dLambda,\n        dPhi = (f0 * df1dLambda - f1 * df0dLambda) / denom,\n        dLambda = (f1 * df0dPhi - f0 * df1dPhi) / denom;\n    phi -= dPhi;\n    lambda -= dLambda;\n    if (abs(dPhi) < epsilon && abs(dLambda) < epsilon) break;\n  }\n  return [x < 0 ? -lambda : lambda, y < 0 ? -phi : phi];\n};\n\nexport default function() {\n  return projection(larriveeRaw)\n      .scale(97.2672);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, epsilon, pi, sign} from \"./math.js\";\n\nexport function laskowskiRaw(lambda, phi) {\n  var lambda2 = lambda * lambda, phi2 = phi * phi;\n  return [\n    lambda * (0.975534 + phi2 * (-0.119161 + lambda2 * -0.0143059 + phi2 * -0.0547009)),\n    phi * (1.00384 + lambda2 * (0.0802894 + phi2 * -0.02855 + lambda2 * 0.000199025) + phi2 * (0.0998909 + phi2 * -0.0491032))\n  ];\n}\n\nlaskowskiRaw.invert = function(x, y) {\n  var lambda = sign(x) * pi,\n      phi = y / 2,\n      i = 50;\n  do {\n    var lambda2 = lambda * lambda,\n        phi2 = phi * phi,\n        lambdaPhi = lambda * phi,\n        fx = lambda * (0.975534 + phi2 * (-0.119161 + lambda2 * -0.0143059 + phi2 * -0.0547009)) - x,\n        fy = phi * (1.00384 + lambda2 * (0.0802894 + phi2 * -0.02855 + lambda2 * 0.000199025) + phi2 * (0.0998909 + phi2 * -0.0491032)) - y,\n        deltaxDeltaLambda = 0.975534 - phi2 * (0.119161 + 3 * lambda2 * 0.0143059 + phi2 * 0.0547009),\n        deltaxDeltaPhi = -lambdaPhi * (2 * 0.119161 + 4 * 0.0547009 * phi2 + 2 * 0.0143059 * lambda2),\n        deltayDeltaLambda = lambdaPhi * (2 * 0.0802894 + 4 * 0.000199025 * lambda2 + 2 * -0.02855 * phi2),\n        deltayDeltaPhi = 1.00384 + lambda2 * (0.0802894 + 0.000199025 * lambda2) + phi2 * (3 * (0.0998909 - 0.02855 * lambda2) - 5 * 0.0491032 * phi2),\n        denominator = deltaxDeltaPhi * deltayDeltaLambda - deltayDeltaPhi * deltaxDeltaLambda,\n        deltaLambda = (fy * deltaxDeltaPhi - fx * deltayDeltaPhi) / denominator,\n        deltaPhi = (fx * deltayDeltaLambda - fy * deltaxDeltaLambda) / denominator;\n    lambda -= deltaLambda, phi -= deltaPhi;\n  } while ((abs(deltaLambda) > epsilon || abs(deltaPhi) > epsilon) && --i > 0);\n  return i && [lambda, phi];\n};\n\nexport default function() {\n  return projection(laskowskiRaw)\n      .scale(139.98);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {acos, asin, cos, sign, sin, tan, sqrt, sqrt1_2} from \"./math.js\";\n\nexport function littrowRaw(lambda, phi) {\n  return [\n    sin(lambda) / cos(phi),\n    tan(phi) * cos(lambda)\n  ];\n}\n\nlittrowRaw.invert = function(x, y) {\n  var x2 = x * x,\n      y2 = y * y,\n      y2_1 = y2 + 1,\n      x2_y2_1 = x2 + y2_1,\n      cosPhi = x\n          ? sqrt1_2 * sqrt((x2_y2_1 - sqrt(x2_y2_1 * x2_y2_1 - 4 * x2)) / x2)\n          : 1 / sqrt(y2_1);\n  return [\n    asin(x * cosPhi),\n    sign(y) * acos(cosPhi)\n  ];\n};\n\nexport default function() {\n  return projection(littrowRaw)\n      .scale(144.049)\n      .clipAngle(90 - 1e-3);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {atan, exp, log, quarterPi, pi, tan} from \"./math.js\";\n\nexport function millerRaw(lambda, phi) {\n  return [lambda, 1.25 * log(tan(quarterPi + 0.4 * phi))];\n}\n\nmillerRaw.invert = function(x, y) {\n  return [x, 2.5 * atan(exp(0.8 * y)) - 0.625 * pi];\n};\n\nexport default function() {\n  return projection(millerRaw)\n      .scale(108.318);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {asin, cos, sin, sqrt} from \"./math.js\";\n\nvar sqrt6 = sqrt(6),\n    sqrt7 = sqrt(7);\n\nexport function mtFlatPolarParabolicRaw(lambda, phi) {\n  var theta = asin(7 * sin(phi) / (3 * sqrt6));\n  return [\n    sqrt6 * lambda * (2 * cos(2 * theta / 3) - 1) / sqrt7,\n    9 * sin(theta / 3) / sqrt7\n  ];\n}\n\nmtFlatPolarParabolicRaw.invert = function(x, y) {\n  var theta = 3 * asin(y * sqrt7 / 9);\n  return [\n    x * sqrt7 / (sqrt6 * (2 * cos(2 * theta / 3) - 1)),\n    asin(sin(theta) * 3 * sqrt6 / 7)\n  ];\n};\n\nexport default function() {\n  return projection(mtFlatPolarParabolicRaw)\n      .scale(164.859);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, asin, cos, epsilon, sin, sqrt, sqrt1_2, sqrt2} from \"./math.js\";\n\nexport function mtFlatPolarQuarticRaw(lambda, phi) {\n  var k = (1 + sqrt1_2) * sin(phi),\n      theta = phi;\n  for (var i = 0, delta; i < 25; i++) {\n    theta -= delta = (sin(theta / 2) + sin(theta) - k) / (0.5 * cos(theta / 2) + cos(theta));\n    if (abs(delta) < epsilon) break;\n  }\n  return [\n    lambda * (1 + 2 * cos(theta) / cos(theta / 2)) / (3 * sqrt2),\n    2 * sqrt(3) * sin(theta / 2) / sqrt(2 + sqrt2)\n  ];\n}\n\nmtFlatPolarQuarticRaw.invert = function(x, y) {\n  var sinTheta_2 = y * sqrt(2 + sqrt2) / (2 * sqrt(3)),\n      theta = 2 * asin(sinTheta_2);\n  return [\n    3 * sqrt2 * x / (1 + 2 * cos(theta) / cos(theta / 2)),\n    asin((sinTheta_2 + sin(theta)) / (1 + sqrt1_2))\n  ];\n};\n\nexport default function() {\n  return projection(mtFlatPolarQuarticRaw)\n      .scale(188.209);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, asin, cos, epsilon, halfPi, pi, sin, sqrt} from \"./math.js\";\n\nexport function mtFlatPolarSinusoidalRaw(lambda, phi) {\n  var A = sqrt(6 / (4 + pi)),\n      k = (1 + pi / 4) * sin(phi),\n      theta = phi / 2;\n  for (var i = 0, delta; i < 25; i++) {\n    theta -= delta = (theta / 2 + sin(theta) - k) / (0.5 + cos(theta));\n    if (abs(delta) < epsilon) break;\n  }\n  return [\n    A * (0.5 + cos(theta)) * lambda / 1.5,\n    A * theta\n  ];\n}\n\nmtFlatPolarSinusoidalRaw.invert = function(x, y) {\n  var A = sqrt(6 / (4 + pi)),\n      theta = y / A;\n  if (abs(abs(theta) - halfPi) < epsilon) theta = theta < 0 ? -halfPi : halfPi;\n  return [\n    1.5 * x / (A * (0.5 + cos(theta))),\n    asin((theta / 2 + sin(theta)) / (1 + pi / 4))\n  ];\n};\n\nexport default function() {\n  return projection(mtFlatPolarSinusoidalRaw)\n      .scale(166.518);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, epsilon2} from \"./math.js\";\n\nexport function naturalEarth2Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2, phi6 = phi2 * phi4;\n  return [\n    lambda * (0.84719 - 0.13063 * phi2 + phi6 * phi6 * (-0.04515 + 0.05494 * phi2 - 0.02326 * phi4 + 0.00331 * phi6)),\n    phi * (1.01183 + phi4 * phi4 * (-0.02625 + 0.01926 * phi2 - 0.00396 * phi4))\n  ];\n}\n\nnaturalEarth2Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta, phi2, phi4, phi6;\n  do {\n    phi2 = phi * phi; phi4 = phi2 * phi2;\n    phi -= delta = ((phi * (1.01183 + phi4 * phi4 * (-0.02625 + 0.01926 * phi2 - 0.00396 * phi4))) - y) /\n      (1.01183 + phi4 * phi4 * ((9 * -0.02625) + (11 * 0.01926) * phi2 + (13 * -0.00396) * phi4));\n  } while (abs(delta) > epsilon2 && --i > 0);\n  phi2 = phi * phi; phi4 = phi2 * phi2; phi6 = phi2 * phi4;\n  return [\n    x / (0.84719 - 0.13063 * phi2 + phi6 * phi6 * (-0.04515 + 0.05494 * phi2 - 0.02326 * phi4 + 0.00331 * phi6)),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth2Raw)\n      .scale(175.295);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, cos, epsilon, tan} from \"./math.js\";\n\nexport function nellHammerRaw(lambda, phi) {\n  return [\n    lambda * (1 + cos(phi)) / 2,\n    2 * (phi - tan(phi / 2))\n  ];\n}\n\nnellHammerRaw.invert = function(x, y) {\n  var p = y / 2;\n  for (var i = 0, delta = Infinity; i < 10 && abs(delta) > epsilon; ++i) {\n    var c = cos(y / 2);\n    y -= delta = (y - tan(y / 2) - p) / (1 - 0.5 / (c * c));\n  }\n  return [\n    2 * x / (1 + cos(y)),\n    y\n  ];\n};\n\nexport default function() {\n  return projection(nellHammerRaw)\n      .scale(152.63);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, cos, halfPi, pi, sign, sin, sqrt} from \"./math.js\";\nimport {solve} from \"./newton.js\";\n\n// Based on Torben Jansen's implementation\n// https://beta.observablehq.com/@toja/nicolosi-globular-projection\n// https://beta.observablehq.com/@toja/nicolosi-globular-inverse\n\nexport function nicolosiRaw(lambda, phi) {\n  var sinPhi = sin(phi),\n    q = cos(phi),\n    s = sign(lambda);\n\n  if (lambda === 0 || abs(phi) === halfPi) return [0, phi];\n  else if (phi === 0) return [lambda, 0];\n  else if (abs(lambda) === halfPi) return [lambda * q, halfPi * sinPhi];\n\n  var b = pi / (2 * lambda) - (2 * lambda) / pi,\n    c = (2 * phi) / pi,\n    d = (1 - c * c) / (sinPhi - c);\n\n  var b2 = b * b,\n    d2 = d * d,\n    b2d2 = 1 + b2 / d2,\n    d2b2 = 1 + d2 / b2;\n\n  var M = ((b * sinPhi) / d - b / 2) / b2d2,\n    N = ((d2 * sinPhi) / b2 + d / 2) / d2b2,\n    m = M * M + (q * q) / b2d2,\n    n = N * N - ((d2 * sinPhi * sinPhi) / b2 + d * sinPhi - 1) / d2b2;\n\n  return [\n    halfPi * (M + sqrt(m) * s),\n    halfPi * (N + sqrt(n < 0 ? 0 : n) * sign(-phi * b) * s)\n  ];\n}\n\nnicolosiRaw.invert = function(x, y) {\n\n  x /= halfPi;\n  y /= halfPi;\n\n  var x2 = x * x,\n    y2 = y * y,\n    x2y2 = x2 + y2,\n    pi2 = pi * pi;\n\n  return [\n    x ? (x2y2 -1 + sqrt((1 - x2y2) * (1 - x2y2) + 4 * x2)) / (2 * x) * halfPi : 0,\n    solve(function(phi) {\n      return (\n        x2y2 * (pi * sin(phi) - 2 * phi) * pi +\n        4 * phi * phi * (y - sin(phi)) +\n        2 * pi * phi -\n        pi2 * y\n      );\n    }, 0)\n  ];\n};\n\nexport default function() {\n  return projection(nicolosiRaw)\n    .scale(127.267);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, epsilon} from \"./math.js\";\n\n// Based on Java implementation by Bojan Savric.\n// https://github.com/OSUCartography/JMapProjLib/blob/master/src/com/jhlabs/map/proj/PattersonProjection.java\n\nvar pattersonK1 = 1.0148,\n    pattersonK2 = 0.23185,\n    pattersonK3 = -0.14499,\n    pattersonK4 = 0.02406,\n    pattersonC1 = pattersonK1,\n    pattersonC2 = 5 * pattersonK2,\n    pattersonC3 = 7 * pattersonK3,\n    pattersonC4 = 9 * pattersonK4,\n    pattersonYmax = 1.790857183;\n\nexport function pattersonRaw(lambda, phi) {\n  var phi2 = phi * phi;\n  return [\n    lambda,\n    phi * (pattersonK1 + phi2 * phi2 * (pattersonK2 + phi2 * (pattersonK3 + pattersonK4 * phi2)))\n  ];\n}\n\npattersonRaw.invert = function(x, y) {\n  if (y > pattersonYmax) y = pattersonYmax;\n  else if (y < -pattersonYmax) y = -pattersonYmax;\n  var yc = y, delta;\n\n  do { // Newton-Raphson\n    var y2 = yc * yc;\n    yc -= delta = ((yc * (pattersonK1 + y2 * y2 * (pattersonK2 + y2 * (pattersonK3 + pattersonK4 * y2)))) - y) / (pattersonC1 + y2 * y2 * (pattersonC2 + y2 * (pattersonC3 + pattersonC4 * y2)));\n  } while (abs(delta) > epsilon);\n\n  return [x, yc];\n};\n\nexport default function() {\n  return projection(pattersonRaw)\n      .scale(139.319);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, acos, asin, cos, epsilon, halfPi, sign, sin, tan} from \"./math.js\";\n\nexport function polyconicRaw(lambda, phi) {\n  if (abs(phi) < epsilon) return [lambda, 0];\n  var tanPhi = tan(phi),\n      k = lambda * sin(phi);\n  return [\n    sin(k) / tanPhi,\n    phi + (1 - cos(k)) / tanPhi\n  ];\n}\n\npolyconicRaw.invert = function(x, y) {\n  if (abs(y) < epsilon) return [x, 0];\n  var k = x * x + y * y,\n      phi = y * 0.5,\n      i = 10, delta;\n  do {\n    var tanPhi = tan(phi),\n        secPhi = 1 / cos(phi),\n        j = k - 2 * y * phi + phi * phi;\n    phi -= delta = (tanPhi * j + 2 * (phi - y)) / (2 + j * secPhi * secPhi + 2 * (phi - y) * tanPhi);\n  } while (abs(delta) > epsilon && --i > 0);\n  tanPhi = tan(phi);\n  return [\n    (abs(y) < abs(phi + 1 / tanPhi) ? asin(x * tanPhi) : sign(y) * sign(x) * (acos(abs(x * tanPhi)) + halfPi)) / sin(phi),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(polyconicRaw)\n      .scale(103.74);\n}\n", "// TODO generate on-the-fly to avoid external modification.\nvar octahedron = [\n  [0, 90],\n  [-90, 0], [0, 0], [90, 0], [180, 0],\n  [0, -90]\n];\n\nexport default [\n  [0, 2, 1],\n  [0, 3, 2],\n  [5, 1, 2],\n  [5, 2, 3],\n  [0, 1, 4],\n  [0, 4, 3],\n  [5, 4, 1],\n  [5, 3, 4]\n].map(function(face) {\n  return face.map(function(i) {\n    return octahedron[i];\n  });\n});\n", "import {geoCentroid as centroid, geoProjection as projection} from \"d3-geo\";\nimport {collignonRaw} from \"../collignon.js\";\nimport {pi, sqrt} from \"../math.js\";\nimport polyhedral from \"./index.js\";\nimport octahedron from \"./octahedron.js\";\n\nvar kx = 2 / sqrt(3);\n\nfunction collignonK(a, b) {\n  var p = collignonRaw(a, b);\n  return [p[0] * kx, p[1]];\n}\n\ncollignonK.invert = function(x,y) {\n  return collignonRaw.invert(x / kx, y);\n};\n\nexport default function(faceProjection) {\n\n  faceProjection = faceProjection || function(face) {\n    var c = centroid({type: \"MultiPoint\", coordinates: face});\n    return projection(collignonK).translate([0, 0]).scale(1).rotate(c[1] > 0 ? [-c[0], 0] : [180 - c[0], 180]);\n  };\n\n  var faces = octahedron.map(function(face) {\n    return {face: face, project: faceProjection(face)};\n  });\n\n  [-1, 0, 0, 1, 0, 1, 4, 5].forEach(function(d, i) {\n    var node = faces[d];\n    node && (node.children || (node.children = [])).push(faces[i]);\n  });\n\n  return polyhedral(faces[0], function(lambda, phi) {\n        return faces[lambda < -pi / 2 ? phi < 0 ? 6 : 4\n            : lambda < 0 ? phi < 0 ? 2 : 0\n            : lambda < pi / 2 ? phi < 0 ? 3 : 1\n            : phi < 0 ? 7 : 5];\n      })\n      .angle(-30)\n      .scale(121.906)\n      .center([0, 48.5904]);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, degrees, epsilon2, floor, max, min, pi, radians, sign} from \"./math.js\";\n\nvar K = [\n  [0.9986, -0.062],\n  [1.0000, 0.0000],\n  [0.9986, 0.0620],\n  [0.9954, 0.1240],\n  [0.9900, 0.1860],\n  [0.9822, 0.2480],\n  [0.9730, 0.3100],\n  [0.9600, 0.3720],\n  [0.9427, 0.4340],\n  [0.9216, 0.4958],\n  [0.8962, 0.5571],\n  [0.8679, 0.6176],\n  [0.8350, 0.6769],\n  [0.7986, 0.7346],\n  [0.7597, 0.7903],\n  [0.7186, 0.8435],\n  [0.6732, 0.8936],\n  [0.6213, 0.9394],\n  [0.5722, 0.9761],\n  [0.5322, 1.0000]\n];\n\nK.forEach(function(d) {\n  d[1] *= 1.593415793900743;\n});\n\nexport function robinsonRaw(lambda, phi) {\n  var i = min(18, abs(phi) * 36 / pi),\n      i0 = floor(i),\n      di = i - i0,\n      ax = (k = K[i0])[0],\n      ay = k[1],\n      bx = (k = K[++i0])[0],\n      by = k[1],\n      cx = (k = K[min(19, ++i0)])[0],\n      cy = k[1],\n      k;\n  return [\n    lambda * (bx + di * (cx - ax) / 2 + di * di * (cx - 2 * bx + ax) / 2),\n    sign(phi) * (by + di * (cy - ay) / 2 + di * di * (cy - 2 * by + ay) / 2)\n  ];\n}\n\nrobinsonRaw.invert = function(x, y) {\n  var phi = y * 90,\n      i = min(18, abs(phi / 5)),\n      i0 = max(0, floor(i));\n  do {\n    var ay = K[i0][1],\n        by = K[i0 + 1][1],\n        cy = K[min(19, i0 + 2)][1],\n        u = cy - ay,\n        v = cy - 2 * by + ay,\n        t = 2 * (abs(y) - by) / u,\n        c = v / u,\n        di = t * (1 - c * t * (1 - 2 * c * t));\n    if (di >= 0 || i0 === 1) {\n      phi = (y >= 0 ? 5 : -5) * (di + i);\n      var j = 50, delta;\n      do {\n        i = min(18, abs(phi) / 5);\n        i0 = floor(i);\n        di = i - i0;\n        ay = K[i0][1];\n        by = K[i0 + 1][1];\n        cy = K[min(19, i0 + 2)][1];\n        phi -= (delta = sign(y) * (by + di * (cy - ay) / 2 + di * di * (cy - 2 * by + ay) / 2) - y) * degrees;\n      } while (abs(delta) > epsilon2 && --j > 0);\n      break;\n    }\n  } while (--i0 >= 0);\n  var ax = K[i0][0],\n      bx = K[i0 + 1][0],\n      cx = K[min(19, i0 + 2)][0];\n  return [\n    x / (bx + di * (cx - ax) / 2 + di * di * (cx - 2 * bx + ax) / 2),\n    phi * radians\n  ];\n};\n\nexport default function() {\n  return projection(robinsonRaw)\n      .scale(152.63);\n}\n", "var epsilon = 1e-4,\n    epsilonInverse = 1e4,\n    x0 = -180, x0e = x0 + epsilon,\n    x1 = 180, x1e = x1 - epsilon,\n    y0 = -90, y0e = y0 + epsilon,\n    y1 = 90, y1e = y1 - epsilon;\n\nfunction nonempty(coordinates) {\n  return coordinates.length > 0;\n}\n\nfunction quantize(x) {\n  return Math.floor(x * epsilonInverse) / epsilonInverse;\n}\n\nfunction normalizePoint(y) {\n  return y === y0 || y === y1 ? [0, y] : [x0, quantize(y)]; // pole or antimeridian?\n}\n\nfunction clampPoint(p) {\n  var x = p[0], y = p[1], clamped = false;\n  if (x <= x0e) x = x0, clamped = true;\n  else if (x >= x1e) x = x1, clamped = true;\n  if (y <= y0e) y = y0, clamped = true;\n  else if (y >= y1e) y = y1, clamped = true;\n  return clamped ? [x, y] : p;\n}\n\nfunction clampPoints(points) {\n  return points.map(clampPoint);\n}\n\n// For each ring, detect where it crosses the antimeridian or pole.\nfunction extractFragments(rings, polygon, fragments) {\n  for (var j = 0, m = rings.length; j < m; ++j) {\n    var ring = rings[j].slice();\n\n    // By default, assume that this ring doesnt need any stitching.\n    fragments.push({index: -1, polygon: polygon, ring: ring});\n\n    for (var i = 0, n = ring.length; i < n; ++i) {\n      var point = ring[i],\n          x = point[0],\n          y = point[1];\n\n      // If this is an antimeridian or polar point\n      if (x <= x0e || x >= x1e || y <= y0e || y >= y1e) {\n        ring[i] = clampPoint(point);\n\n        // Advance through any antimeridian or polar points\n        for (var k = i + 1; k < n; ++k) {\n          var pointk = ring[k],\n              xk = pointk[0],\n              yk = pointk[1];\n          if (xk > x0e && xk < x1e && yk > y0e && yk < y1e) break;\n        }\n\n        // If this was just a single antimeridian or polar point,\n        // we dont need to cut this ring into a fragment;\n        // we can just leave it as-is.\n        if (k === i + 1) continue;\n\n        // Otherwise, if this is not the first point in the ring,\n        // cut the current fragment so that it ends at the current point.\n        // The current point is also normalized for later joining.\n        if (i) {\n          var fragmentBefore = {index: -1, polygon: polygon, ring: ring.slice(0, i + 1)};\n          fragmentBefore.ring[fragmentBefore.ring.length - 1] = normalizePoint(y);\n          fragments[fragments.length - 1] = fragmentBefore;\n        }\n\n        // If the ring started with an antimeridian fragment,\n        // we can ignore that fragment entirely.\n        else fragments.pop();\n\n        // If the remainder of the ring is an antimeridian fragment,\n        // move on to the next ring.\n        if (k >= n) break;\n\n        // Otherwise, add the remaining ring fragment and continue.\n        fragments.push({index: -1, polygon: polygon, ring: ring = ring.slice(k - 1)});\n        ring[0] = normalizePoint(ring[0][1]);\n        i = -1;\n        n = ring.length;\n      }\n    }\n  }\n}\n\n// Now stitch the fragments back together into rings.\nfunction stitchFragments(fragments) {\n  var i, n = fragments.length;\n\n  // To connect the fragments start-to-end, create a simple index by end.\n  var fragmentByStart = {},\n      fragmentByEnd = {},\n      fragment,\n      start,\n      startFragment,\n      end,\n      endFragment;\n\n  // For each fragment\n  for (i = 0; i < n; ++i) {\n    fragment = fragments[i];\n    start = fragment.ring[0];\n    end = fragment.ring[fragment.ring.length - 1];\n\n    // If this fragment is closed, add it as a standalone ring.\n    if (start[0] === end[0] && start[1] === end[1]) {\n      fragment.polygon.push(fragment.ring);\n      fragments[i] = null;\n      continue;\n    }\n\n    fragment.index = i;\n    fragmentByStart[start] = fragmentByEnd[end] = fragment;\n  }\n\n  // For each open fragment\n  for (i = 0; i < n; ++i) {\n    fragment = fragments[i];\n    if (fragment) {\n      start = fragment.ring[0];\n      end = fragment.ring[fragment.ring.length - 1];\n      startFragment = fragmentByEnd[start];\n      endFragment = fragmentByStart[end];\n\n      delete fragmentByStart[start];\n      delete fragmentByEnd[end];\n\n      // If this fragment is closed, add it as a standalone ring.\n      if (start[0] === end[0] && start[1] === end[1]) {\n        fragment.polygon.push(fragment.ring);\n        continue;\n      }\n\n      if (startFragment) {\n        delete fragmentByEnd[start];\n        delete fragmentByStart[startFragment.ring[0]];\n        startFragment.ring.pop(); // drop the shared coordinate\n        fragments[startFragment.index] = null;\n        fragment = {index: -1, polygon: startFragment.polygon, ring: startFragment.ring.concat(fragment.ring)};\n\n        if (startFragment === endFragment) {\n          // Connect both ends to this single fragment to create a ring.\n          fragment.polygon.push(fragment.ring);\n        } else {\n          fragment.index = n++;\n          fragments.push(fragmentByStart[fragment.ring[0]] = fragmentByEnd[fragment.ring[fragment.ring.length - 1]] = fragment);\n        }\n      } else if (endFragment) {\n        delete fragmentByStart[end];\n        delete fragmentByEnd[endFragment.ring[endFragment.ring.length - 1]];\n        fragment.ring.pop(); // drop the shared coordinate\n        fragment = {index: n++, polygon: endFragment.polygon, ring: fragment.ring.concat(endFragment.ring)};\n        fragments[endFragment.index] = null;\n        fragments.push(fragmentByStart[fragment.ring[0]] = fragmentByEnd[fragment.ring[fragment.ring.length - 1]] = fragment);\n      } else {\n        fragment.ring.push(fragment.ring[0]); // close ring\n        fragment.polygon.push(fragment.ring);\n      }\n    }\n  }\n}\n\nfunction stitchFeature(input) {\n  var output = {type: \"Feature\", geometry: stitchGeometry(input.geometry)};\n  if (input.id != null) output.id = input.id;\n  if (input.bbox != null) output.bbox = input.bbox;\n  if (input.properties != null) output.properties = input.properties;\n  return output;\n}\n\nfunction stitchGeometry(input) {\n  if (input == null) return input;\n  var output, fragments, i, n;\n  switch (input.type) {\n    case \"GeometryCollection\": output = {type: \"GeometryCollection\", geometries: input.geometries.map(stitchGeometry)}; break;\n    case \"Point\": output = {type: \"Point\", coordinates: clampPoint(input.coordinates)}; break;\n    case \"MultiPoint\": case \"LineString\": output = {type: input.type, coordinates: clampPoints(input.coordinates)}; break;\n    case \"MultiLineString\": output = {type: \"MultiLineString\", coordinates: input.coordinates.map(clampPoints)}; break;\n    case \"Polygon\": {\n      var polygon = [];\n      extractFragments(input.coordinates, polygon, fragments = []);\n      stitchFragments(fragments);\n      output = {type: \"Polygon\", coordinates: polygon};\n      break;\n    }\n    case \"MultiPolygon\": {\n      fragments = [], i = -1, n = input.coordinates.length;\n      var polygons = new Array(n);\n      while (++i < n) extractFragments(input.coordinates[i], polygons[i] = [], fragments);\n      stitchFragments(fragments);\n      output = {type: \"MultiPolygon\", coordinates: polygons.filter(nonempty)};\n      break;\n    }\n    default: return input;\n  }\n  if (input.bbox != null) output.bbox = input.bbox;\n  return output;\n}\n\nexport default function(input) {\n  if (input == null) return input;\n  switch (input.type) {\n    case \"Feature\": return stitchFeature(input);\n    case \"FeatureCollection\": {\n      var output = {type: \"FeatureCollection\", features: input.features.map(stitchFeature)};\n      if (input.bbox != null) output.bbox = input.bbox;\n      return output;\n    }\n    default: return stitchGeometry(input);\n  }\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {atan, quarterPi, sin, tan} from \"./math.js\";\n\nexport function timesRaw(lambda, phi) {\n  var t = tan(phi / 2),\n      s = sin(quarterPi * t);\n  return [\n    lambda * (0.74482 - 0.34588 * s * s),\n    1.70711 * t\n  ];\n}\n\ntimesRaw.invert = function(x, y) {\n  var t = y / 1.70711,\n      s = sin(quarterPi * t);\n  return [\n    x / (0.74482 - 0.34588 * s * s),\n    2 * atan(t)\n  ];\n};\n\nexport default function() {\n  return projection(timesRaw)\n      .scale(146.153);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, acos, asin, atan, cos, epsilon, halfPi, pi, sign, sin, sqrt, tan} from \"./math.js\";\n\nexport function vanDerGrintenRaw(lambda, phi) {\n  if (abs(phi) < epsilon) return [lambda, 0];\n  var sinTheta = abs(phi / halfPi),\n      theta = asin(sinTheta);\n  if (abs(lambda) < epsilon || abs(abs(phi) - halfPi) < epsilon) return [0, sign(phi) * pi * tan(theta / 2)];\n  var cosTheta = cos(theta),\n      A = abs(pi / lambda - lambda / pi) / 2,\n      A2 = A * A,\n      G = cosTheta / (sinTheta + cosTheta - 1),\n      P = G * (2 / sinTheta - 1),\n      P2 = P * P,\n      P2_A2 = P2 + A2,\n      G_P2 = G - P2,\n      Q = A2 + G;\n  return [\n    sign(lambda) * pi * (A * G_P2 + sqrt(A2 * G_P2 * G_P2 - P2_A2 * (G * G - P2))) / P2_A2,\n    sign(phi) * pi * (P * Q - A * sqrt((A2 + 1) * P2_A2 - Q * Q)) / P2_A2\n  ];\n}\n\nvanDerGrintenRaw.invert = function(x, y) {\n  if (abs(y) < epsilon) return [x, 0];\n  if (abs(x) < epsilon) return [0, halfPi * sin(2 * atan(y / pi))];\n  var x2 = (x /= pi) * x,\n      y2 = (y /= pi) * y,\n      x2_y2 = x2 + y2,\n      z = x2_y2 * x2_y2,\n      c1 = -abs(y) * (1 + x2_y2),\n      c2 = c1 - 2 * y2 + x2,\n      c3 = -2 * c1 + 1 + 2 * y2 + z,\n      d = y2 / c3 + (2 * c2 * c2 * c2 / (c3 * c3 * c3) - 9 * c1 * c2 / (c3 * c3)) / 27,\n      a1 = (c1 - c2 * c2 / (3 * c3)) / c3,\n      m1 = 2 * sqrt(-a1 / 3),\n      theta1 = acos(3 * d / (a1 * m1)) / 3;\n  return [\n    pi * (x2_y2 - 1 + sqrt(1 + 2 * (x2 - y2) + z)) / (2 * x),\n    sign(y) * pi * (-m1 * cos(theta1 + pi / 3) - c2 / (3 * c3))\n  ];\n};\n\nexport default function() {\n  return projection(vanDerGrintenRaw)\n      .scale(79.4183);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, asin, atan, atan2, cos, halfPi, epsilon, pi, sign, sin, sqrt, tan} from \"./math.js\";\n\nexport function vanDerGrinten2Raw(lambda, phi) {\n  if (abs(phi) < epsilon) return [lambda, 0];\n  var sinTheta = abs(phi / halfPi),\n      theta = asin(sinTheta);\n  if (abs(lambda) < epsilon || abs(abs(phi) - halfPi) < epsilon) return [0, sign(phi) * pi * tan(theta / 2)];\n  var cosTheta = cos(theta),\n      A = abs(pi / lambda - lambda / pi) / 2,\n      A2 = A * A,\n      x1 = cosTheta * (sqrt(1 + A2) - A * cosTheta) / (1 + A2 * sinTheta * sinTheta);\n  return [\n    sign(lambda) * pi * x1,\n    sign(phi) * pi * sqrt(1 - x1 * (2 * A + x1))\n  ];\n}\n\nvanDerGrinten2Raw.invert = function(x, y) {\n  if (!x) return [0, halfPi * sin(2 * atan(y / pi))];\n  var x1 = abs(x / pi),\n      A = (1 - x1 * x1 - (y /= pi) * y) / (2 * x1),\n      A2 = A * A,\n      B = sqrt(A2 + 1);\n  return [\n    sign(x) * pi * (B - A),\n    sign(y) * halfPi * sin(2 * atan2(sqrt((1 - 2 * A * x1) * (A + B) - x1), sqrt(B + A + x1)))\n  ];\n};\n\nexport default function() {\n  return projection(vanDerGrinten2Raw)\n      .scale(79.4183);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, asin, atan, cos, epsilon, halfPi, pi, sign, sin, sqrt, tan} from \"./math.js\";\n\nexport function vanDerGrinten3Raw(lambda, phi) {\n  if (abs(phi) < epsilon) return [lambda, 0];\n  var sinTheta = phi / halfPi,\n      theta = asin(sinTheta);\n  if (abs(lambda) < epsilon || abs(abs(phi) - halfPi) < epsilon) return [0, pi * tan(theta / 2)];\n  var A = (pi / lambda - lambda / pi) / 2,\n      y1 = sinTheta / (1 + cos(theta));\n  return [\n    pi * (sign(lambda) * sqrt(A * A + 1 - y1 * y1) - A),\n    pi * y1\n  ];\n}\n\nvanDerGrinten3Raw.invert = function(x, y) {\n  if (!y) return [x, 0];\n  var y1 = y / pi,\n      A = (pi * pi * (1 - y1 * y1) - x * x) / (2 * pi * x);\n  return [\n    x ? pi * (sign(x) * sqrt(A * A + 1) - A) : 0,\n    halfPi * sin(2 * atan(y1))\n  ];\n};\n\nexport default function() {\n  return projection(vanDerGrinten3Raw)\n        .scale(79.4183);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {abs, epsilon, halfPi, min, pi, sign, sqrt} from \"./math.js\";\n\nexport function vanDerGrinten4Raw(lambda, phi) {\n  if (!phi) return [lambda, 0];\n  var phi0 = abs(phi);\n  if (!lambda || phi0 === halfPi) return [0, phi];\n  var B = phi0 / halfPi,\n      B2 = B * B,\n      C = (8 * B - B2 * (B2 + 2) - 5) / (2 * B2 * (B - 1)),\n      C2 = C * C,\n      BC = B * C,\n      B_C2 = B2 + C2 + 2 * BC,\n      B_3C = B + 3 * C,\n      lambda0 = lambda / halfPi,\n      lambda1 = lambda0 + 1 / lambda0,\n      D = sign(abs(lambda) - halfPi) * sqrt(lambda1 * lambda1 - 4),\n      D2 = D * D,\n      F = B_C2 * (B2 + C2 * D2 - 1) + (1 - B2) * (B2 * (B_3C * B_3C + 4 * C2) + 12 * BC * C2 + 4 * C2 * C2),\n      x1 = (D * (B_C2 + C2 - 1) + 2 * sqrt(F)) / (4 * B_C2 + D2);\n  return [\n    sign(lambda) * halfPi * x1,\n    sign(phi) * halfPi * sqrt(1 + D * abs(x1) - x1 * x1)\n  ];\n}\n\nvanDerGrinten4Raw.invert = function(x, y) {\n  var delta;\n  if (!x || !y) return [x, y];\n  var sy = sign(y);\n  y = abs(y) / pi;\n  var x1 = sign(x) * x / halfPi,\n      D = (x1 * x1 - 1 + 4 * y * y) / abs(x1),\n      D2 = D * D,\n      B = y * (2 - (y > 0.5 ? min(y, abs(x)) : 0)),\n      r = x * x + y * y,\n      i = 50;\n  do {\n    var B2 = B * B,\n        C = (8 * B - B2 * (B2 + 2) - 5) / (2 * B2 * (B - 1)),\n        C_ = (3 * B - B2 * B - 10) / (2 * B2 * B),\n        C2 = C * C,\n        BC = B * C,\n        B_C = B + C,\n        B_C2 = B_C * B_C,\n        B_3C = B + 3 * C,\n        F = B_C2 * (B2 + C2 * D2 - 1) + (1 - B2) * (B2 * (B_3C * B_3C + 4 * C2) + C2 * (12 * BC + 4 * C2)),\n        F_ = -2 * B_C * (4 * BC * C2 + (1 - 4 * B2 + 3 * B2 * B2) * (1 + C_) + C2 * (-6 + 14 * B2 - D2 + (-8 + 8 * B2 - 2 * D2) * C_) + BC * (-8 + 12 * B2 + (-10 + 10 * B2 - D2) * C_)),\n        sqrtF = sqrt(F),\n        f = D * (B_C2 + C2 - 1) + 2 * sqrtF - x1 * (4 * B_C2 + D2),\n        f_ = D * (2 * C * C_ + 2 * B_C * (1 + C_)) + F_ / sqrtF - 8 * B_C * (D * (-1 + C2 + B_C2) + 2 * sqrtF) * (1 + C_) / (D2 + 4 * B_C2);\n    B -= delta = f / f_;\n  } while (delta * r * r > epsilon && --i > 0);\n  return [\n    sign(x) * (sqrt(D * D + 4) + D) * pi / 4,\n    sy * halfPi * B\n  ];\n};\n\nexport default function() {\n  return projection(vanDerGrinten4Raw)\n      .scale(127.16);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {sqrt, pi} from \"./math.js\";\nimport {mollweideBromleyRaw} from \"./mollweide.js\";\n\nvar A = 4 * pi + 3 * sqrt(3),\n    B = 2 * sqrt(2 * pi * sqrt(3) / A);\n\nexport var wagner4Raw = mollweideBromleyRaw(B * sqrt(3) / pi, B, A / 6);\n\nexport default function() {\n  return projection(wagner4Raw)\n      .scale(176.84);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {pi, sqrt} from \"./math.js\";\n\nexport function wagner6Raw(lambda, phi) {\n  return [lambda * sqrt(1 - 3 * phi * phi / (pi * pi)), phi];\n}\n\nwagner6Raw.invert = function(x, y) {\n  return [x / sqrt(1 - 3 * y * y / (pi * pi)), y];\n};\n\nexport default function() {\n  return projection(wagner6Raw)\n      .scale(152.63);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function wiechelRaw(lambda, phi) {\n  var cosPhi = cos(phi),\n      sinPhi = cos(lambda) * cosPhi,\n      sin1_Phi = 1 - sinPhi,\n      cosLambda = cos(lambda = atan2(sin(lambda) * cosPhi, -sin(phi))),\n      sinLambda = sin(lambda);\n  cosPhi = sqrt(1 - sinPhi * sinPhi);\n  return [\n    sinLambda * cosPhi - cosLambda * sin1_Phi,\n    -cosLambda * cosPhi - sinLambda * sin1_Phi\n  ];\n}\n\nwiechelRaw.invert = function(x, y) {\n  var w = (x * x + y * y) / -2,\n      k = sqrt(-w * (2 + w)),\n      b = y * w + x * k,\n      a = x * w - y * k,\n      D = sqrt(a * a + b * b);\n  return [\n    atan2(k * b, D * (1 + w)),\n    D ? -asin(k * a / D) : 0\n  ];\n};\n\nexport default function() {\n  return projection(wiechelRaw)\n      .rotate([0, -90, 45])\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n", "import {geoProjection as projection} from \"d3-geo\";\nimport {aitoffRaw} from \"./aitoff.js\";\nimport {halfPi, epsilon, sin, cos, sqrt, abs, acos} from \"./math.js\";\n\nexport function winkel3Raw(lambda, phi) {\n  var coordinates = aitoffRaw(lambda, phi);\n  return [\n    (coordinates[0] + lambda / halfPi) / 2,\n    (coordinates[1] + phi) / 2\n  ];\n}\n\nwinkel3Raw.invert = function(x, y) {\n  var lambda = x, phi = y, i = 25;\n  do {\n    var cosphi = cos(phi),\n        sinphi = sin(phi),\n        sin_2phi = sin(2 * phi),\n        sin2phi = sinphi * sinphi,\n        cos2phi = cosphi * cosphi,\n        sinlambda = sin(lambda),\n        coslambda_2 = cos(lambda / 2),\n        sinlambda_2 = sin(lambda / 2),\n        sin2lambda_2 = sinlambda_2 * sinlambda_2,\n        C = 1 - cos2phi * coslambda_2 * coslambda_2,\n        E = C ? acos(cosphi * coslambda_2) * sqrt(F = 1 / C) : F = 0,\n        F,\n        fx = 0.5 * (2 * E * cosphi * sinlambda_2 + lambda / halfPi) - x,\n        fy = 0.5 * (E * sinphi + phi) - y,\n        dxdlambda = 0.5 * F * (cos2phi * sin2lambda_2 + E * cosphi * coslambda_2 * sin2phi) + 0.5 / halfPi,\n        dxdphi = F * (sinlambda * sin_2phi / 4 - E * sinphi * sinlambda_2),\n        dydlambda = 0.125 * F * (sin_2phi * sinlambda_2 - E * sinphi * cos2phi * sinlambda),\n        dydphi = 0.5 * F * (sin2phi * coslambda_2 + E * sin2lambda_2 * cosphi) + 0.5,\n        denominator = dxdphi * dydlambda - dydphi * dxdlambda,\n        dlambda = (fy * dxdphi - fx * dydphi) / denominator,\n        dphi = (fx * dydlambda - fy * dxdlambda) / denominator;\n    lambda -= dlambda, phi -= dphi;\n  } while ((abs(dlambda) > epsilon || abs(dphi) > epsilon) && --i > 0);\n  return [lambda, phi];\n};\n\nexport default function() {\n  return projection(winkel3Raw)\n      .scale(158.837);\n}\n", "import { geoMercator, geoEquirectangular, geoAzimuthalEqualArea, geoAzimuthalEquidistant, geoGnomonic, geoOrthographic, geoStereographic, geoEqualEarth, geoAlbersUsa, geoAlbers, geoConicConformal, geoConicEqualArea, geoConicEquidistant, geoTransverseMercator, geoNaturalEarth1 } from 'd3-geo';\nimport { geoBromley, geoNaturalEarth2, geoKavrayskiy7, geoHufnagel, geoFoucautSinusoidal, geoEckert1, geoEckert3, geoBoggs, geoCylindricalStereographic, geoCraster, geoBaker, geoArmadillo, geoAitoff, geoFahey, geoRobinson } from 'd3-geo-projection';\n\nvar MapPointLabelPosition;\r\n(function (MapPointLabelPosition) {\r\n    MapPointLabelPosition[\"Center\"] = \"center\";\r\n    MapPointLabelPosition[\"Bottom\"] = \"bottom\";\r\n})(MapPointLabelPosition || (MapPointLabelPosition = {}));\r\nvar MapProjectionKind;\r\n(function (MapProjectionKind) {\r\n    // Projections form `d3-geo`\r\n    MapProjectionKind[\"Mercator\"] = \"Mercator\";\r\n    MapProjectionKind[\"Equirectangular\"] = \"Equirectangular\";\r\n    MapProjectionKind[\"AzimuthalEqualArea\"] = \"AzimuthalEqualArea\";\r\n    MapProjectionKind[\"AzimuthalEquidistant\"] = \"AzimuthalEquidistant\";\r\n    MapProjectionKind[\"Gnomonic\"] = \"Gnomonic\";\r\n    MapProjectionKind[\"Orthographic\"] = \"Orthographic\";\r\n    MapProjectionKind[\"Stereographic\"] = \"Stereographic\";\r\n    MapProjectionKind[\"EqualEarth\"] = \"EqualEarth\";\r\n    MapProjectionKind[\"AlbersUsa\"] = \"AlbersUsa\";\r\n    MapProjectionKind[\"Albers\"] = \"Albers\";\r\n    MapProjectionKind[\"ConicConformal\"] = \"ConicConformal\";\r\n    MapProjectionKind[\"ConicEqualArea\"] = \"ConicEqualArea\";\r\n    MapProjectionKind[\"ConicEquidistant\"] = \"ConicEquidistant\";\r\n    MapProjectionKind[\"TransverseMercator\"] = \"TransverseMercator\";\r\n    MapProjectionKind[\"NaturalEarth1\"] = \"NaturalEarth1\";\r\n    // Projections form `d3-geo-projection`\r\n    MapProjectionKind[\"Bromley\"] = \"Bromley\";\r\n    MapProjectionKind[\"NaturalEarth2\"] = \"NaturalEarth2\";\r\n    MapProjectionKind[\"Kavrayskiy7\"] = \"Kavrayskiy7\";\r\n    MapProjectionKind[\"Hufnagel\"] = \"Hufnagel\";\r\n    MapProjectionKind[\"FoucautSinusoidal\"] = \"FoucautSinusoidal\";\r\n    MapProjectionKind[\"Eckert1\"] = \"Eckert1\";\r\n    MapProjectionKind[\"Eckert3\"] = \"Eckert3\";\r\n    MapProjectionKind[\"Boggs\"] = \"Boggs\";\r\n    MapProjectionKind[\"CylindricalStereographic\"] = \"CylindricalStereographic\";\r\n    MapProjectionKind[\"Craster\"] = \"Craster\";\r\n    MapProjectionKind[\"Baker\"] = \"Baker\";\r\n    MapProjectionKind[\"Armadillo\"] = \"Armadillo\";\r\n    MapProjectionKind[\"Aitoff\"] = \"Aitoff\";\r\n    MapProjectionKind[\"Fahey\"] = \"Fahey\";\r\n    MapProjectionKind[\"Robinson\"] = \"Robinson\";\r\n})(MapProjectionKind || (MapProjectionKind = {}));\r\nconst MapProjection = {\r\n    // Projections form `d3-geo`\r\n    [MapProjectionKind.Mercator]: geoMercator,\r\n    [MapProjectionKind.Equirectangular]: geoEquirectangular,\r\n    [MapProjectionKind.AzimuthalEqualArea]: geoAzimuthalEqualArea,\r\n    [MapProjectionKind.AzimuthalEquidistant]: geoAzimuthalEquidistant,\r\n    [MapProjectionKind.Gnomonic]: geoGnomonic,\r\n    [MapProjectionKind.Orthographic]: geoOrthographic,\r\n    [MapProjectionKind.Stereographic]: geoStereographic,\r\n    [MapProjectionKind.EqualEarth]: geoEqualEarth,\r\n    [MapProjectionKind.AlbersUsa]: geoAlbersUsa,\r\n    [MapProjectionKind.Albers]: geoAlbers,\r\n    [MapProjectionKind.ConicConformal]: geoConicConformal,\r\n    [MapProjectionKind.ConicEqualArea]: geoConicEqualArea,\r\n    [MapProjectionKind.ConicEquidistant]: geoConicEquidistant,\r\n    [MapProjectionKind.TransverseMercator]: geoTransverseMercator,\r\n    [MapProjectionKind.NaturalEarth1]: geoNaturalEarth1,\r\n    // Projections form `d3-geo-projection`\r\n    [MapProjectionKind.Bromley]: geoBromley,\r\n    [MapProjectionKind.NaturalEarth2]: geoNaturalEarth2,\r\n    [MapProjectionKind.Kavrayskiy7]: geoKavrayskiy7,\r\n    [MapProjectionKind.Hufnagel]: geoHufnagel,\r\n    [MapProjectionKind.FoucautSinusoidal]: geoFoucautSinusoidal,\r\n    [MapProjectionKind.Eckert1]: geoEckert1,\r\n    [MapProjectionKind.Eckert3]: geoEckert3,\r\n    [MapProjectionKind.Boggs]: geoBoggs,\r\n    [MapProjectionKind.CylindricalStereographic]: geoCylindricalStereographic,\r\n    [MapProjectionKind.Craster]: geoCraster,\r\n    [MapProjectionKind.Baker]: geoBaker,\r\n    [MapProjectionKind.Armadillo]: geoArmadillo,\r\n    [MapProjectionKind.Aitoff]: geoAitoff,\r\n    [MapProjectionKind.Fahey]: geoFahey,\r\n    [MapProjectionKind.Robinson]: geoRobinson,\r\n};\n\nexport { MapPointLabelPosition, MapProjection, MapProjectionKind };\n\n", "var LeafletMapRenderer;\r\n(function (LeafletMapRenderer) {\r\n    LeafletMapRenderer[\"Raster\"] = \"raster\";\r\n    LeafletMapRenderer[\"MapLibre\"] = \"maplibre\";\r\n})(LeafletMapRenderer || (LeafletMapRenderer = {}));\r\nvar LeafletMapPointShape;\r\n(function (LeafletMapPointShape) {\r\n    LeafletMapPointShape[\"Square\"] = \"square\";\r\n    LeafletMapPointShape[\"Circle\"] = \"circle\";\r\n    LeafletMapPointShape[\"Triangle\"] = \"triangle\";\r\n    LeafletMapPointShape[\"Ring\"] = \"ring\";\r\n})(LeafletMapPointShape || (LeafletMapPointShape = {}));\n\nexport { LeafletMapPointShape, LeafletMapRenderer };\n\n", "var bearing = 0;\nvar name = \"F5XC Map Light\";\nvar owner = \"F5, Inc.\";\nvar glyphs = \"https://api.maptiler.com/fonts/{fontstack}/{range}.pbf\";\nvar sources = {\n\topenmaptiles: {\n\t\turl: \"https://api.maptiler.com/tiles/v3/tiles.json\",\n\t\ttype: \"vector\"\n\t}\n};\nvar layers = [\n\t{\n\t\tid: \"park_outline\",\n\t\ttype: \"line\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"park\",\n\t\tfilter: [\n\t\t\t\"all\"\n\t\t],\n\t\tlayout: {\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t1,\n\t\t\t\t1.5\n\t\t\t],\n\t\t\t\"line-opacity\": 1\n\t\t}\n\t},\n\t{\n\t\tid: \"landuse_residential\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"landuse\",\n\t\tmaxzoom: 8,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"residential\",\n\t\t\t\t\"suburbs\",\n\t\t\t\t\"neighbourhood\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"fill-color\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t9,\n\t\t\t\t\t\t\"rgba(236, 236, 236, 0.8)\"\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t\"rgba(236, 236, 236, 0.8)\"\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"landcover_wood\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"landcover\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"wood\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"fill-antialias\": false,\n\t\t\t\"fill-color\": \"rgba(255, 255, 255, 0.7)\",\n\t\t\t\"fill-opacity\": 0.4\n\t\t}\n\t},\n\t{\n\t\tid: \"landcover_grass\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"landcover\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"grass\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"fill-antialias\": false,\n\t\t\t\"fill-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"fill-opacity\": 0.3\n\t\t}\n\t},\n\t{\n\t\tid: \"landuse_cemetery\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"landuse\",\n\t\tfilter: [\n\t\t\t\"==\",\n\t\t\t\"class\",\n\t\t\t\"cemetery\"\n\t\t],\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"fill-color\": \"rgb(221, 221, 221)\"\n\t\t}\n\t},\n\t{\n\t\tid: \"landuse_hospital\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"landuse\",\n\t\tfilter: [\n\t\t\t\"==\",\n\t\t\t\"class\",\n\t\t\t\"hospital\"\n\t\t],\n\t\tpaint: {\n\t\t\t\"fill-color\": \"rgb(249, 249, 249)\"\n\t\t}\n\t},\n\t{\n\t\tid: \"landuse_school\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"landuse\",\n\t\tfilter: [\n\t\t\t\"==\",\n\t\t\t\"class\",\n\t\t\t\"school\"\n\t\t],\n\t\tpaint: {\n\t\t\t\"fill-color\": \"rgb(236, 236, 236)\"\n\t\t}\n\t},\n\t{\n\t\tid: \"landuse_stadium\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"landuse\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"stadium\",\n\t\t\t\t\"pitch\",\n\t\t\t\t\"track\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"fill-color\": \"rgb(236, 236, 236)\"\n\t\t}\n\t},\n\t{\n\t\tid: \"waterway_tunnel\",\n\t\ttype: \"line\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"waterway\",\n\t\tminzoom: 14,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(236, 237, 238)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t2,\n\t\t\t\t4\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.3,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t6\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"waterway_river\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"waterway\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"river\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"intermittent\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(236, 237, 238)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t11,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t6\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"waterway_river_intermittent\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"waterway\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"river\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"intermittent\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"#a0c8f0\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t3,\n\t\t\t\t2\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t11,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t6\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"waterway_other\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"waterway\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"class\",\n\t\t\t\t\"river\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"intermittent\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(236, 237, 238)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.3,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t6\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"waterway_other_intermittent\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"waterway\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"class\",\n\t\t\t\t\"river\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"intermittent\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"#a0c8f0\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t4,\n\t\t\t\t3\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.3,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t6\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"water_intermittent\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"water\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"intermittent\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"fill-color\": \"rgba(172, 218, 251, 1)\",\n\t\t\t\"fill-opacity\": 0.85\n\t\t}\n\t},\n\t{\n\t\tid: \"landcover_sand\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"landcover\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"sand\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"fill-antialias\": false,\n\t\t\t\"fill-color\": \"rgb(222, 222, 222)\",\n\t\t\t\"fill-opacity\": 1\n\t\t}\n\t},\n\t{\n\t\tid: \"landcover_sand_outline\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"landcover\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"sand\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"#f2e9ac\",\n\t\t\t\"line-width\": 2\n\t\t}\n\t},\n\t{\n\t\tid: \"aeroway_fill\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"aeroway\",\n\t\tminzoom: 11,\n\t\tfilter: [\n\t\t\t\"==\",\n\t\t\t\"$type\",\n\t\t\t\"Polygon\"\n\t\t],\n\t\tpaint: {\n\t\t\t\"fill-color\": \"rgb(241, 241, 241)\",\n\t\t\t\"fill-opacity\": 0.7\n\t\t}\n\t},\n\t{\n\t\tid: \"aeroway_runway\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"aeroway\",\n\t\tminzoom: 11,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"runway\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t11,\n\t\t\t\t\t\t3\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t16\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"aeroway_taxiway\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"aeroway\",\n\t\tminzoom: 11,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"taxiway\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t11,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t6\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"ferry\",\n\t\ttype: \"line\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"ferry\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(182, 182, 182)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t2,\n\t\t\t\t2\n\t\t\t],\n\t\t\t\"line-width\": 1.1\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_motorway_link_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(233, 160, 182)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t0.5,\n\t\t\t\t0.25\n\t\t\t],\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t3\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t15\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_service_track_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"service\",\n\t\t\t\t\"track\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(225, 225, 225)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t0.5,\n\t\t\t\t0.25\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t16,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t11\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_link_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t\"1\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(233, 160, 182)\",\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t3\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t15\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_street_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"street\",\n\t\t\t\t\"street_limited\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(225, 225, 225)\",\n\t\t\t\"line-opacity\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t12.5,\n\t\t\t\t\t\t1\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t15\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_secondary_tertiary_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"secondary\",\n\t\t\t\t\"tertiary\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(212, 212, 212)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t0.5,\n\t\t\t\t0.25\n\t\t\t],\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t8,\n\t\t\t\t\t\t1.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t17\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_trunk_primary_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"trunk\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(233, 160, 182)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t0.5,\n\t\t\t\t0.25\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0.4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t6,\n\t\t\t\t\t\t0.7\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1.75\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t22\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_motorway_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(233, 160, 182)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t0.5,\n\t\t\t\t0.25\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0.4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t6,\n\t\t\t\t\t\t0.7\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1.75\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t22\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_path_pedestrian\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"path\",\n\t\t\t\t\"pedestrian\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(216, 205, 206, 0.45)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t1,\n\t\t\t\t0.75\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t6\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_motorway_link\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway_link\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(251, 181, 195)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t1.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t2.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t11.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_service_track\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"service\",\n\t\t\t\t\"track\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t15.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t16,\n\t\t\t\t\t\t2\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t7.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_link\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t\"1\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(254, 240, 240)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t1.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t2.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t11.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_minor\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"minor\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t13.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t2.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t11.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_secondary_tertiary\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"secondary\",\n\t\t\t\t\"tertiary\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t6.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t8,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t13\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_trunk_primary\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"trunk\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(254, 240, 240)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t18\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_motorway\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(253, 209, 217)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t18\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_major_rail\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"rail\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(208, 208, 208)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.4,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t0.4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t0.75\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t2\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"tunnel_major_rail_hatching\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"rail\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(208, 208, 208)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t0.2,\n\t\t\t\t8\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.4,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t14.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t3\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t8\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_area_pier\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"Polygon\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"pier\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"fill-antialias\": true,\n\t\t\t\"fill-color\": \"rgb(252, 252, 252)\"\n\t\t}\n\t},\n\t{\n\t\tid: \"road_pier\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"pier\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(246, 241, 229, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t17,\n\t\t\t\t\t\t4\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_area_bridge\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"Polygon\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"fill-antialias\": true,\n\t\t\t\"fill-color\": \"rgba(255, 255, 255, 0.6)\"\n\t\t}\n\t},\n\t{\n\t\tid: \"road_area_pattern\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"Polygon\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!has\",\n\t\t\t\t\"brunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"pier\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"fill-color\": \"rgba(252, 252, 252, 1.0)\"\n\t\t}\n\t},\n\t{\n\t\tid: \"road_service_track_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"service\",\n\t\t\t\t\"track\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(225, 225, 225)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t16,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t11\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_link_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tminzoom: 13,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\",\n\t\t\t\t\"trunk\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"pedestrian\",\n\t\t\t\t\"path\",\n\t\t\t\t\"track\",\n\t\t\t\t\"service\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(233, 160, 182)\",\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t3\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t15\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_trunk_primary_link_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"trunk\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"butt\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(246, 241, 232, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t0.7\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t14\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_motorway_link_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tminzoom: 12,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"butt\",\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(246, 241, 232, 1)\",\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t3\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t15\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_minor_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"minor\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"ramp\",\n\t\t\t\t\"1\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(225, 225, 225)\",\n\t\t\t\"line-opacity\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t12.5,\n\t\t\t\t\t\t1\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t20\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_secondary_tertiary_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"secondary\",\n\t\t\t\t\"tertiary\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(212, 212, 212)\",\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t8,\n\t\t\t\t\t\t1.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t17\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_trunk_primary_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"trunk\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"butt\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(246, 241, 232, 1)\",\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0.4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t6,\n\t\t\t\t\t\t0.7\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1.75\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t22\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_motorway_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tminzoom: 5,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"butt\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(163, 213, 217, .)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0.4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t6,\n\t\t\t\t\t\t0.7\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1.75\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t22\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_path_pedestrian\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tminzoom: 14,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"path\",\n\t\t\t\t\"pedestrian\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(216, 205, 206, 0.45)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t1,\n\t\t\t\t1\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t6\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_link\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tminzoom: 13,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\",\n\t\t\t\t\"trunk\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"pedestrian\",\n\t\t\t\t\"path\",\n\t\t\t\t\"track\",\n\t\t\t\t\"service\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(246, 241, 232, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t1.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t2.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t11.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_trunk_primary_link\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"trunk\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(246, 241, 232, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t10\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_motorway_link\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tminzoom: 12,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(246, 241, 232, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t1.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t2.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t11.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_service_track\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"service\",\n\t\t\t\t\"track\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t15.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t16,\n\t\t\t\t\t\t2\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t7.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_minor\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"all\",\n\t\t\t\t[\n\t\t\t\t\t\"!in\",\n\t\t\t\t\t\"brunnel\",\n\t\t\t\t\t\"bridge\",\n\t\t\t\t\t\"tunnel\"\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"in\",\n\t\t\t\t\t\"class\",\n\t\t\t\t\t\"minor\"\n\t\t\t\t]\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t13.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t2.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t18\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_secondary_tertiary\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"secondary\",\n\t\t\t\t\"tertiary\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t6.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t8,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t13\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_trunk_primary\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"trunk\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(246, 241, 232, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t18\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_motorway\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tminzoom: 5,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t\"rgba(246, 241, 232, 1)\"\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t6,\n\t\t\t\t\t\t\"rgba(246, 241, 232, 1)\"\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t18\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_major_rail\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"rail\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(208, 208, 208)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.4,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t0.4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t0.75\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t2\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"road_major_rail_hatching\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\",\n\t\t\t\t\"tunnel\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"rail\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(208, 208, 208)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t0.2,\n\t\t\t\t8\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.4,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t14.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t3\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t8\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"building\",\n\t\ttype: \"fill\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"building\",\n\t\tminzoom: 13,\n\t\tmaxzoom: 14,\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"fill-color\": \"rgba(181, 181, 181, 0.3)\",\n\t\t\t\"fill-outline-color\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t\"rgba(198, 197, 197, 0.32)\"\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t\"rgb(198, 197, 197)\"\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"building-3d\",\n\t\ttype: \"fill-extrusion\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"building\",\n\t\tminzoom: 14,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!has\",\n\t\t\t\t\"hide_3d\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"fill-extrusion-base\": {\n\t\t\t\tproperty: \"render_min_height\",\n\t\t\t\ttype: \"identity\"\n\t\t\t},\n\t\t\t\"fill-extrusion-color\": \"rgb(181, 181, 181)\",\n\t\t\t\"fill-extrusion-height\": {\n\t\t\t\tproperty: \"render_height\",\n\t\t\t\ttype: \"identity\"\n\t\t\t},\n\t\t\t\"fill-extrusion-opacity\": 0.3\n\t\t}\n\t},\n\t{\n\t\tid: \"waterway-bridge-case\",\n\t\ttype: \"line\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"waterway\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"butt\",\n\t\t\t\"line-join\": \"miter\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(224, 224, 224)\",\n\t\t\t\"line-gap-width\": {\n\t\t\t\tbase: 1.3,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t6\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.6,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"waterway-bridge\",\n\t\ttype: \"line\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"waterway\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(223, 229, 235)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.3,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t6\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_motorway_link_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(223, 219, 202, 1)\",\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t3\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t15\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_service_track_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"service\",\n\t\t\t\t\"track\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(225, 225, 225)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t16,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t11\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_link_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"link\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(223, 219, 202, 1)\",\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t3\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t15\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_street_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"street\",\n\t\t\t\t\"street_limited\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(209, 209, 209)\",\n\t\t\t\"line-opacity\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t12.5,\n\t\t\t\t\t\t1\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t25\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_path_pedestrian_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"path\",\n\t\t\t\t\"pedestrian\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"miter\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(225, 225, 225)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t1,\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t1.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t18\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_secondary_tertiary_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"secondary\",\n\t\t\t\t\"tertiary\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(212, 212, 212)\",\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t8,\n\t\t\t\t\t\t1.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t17\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_trunk_primary_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"trunk\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(223, 219, 202, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0.4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t6,\n\t\t\t\t\t\t0.7\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1.75\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t22\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_motorway_casing\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(223, 219, 202, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0.4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t6,\n\t\t\t\t\t\t0.7\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1.75\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t22\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_path_pedestrian\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"path\",\n\t\t\t\t\"pedestrian\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t1,\n\t\t\t\t0.3\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t10\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_motorway_link\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(223, 219, 202, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t1.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t2.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t11.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_service_track\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"service\",\n\t\t\t\t\"track\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t15.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t16,\n\t\t\t\t\t\t2\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t7.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_link\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"link\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(223, 219, 202, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t1.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t2.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t11.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_street\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"minor\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-opacity\": 1,\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t13.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t2.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t18\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_secondary_tertiary\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"secondary\",\n\t\t\t\t\"tertiary\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t6.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t8,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t13\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_trunk_primary\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"trunk\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(223, 219, 202, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t18\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_motorway\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"ramp\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgba(223, 219, 202, 1)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t18\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_major_rail\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"rail\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(208, 208, 208)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.4,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t0.4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t0.75\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t2\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"bridge_major_rail_hatching\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"rail\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"brunnel\",\n\t\t\t\t\"bridge\"\n\t\t\t]\n\t\t],\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(208, 208, 208)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t0.2,\n\t\t\t\t8\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1.4,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t14.5,\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t3\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t20,\n\t\t\t\t\t\t8\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"cablecar\",\n\t\ttype: \"line\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tminzoom: 13,\n\t\tfilter: [\n\t\t\t\"==\",\n\t\t\t\"class\",\n\t\t\t\"cable_car\"\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(199, 199, 199)\",\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t11,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t19,\n\t\t\t\t\t\t2.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"cablecar-dash\",\n\t\ttype: \"line\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tminzoom: 13,\n\t\tfilter: [\n\t\t\t\"==\",\n\t\t\t\"class\",\n\t\t\t\"cable_car\"\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(199, 199, 199)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t2,\n\t\t\t\t3\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t11,\n\t\t\t\t\t\t3\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t19,\n\t\t\t\t\t\t5.5\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"boundary_3\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"boundary\",\n\t\tfilter: [\n\t\t\t\"match\",\n\t\t\t[\n\t\t\t\t\"get\",\n\t\t\t\t\"admin_level\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t3,\n\t\t\t\t4\n\t\t\t],\n\t\t\ttrue,\n\t\t\tfalse\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(197, 208, 216)\",\n\t\t\t\"line-dasharray\": [\n\t\t\t\t1,\n\t\t\t\t1\n\t\t\t],\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t4,\n\t\t\t\t\t\t0.4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t1.8\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"line-opacity\": 0.5\n\t\t}\n\t},\n\t{\n\t\tid: \"boundary_2\",\n\t\ttype: \"line\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"boundary\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"admin_level\",\n\t\t\t\t2\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"disputed\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(197, 208, 216)\",\n\t\t\t\"line-opacity\": {\n\t\t\t\tbase: 1,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t0.4\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t4,\n\t\t\t\t\t\t0.8\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"line-width\": {\n\t\t\t\tbase: 1,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t3,\n\t\t\t\t\t\t1\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t1.2\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t3\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"boundary_disputed_level_2\",\n\t\ttype: \"line\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"boundary\",\n\t\tminzoom: 0,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"<=\",\n\t\t\t\t\"admin_level\",\n\t\t\t\t2\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"disputed\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"line-cap\": \"round\",\n\t\t\t\"line-join\": \"round\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"line-color\": \"rgb(197, 208, 216)\",\n\t\t\t\"line-width\": 1,\n\t\t\t\"line-opacity\": 0.7,\n\t\t\t\"line-dasharray\": [\n\t\t\t\t6,\n\t\t\t\t6\n\t\t\t]\n\t\t}\n\t},\n\t{\n\t\tid: \"water_name_line\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"water_name\",\n\t\tminzoom: 0,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"symbol-placement\": \"line\",\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Regular\"\n\t\t\t],\n\t\t\t\"text-max-width\": 5,\n\t\t\t\"text-size\": 12\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgb(178, 178, 178)\",\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0.7)\",\n\t\t\t\"text-halo-width\": 1\n\t\t}\n\t},\n\t{\n\t\tid: \"water_name_point\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"water_name\",\n\t\tminzoom: 2,\n\t\tmaxzoom: 24,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"Point\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"class\",\n\t\t\t\t\"ocean\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Regular\"\n\t\t\t],\n\t\t\t\"text-max-width\": 5,\n\t\t\t\"text-size\": 12\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgba(159, 178, 195, 0.8)\",\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0)\",\n\t\t\t\"text-halo-width\": 1\n\t\t}\n\t},\n\t{\n\t\tid: \"water_ocean_name_point\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"water_name\",\n\t\tminzoom: 0,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"Point\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"ocean\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Regular\"\n\t\t\t],\n\t\t\t\"text-max-width\": 5,\n\t\t\t\"text-size\": 12\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgba(159, 178, 195, 0.6)\",\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0)\",\n\t\t\t\"text-halo-width\": 1\n\t\t}\n\t},\n\t{\n\t\tid: \"poi_z16_subclass\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"poi\",\n\t\tminzoom: 16,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"Point\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\">=\",\n\t\t\t\t\"rank\",\n\t\t\t\t20\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"any\",\n\t\t\t\t[\n\t\t\t\t\t\"all\",\n\t\t\t\t\t[\n\t\t\t\t\t\t\"in\",\n\t\t\t\t\t\t\"class\",\n\t\t\t\t\t\t\"pitch\"\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t\"in\",\n\t\t\t\t\t\t\"subclass\",\n\t\t\t\t\t\t\"soccer\",\n\t\t\t\t\t\t\"tennis\",\n\t\t\t\t\t\t\"baseball\",\n\t\t\t\t\t\t\"basketball\",\n\t\t\t\t\t\t\"swimming\",\n\t\t\t\t\t\t\"golf\"\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"any\",\n\t\t\t\t[\n\t\t\t\t\t\"!has\",\n\t\t\t\t\t\"level\"\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"==\",\n\t\t\t\t\t\"level\",\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-anchor\": \"top\",\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Italic\"\n\t\t\t],\n\t\t\t\"text-max-width\": 9,\n\t\t\t\"text-offset\": [\n\t\t\t\t0,\n\t\t\t\t0.6\n\t\t\t],\n\t\t\t\"text-padding\": 2,\n\t\t\t\"text-size\": 12,\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"#666\",\n\t\t\t\"text-halo-blur\": 0.5,\n\t\t\t\"text-halo-color\": \"#ffffff\",\n\t\t\t\"text-halo-width\": 1\n\t\t}\n\t},\n\t{\n\t\tid: \"poi_z16\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"poi\",\n\t\tminzoom: 16,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"Point\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\">=\",\n\t\t\t\t\"rank\",\n\t\t\t\t20\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"none\",\n\t\t\t\t[\n\t\t\t\t\t\"all\",\n\t\t\t\t\t[\n\t\t\t\t\t\t\"in\",\n\t\t\t\t\t\t\"class\",\n\t\t\t\t\t\t\"pitch\"\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t\"in\",\n\t\t\t\t\t\t\"subclass\",\n\t\t\t\t\t\t\"soccer\",\n\t\t\t\t\t\t\"tennis\",\n\t\t\t\t\t\t\"baseball\",\n\t\t\t\t\t\t\"basketball\",\n\t\t\t\t\t\t\"swimming\",\n\t\t\t\t\t\t\"golf\"\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"any\",\n\t\t\t\t[\n\t\t\t\t\t\"!has\",\n\t\t\t\t\t\"level\"\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"==\",\n\t\t\t\t\t\"level\",\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-anchor\": \"top\",\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Italic\"\n\t\t\t],\n\t\t\t\"text-max-width\": 9,\n\t\t\t\"text-offset\": [\n\t\t\t\t0,\n\t\t\t\t0.6\n\t\t\t],\n\t\t\t\"text-padding\": 2,\n\t\t\t\"text-size\": 12,\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgb(216, 220, 223)\",\n\t\t\t\"text-halo-blur\": 0.5,\n\t\t\t\"text-halo-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"text-halo-width\": 1\n\t\t}\n\t},\n\t{\n\t\tid: \"poi_z15\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"poi\",\n\t\tminzoom: 15,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"Point\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\">=\",\n\t\t\t\t\"rank\",\n\t\t\t\t7\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"<\",\n\t\t\t\t\"rank\",\n\t\t\t\t20\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"any\",\n\t\t\t\t[\n\t\t\t\t\t\"!has\",\n\t\t\t\t\t\"level\"\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"==\",\n\t\t\t\t\t\"level\",\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-anchor\": \"top\",\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Italic\"\n\t\t\t],\n\t\t\t\"text-max-width\": 9,\n\t\t\t\"text-offset\": [\n\t\t\t\t0,\n\t\t\t\t0.6\n\t\t\t],\n\t\t\t\"text-padding\": 2,\n\t\t\t\"text-size\": 12,\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgb(216, 220, 223)\",\n\t\t\t\"text-halo-blur\": 0.5,\n\t\t\t\"text-halo-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"text-halo-width\": 1\n\t\t}\n\t},\n\t{\n\t\tid: \"poi_z14\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"poi\",\n\t\tminzoom: 14.2,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"Point\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"any\",\n\t\t\t\t[\n\t\t\t\t\t\"<\",\n\t\t\t\t\t\"rank\",\n\t\t\t\t\t7\n\t\t\t\t]\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"any\",\n\t\t\t\t[\n\t\t\t\t\t\"!has\",\n\t\t\t\t\t\"level\"\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"==\",\n\t\t\t\t\t\"level\",\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"icon-size\": 0.9,\n\t\t\t\"text-anchor\": \"top\",\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Italic\"\n\t\t\t],\n\t\t\t\"text-max-width\": 9,\n\t\t\t\"text-offset\": [\n\t\t\t\t0,\n\t\t\t\t0.6\n\t\t\t],\n\t\t\t\"text-padding\": 2,\n\t\t\t\"text-size\": 12,\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgb(216, 220, 223)\",\n\t\t\t\"text-halo-blur\": 0.5,\n\t\t\t\"text-halo-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"text-halo-width\": 1\n\t\t}\n\t},\n\t{\n\t\tid: \"poi_transit\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"poi\",\n\t\tminzoom: 15,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"bus\",\n\t\t\t\t\"railway\",\n\t\t\t\t\"airport\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"subclass\",\n\t\t\t\t\"station\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"icon-size\": 0.9,\n\t\t\t\"text-anchor\": \"left\",\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Italic\"\n\t\t\t],\n\t\t\t\"text-max-width\": 9,\n\t\t\t\"text-offset\": [\n\t\t\t\t0.9,\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"text-padding\": 2,\n\t\t\t\"text-size\": 12,\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgb(216, 220, 223)\",\n\t\t\t\"text-halo-blur\": 0.5,\n\t\t\t\"text-halo-color\": \"rgb(255, 255, 255)\",\n\t\t\t\"text-halo-width\": 1\n\t\t}\n\t},\n\t{\n\t\tid: \"road_oneway\",\n\t\ttype: \"symbol\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tminzoom: 15,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"oneway\",\n\t\t\t\t1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\",\n\t\t\t\t\"trunk\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"secondary\",\n\t\t\t\t\"tertiary\",\n\t\t\t\t\"minor\",\n\t\t\t\t\"service\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"icon-padding\": 2,\n\t\t\t\"icon-rotate\": 90,\n\t\t\t\"icon-rotation-alignment\": \"map\",\n\t\t\t\"icon-size\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t19,\n\t\t\t\t\t\t1\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"symbol-placement\": \"line\",\n\t\t\t\"symbol-spacing\": 75\n\t\t},\n\t\tpaint: {\n\t\t\t\"icon-opacity\": 0.5\n\t\t}\n\t},\n\t{\n\t\tid: \"road_oneway_opposite\",\n\t\ttype: \"symbol\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation\",\n\t\tminzoom: 15,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"oneway\",\n\t\t\t\t-1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"motorway\",\n\t\t\t\t\"trunk\",\n\t\t\t\t\"primary\",\n\t\t\t\t\"secondary\",\n\t\t\t\t\"tertiary\",\n\t\t\t\t\"minor\",\n\t\t\t\t\"service\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"icon-padding\": 2,\n\t\t\t\"icon-rotate\": -90,\n\t\t\t\"icon-rotation-alignment\": \"map\",\n\t\t\t\"icon-size\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t0.5\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t19,\n\t\t\t\t\t\t1\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"symbol-placement\": \"line\",\n\t\t\t\"symbol-spacing\": 75\n\t\t},\n\t\tpaint: {\n\t\t\t\"icon-opacity\": 0.5\n\t\t}\n\t},\n\t{\n\t\tid: \"road_label\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation_name\",\n\t\tfilter: [\n\t\t\t\"all\"\n\t\t],\n\t\tlayout: {\n\t\t\t\"symbol-placement\": \"line\",\n\t\t\t\"text-anchor\": \"center\",\n\t\t\t\"text-field\": \"{name_en} \",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Regular\"\n\t\t\t],\n\t\t\t\"text-offset\": [\n\t\t\t\t0,\n\t\t\t\t0.15\n\t\t\t],\n\t\t\t\"text-size\": {\n\t\t\t\tbase: 1,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t13,\n\t\t\t\t\t\t12\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t14,\n\t\t\t\t\t\t13\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgba(161, 169, 176, 1)\",\n\t\t\t\"text-halo-blur\": 0.5,\n\t\t\t\"text-halo-width\": 1\n\t\t}\n\t},\n\t{\n\t\tid: \"highway-shield\",\n\t\ttype: \"symbol\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation_name\",\n\t\tminzoom: 8,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"<=\",\n\t\t\t\t\"ref_length\",\n\t\t\t\t6\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!in\",\n\t\t\t\t\"network\",\n\t\t\t\t\"us-interstate\",\n\t\t\t\t\"us-highway\",\n\t\t\t\t\"us-state\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"icon-rotation-alignment\": \"viewport\",\n\t\t\t\"icon-size\": 1,\n\t\t\t\"symbol-avoid-edges\": true,\n\t\t\t\"symbol-placement\": {\n\t\t\t\tbase: 1,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t10,\n\t\t\t\t\t\t\"point\"\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t11,\n\t\t\t\t\t\t\"line\"\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"symbol-spacing\": 200,\n\t\t\t\"text-field\": \"{ref}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Regular\"\n\t\t\t],\n\t\t\t\"text-rotation-alignment\": \"viewport\",\n\t\t\t\"text-size\": 10,\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"icon-color\": \"rgba(161, 169, 176, 1)\",\n\t\t\t\"text-color\": \"rgba(161, 169, 176, 1)\"\n\t\t}\n\t},\n\t{\n\t\tid: \"highway-shield-us-interstate\",\n\t\ttype: \"symbol\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation_name\",\n\t\tminzoom: 7,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"<=\",\n\t\t\t\t\"ref_length\",\n\t\t\t\t6\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"network\",\n\t\t\t\t\"us-interstate\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"icon-rotation-alignment\": \"viewport\",\n\t\t\t\"icon-size\": 1,\n\t\t\t\"symbol-avoid-edges\": true,\n\t\t\t\"symbol-placement\": {\n\t\t\t\tbase: 1,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t\"point\"\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t\"line\"\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t8,\n\t\t\t\t\t\t\"line\"\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"symbol-spacing\": 200,\n\t\t\t\"text-field\": \"{ref}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Regular\"\n\t\t\t],\n\t\t\t\"text-rotation-alignment\": \"viewport\",\n\t\t\t\"text-size\": 9,\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgb(255, 255, 255)\"\n\t\t}\n\t},\n\t{\n\t\tid: \"highway-shield-us-other\",\n\t\ttype: \"symbol\",\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"transportation_name\",\n\t\tminzoom: 9,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"<=\",\n\t\t\t\t\"ref_length\",\n\t\t\t\t6\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"$type\",\n\t\t\t\t\"LineString\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"network\",\n\t\t\t\t\"us-highway\",\n\t\t\t\t\"us-state\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"icon-rotation-alignment\": \"viewport\",\n\t\t\t\"icon-size\": 1,\n\t\t\t\"symbol-avoid-edges\": true,\n\t\t\t\"symbol-placement\": {\n\t\t\t\tbase: 1,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t10,\n\t\t\t\t\t\t\"point\"\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t11,\n\t\t\t\t\t\t\"line\"\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"symbol-spacing\": 200,\n\t\t\t\"text-field\": \"{ref}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Regular\"\n\t\t\t],\n\t\t\t\"text-rotation-alignment\": \"viewport\",\n\t\t\t\"text-size\": 9,\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgb(57, 57, 57)\"\n\t\t}\n\t},\n\t{\n\t\tid: \"place_other\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"place\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"in\",\n\t\t\t\t\"class\",\n\t\t\t\t\"hamlet\",\n\t\t\t\t\"island\",\n\t\t\t\t\"islet\",\n\t\t\t\t\"neighbourhood\",\n\t\t\t\t\"suburb\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Italic\"\n\t\t\t],\n\t\t\t\"text-letter-spacing\": 0.1,\n\t\t\t\"text-max-width\": 9,\n\t\t\t\"text-size\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t12,\n\t\t\t\t\t\t10\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t14\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"text-transform\": \"uppercase\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgb(173, 182, 190)\",\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0.6)\",\n\t\t\t\"text-halo-width\": 1.2\n\t\t}\n\t},\n\t{\n\t\tid: \"place_village\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"place\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"village\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Regular\"\n\t\t\t],\n\t\t\t\"text-max-width\": 8,\n\t\t\t\"text-size\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t10,\n\t\t\t\t\t\t12\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t15,\n\t\t\t\t\t\t22\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\tvisibility: \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgb(161, 169, 176)\",\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0.6)\",\n\t\t\t\"text-halo-width\": 1.2\n\t\t}\n\t},\n\t{\n\t\tid: \"place_town\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"place\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"town\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-anchor\": \"bottom\",\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Regular\"\n\t\t\t],\n\t\t\t\"text-max-width\": 8,\n\t\t\t\"text-offset\": [\n\t\t\t\t0,\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"text-size\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t12\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t11,\n\t\t\t\t\t\t16\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgba(161, 169, 176, 0.8)\",\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0.6)\",\n\t\t\t\"text-halo-width\": 1.2\n\t\t}\n\t},\n\t{\n\t\tid: \"place_city\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"place\",\n\t\tminzoom: 5,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"city\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"icon-allow-overlap\": true,\n\t\t\t\"icon-optional\": false,\n\t\t\t\"text-anchor\": \"bottom\",\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Semibold\"\n\t\t\t],\n\t\t\t\"text-max-width\": 8,\n\t\t\t\"text-offset\": [\n\t\t\t\t0,\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"text-size\": {\n\t\t\t\tbase: 1.2,\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t14\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t11,\n\t\t\t\t\t\t24\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgba(161, 169, 176, 0.8)\",\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0.6)\",\n\t\t\t\"text-halo-width\": 1.2\n\t\t}\n\t},\n\t{\n\t\tid: \"country_other\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"place\",\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"country\"\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"!has\",\n\t\t\t\t\"iso_a2\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Italic\"\n\t\t\t],\n\t\t\t\"text-max-width\": 6.25,\n\t\t\t\"text-size\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t3,\n\t\t\t\t\t\t9\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t15\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"text-transform\": \"none\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgba(159, 178, 195, 0.55)\",\n\t\t\t\"text-halo-blur\": 1,\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0.6)\",\n\t\t\t\"text-halo-width\": 0.8\n\t\t}\n\t},\n\t{\n\t\tid: \"country_3\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"place\",\n\t\tminzoom: 2,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\">=\",\n\t\t\t\t\"rank\",\n\t\t\t\t3\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"country\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Italic\"\n\t\t\t],\n\t\t\t\"text-max-width\": 6.25,\n\t\t\t\"text-size\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t3,\n\t\t\t\t\t\t11\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t7,\n\t\t\t\t\t\t17\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"text-transform\": \"none\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgba(159, 178, 195, 0.55)\",\n\t\t\t\"text-halo-blur\": 1,\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0.6)\",\n\t\t\t\"text-halo-width\": 0.8\n\t\t}\n\t},\n\t{\n\t\tid: \"country_2\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"place\",\n\t\tminzoom: 2,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"rank\",\n\t\t\t\t2\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"country\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Italic\"\n\t\t\t],\n\t\t\t\"text-max-width\": 6.25,\n\t\t\t\"text-size\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t2,\n\t\t\t\t\t\t11\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t17\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"text-transform\": \"none\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgba(159, 178, 195, 0.55)\",\n\t\t\t\"text-halo-blur\": 1,\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0.6)\",\n\t\t\t\"text-halo-width\": 0.8\n\t\t}\n\t},\n\t{\n\t\tid: \"country_1\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"place\",\n\t\tminzoom: 2,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"rank\",\n\t\t\t\t1\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"country\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Italic\"\n\t\t\t],\n\t\t\t\"text-max-width\": 6.25,\n\t\t\t\"text-size\": {\n\t\t\t\tstops: [\n\t\t\t\t\t[\n\t\t\t\t\t\t1,\n\t\t\t\t\t\t11\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t4,\n\t\t\t\t\t\t17\n\t\t\t\t\t]\n\t\t\t\t]\n\t\t\t},\n\t\t\t\"text-transform\": \"none\",\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgba(159, 178, 195, 0.55)\",\n\t\t\t\"text-halo-blur\": 1,\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0.6)\",\n\t\t\t\"text-halo-width\": 0.8\n\t\t}\n\t},\n\t{\n\t\tid: \"continent\",\n\t\ttype: \"symbol\",\n\t\tmetadata: {\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"place\",\n\t\tmaxzoom: 1,\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"==\",\n\t\t\t\t\"class\",\n\t\t\t\t\"continent\"\n\t\t\t]\n\t\t],\n\t\tlayout: {\n\t\t\t\"text-field\": \"{name_en}\",\n\t\t\t\"text-font\": [\n\t\t\t\t\"Open Sans Italic\"\n\t\t\t],\n\t\t\t\"text-justify\": \"center\",\n\t\t\t\"text-size\": 13,\n\t\t\t\"text-transform\": \"uppercase\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"text-color\": \"rgb(168, 196, 220)\",\n\t\t\t\"text-halo-color\": \"rgba(255, 255, 255, 0.6)\",\n\t\t\t\"text-halo-width\": 1\n\t\t}\n\t}\n];\nvar version = 8;\nvar mapLibreBaseSettings = {\n\tbearing: bearing,\n\tname: name,\n\towner: owner,\n\tglyphs: glyphs,\n\tsources: sources,\n\tlayers: layers,\n\tversion: version\n};\n\nexport { bearing, mapLibreBaseSettings as default, glyphs, layers, name, owner, sources, version };\n\n", "var layers = [\n\t{\n\t\tid: \"background\",\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"background-color\": \"#5C627A\"\n\t\t},\n\t\ttype: \"background\"\n\t},\n\t{\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"intermittent\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tid: \"water\",\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tmetadata: {\n\t\t},\n\t\tpaint: {\n\t\t\t\"fill-color\": \"#2A2D39\"\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"water\",\n\t\ttype: \"fill\"\n\t}\n];\nvar mapLibreDarkTheme = {\n\tlayers: layers\n};\n\nexport { mapLibreDarkTheme as default, layers };\n\n", "var layers = [\n\t{\n\t\tid: \"background\",\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tpaint: {\n\t\t\t\"background-color\": \"rgba(255, 255, 255, 1)\"\n\t\t},\n\t\ttype: \"background\"\n\t},\n\t{\n\t\tfilter: [\n\t\t\t\"all\",\n\t\t\t[\n\t\t\t\t\"!=\",\n\t\t\t\t\"intermittent\",\n\t\t\t\t1\n\t\t\t]\n\t\t],\n\t\tid: \"water\",\n\t\tlayout: {\n\t\t\tvisibility: \"visible\"\n\t\t},\n\t\tmetadata: {\n\t\t},\n\t\tpaint: {\n\t\t\t\"fill-color\": \"rgb(223, 229, 235)\"\n\t\t},\n\t\tsource: \"openmaptiles\",\n\t\t\"source-layer\": \"water\",\n\t\ttype: \"fill\"\n\t}\n];\nvar mapLibreLightTheme = {\n\tlayers: layers\n};\n\nexport { mapLibreLightTheme as default, layers };\n\n", "import mapLibreBaseSettings from './mapboxgl/mapboxgl-settings.json.js';\nimport mapLibreDarkTheme from './mapboxgl/mapboxgl-dark-theme.json.js';\nimport mapLibreLightTheme from './mapboxgl/mapboxgl-light-theme.json.js';\n\nconst MapLibreArcticDark = Object.assign(Object.assign({}, mapLibreBaseSettings), { layers: [\r\n        ...mapLibreDarkTheme.layers,\r\n        ...mapLibreBaseSettings.layers,\r\n    ] });\r\nconst MapLibreArcticLight = Object.assign(Object.assign({}, mapLibreBaseSettings), { layers: [\r\n        ...mapLibreLightTheme.layers,\r\n        ...mapLibreBaseSettings.layers,\r\n    ] });\n\nexport { MapLibreArcticDark, MapLibreArcticLight };\n\n", "var GraphLayoutType;\r\n(function (GraphLayoutType) {\r\n    GraphLayoutType[\"Circular\"] = \"circular\";\r\n    GraphLayoutType[\"Concentric\"] = \"concentric\";\r\n    GraphLayoutType[\"Parallel\"] = \"parallel\";\r\n    GraphLayoutType[\"ParallelHorizontal\"] = \"parallel horizontal\";\r\n    GraphLayoutType[\"Dagre\"] = \"dagre\";\r\n    GraphLayoutType[\"Force\"] = \"force\";\r\n    GraphLayoutType[\"Elk\"] = \"elk\";\r\n    GraphLayoutType[\"Precalculated\"] = \"precalculated\";\r\n})(GraphLayoutType || (GraphLayoutType = {}));\r\nvar GraphLinkStyle;\r\n(function (GraphLinkStyle) {\r\n    GraphLinkStyle[\"Dashed\"] = \"dashed\";\r\n    GraphLinkStyle[\"Solid\"] = \"solid\";\r\n})(GraphLinkStyle || (GraphLinkStyle = {}));\r\nvar GraphLinkArrowStyle;\r\n(function (GraphLinkArrowStyle) {\r\n    GraphLinkArrowStyle[\"Single\"] = \"single\";\r\n    GraphLinkArrowStyle[\"Double\"] = \"double\";\r\n})(GraphLinkArrowStyle || (GraphLinkArrowStyle = {}));\r\nvar GraphNodeShape;\r\n(function (GraphNodeShape) {\r\n    GraphNodeShape[\"Circle\"] = \"circle\";\r\n    GraphNodeShape[\"Square\"] = \"square\";\r\n    GraphNodeShape[\"Hexagon\"] = \"hexagon\";\r\n    GraphNodeShape[\"Triangle\"] = \"triangle\";\r\n})(GraphNodeShape || (GraphNodeShape = {}));\r\nvar GraphNodeSelectionHighlightMode;\r\n(function (GraphNodeSelectionHighlightMode) {\r\n    GraphNodeSelectionHighlightMode[\"None\"] = \"none\";\r\n    GraphNodeSelectionHighlightMode[\"Greyout\"] = \"greyout\";\r\n    GraphNodeSelectionHighlightMode[\"GreyoutNonConnected\"] = \"greyout-non-connected\";\r\n})(GraphNodeSelectionHighlightMode || (GraphNodeSelectionHighlightMode = {}));\r\nvar GraphFitViewAlignment;\r\n(function (GraphFitViewAlignment) {\r\n    GraphFitViewAlignment[\"Center\"] = \"center\";\r\n    GraphFitViewAlignment[\"Top\"] = \"top\";\r\n    GraphFitViewAlignment[\"Bottom\"] = \"bottom\";\r\n    GraphFitViewAlignment[\"Left\"] = \"left\";\r\n    GraphFitViewAlignment[\"Right\"] = \"right\";\r\n})(GraphFitViewAlignment || (GraphFitViewAlignment = {}));\n\nexport { GraphFitViewAlignment, GraphLayoutType, GraphLinkArrowStyle, GraphLinkStyle, GraphNodeSelectionHighlightMode, GraphNodeShape };\n\n", "export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n", "export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n", "import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n", "var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n", "var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n", "export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n", "export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n", "export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n", "export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n", "import {min} from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth\n      : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1\n      : 0;\n}\n", "export default function constant(x) {\n  return function() {\n    return x;\n  };\n}\n", "import {max, min, sum} from \"d3-array\";\nimport {justify} from \"./align.js\";\nimport constant from \"./constant.js\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nfunction computeLinkBreadths({nodes}) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport default function Sankey() {\n  let x0 = 0, y0 = 0, x1 = 1, y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8, py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey() {\n    const graph = {nodes: nodes.apply(null, arguments), links: links.apply(null, arguments)};\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function(graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function(_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function(_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeSort = function(_) {\n    return arguments.length ? (sort = _, sankey) : sort;\n  };\n\n  sankey.nodeWidth = function(_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function(_) {\n    return arguments.length ? (dy = py = +_, sankey) : dy;\n  };\n\n  sankey.nodes = function(_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function(_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.linkSort = function(_) {\n    return arguments.length ? (linkSort = _, sankey) : linkSort;\n  };\n\n  sankey.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function(_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  function computeNodeLinks({nodes, links}) {\n    for (const [i, node] of nodes.entries()) {\n      node.index = i;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    }\n    const nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d]));\n    for (const [i, link] of links.entries()) {\n      link.index = i;\n      let {source, target} = link;\n      if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n      if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    }\n    if (linkSort != null) {\n      for (const {sourceLinks, targetLinks} of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({nodes}) {\n    for (const node of nodes) {\n      node.value = node.fixedValue === undefined\n          ? Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({nodes}) {\n    const n = nodes.length;\n    let current = new Set(nodes);\n    let next = new Set;\n    let x = 0;\n    while (current.size) {\n      for (const node of current) {\n        node.depth = x;\n        for (const {target} of node.sourceLinks) {\n          next.add(target);\n        }\n      }\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set;\n    }\n  }\n\n  function computeNodeHeights({nodes}) {\n    const n = nodes.length;\n    let current = new Set(nodes);\n    let next = new Set;\n    let x = 0;\n    while (current.size) {\n      for (const node of current) {\n        node.height = x;\n        for (const {source} of node.targetLinks) {\n          next.add(source);\n        }\n      }\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set;\n    }\n  }\n\n  function computeNodeLayers({nodes}) {\n    const x = max(nodes, d => d.depth) + 1;\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort) for (const column of columns) {\n      column.sort(sort);\n    }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = min(columns, c => (y1 - y0 - (c.length - 1) * py) / sum(c, value));\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / (max(columns, c => c.length) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const {source, value} of target.targetLinks) {\n          let v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        let dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const {target, value} of source.sourceLinks) {\n          let v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        let dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) node.y0 += dy, node.y1 += dy;\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) node.y0 -= dy, node.y1 -= dy;\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({sourceLinks, targetLinks}) {\n    if (linkSort === undefined) {\n      for (const {source: {sourceLinks}} of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {target: {targetLinks}} of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const {sourceLinks, targetLinks} of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - (source.sourceLinks.length - 1) * py / 2;\n    for (const {target: node, width} of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const {source: node, width} of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - (target.targetLinks.length - 1) * py / 2;\n    for (const {source: node, width} of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const {target: node, width} of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n", "import { sankeyLeft, sankeyRight, sankeyCenter, sankeyJustify } from 'd3-sankey';\n\n/* eslint-disable no-use-before-define */\r\nvar SankeySubLabelPlacement;\r\n(function (SankeySubLabelPlacement) {\r\n    SankeySubLabelPlacement[\"Inline\"] = \"inline\";\r\n    SankeySubLabelPlacement[\"Below\"] = \"below\";\r\n})(SankeySubLabelPlacement || (SankeySubLabelPlacement = {}));\r\nvar SankeyNodeAlign;\r\n(function (SankeyNodeAlign) {\r\n    SankeyNodeAlign[\"Left\"] = \"left\";\r\n    SankeyNodeAlign[\"Right\"] = \"right\";\r\n    SankeyNodeAlign[\"Center\"] = \"center\";\r\n    SankeyNodeAlign[\"Justify\"] = \"justify\";\r\n})(SankeyNodeAlign || (SankeyNodeAlign = {}));\r\nconst SankeyLayout = {\r\n    [SankeyNodeAlign.Left]: sankeyLeft,\r\n    [SankeyNodeAlign.Right]: sankeyRight,\r\n    [SankeyNodeAlign.Center]: sankeyCenter,\r\n    [SankeyNodeAlign.Justify]: sankeyJustify,\r\n};\r\nvar SankeyExitTransitionType;\r\n(function (SankeyExitTransitionType) {\r\n    SankeyExitTransitionType[\"Default\"] = \"default\";\r\n    SankeyExitTransitionType[\"ToAncestor\"] = \"to ancestor\";\r\n})(SankeyExitTransitionType || (SankeyExitTransitionType = {}));\r\nvar SankeyEnterTransitionType;\r\n(function (SankeyEnterTransitionType) {\r\n    SankeyEnterTransitionType[\"Default\"] = \"default\";\r\n    SankeyEnterTransitionType[\"FromAncestor\"] = \"from ancestor\";\r\n})(SankeyEnterTransitionType || (SankeyEnterTransitionType = {}));\n\nexport { SankeyEnterTransitionType, SankeyExitTransitionType, SankeyLayout, SankeyNodeAlign, SankeySubLabelPlacement };\n\n", "var VisControlsOrientation;\r\n(function (VisControlsOrientation) {\r\n    VisControlsOrientation[\"Horizontal\"] = \"horizontal\";\r\n    VisControlsOrientation[\"Vertical\"] = \"vertical\";\r\n})(VisControlsOrientation || (VisControlsOrientation = {}));\n\nexport { VisControlsOrientation };\n\n", "var FreeBrushMode;\r\n(function (FreeBrushMode) {\r\n    FreeBrushMode[\"X\"] = \"x\";\r\n    FreeBrushMode[\"Y\"] = \"y\";\r\n    FreeBrushMode[\"XY\"] = \"xy\";\r\n})(FreeBrushMode || (FreeBrushMode = {}));\n\nexport { FreeBrushMode };\n\n", "var XYLabelPositioning;\r\n(function (XYLabelPositioning) {\r\n    XYLabelPositioning[\"AbsolutePx\"] = \"absolute_px\";\r\n    XYLabelPositioning[\"AbsolutePercentage\"] = \"absolute_percentage\";\r\n    XYLabelPositioning[\"DataSpace\"] = \"data_space\";\r\n})(XYLabelPositioning || (XYLabelPositioning = {}));\n\nexport { XYLabelPositioning };\n\n", "var NestedDonutDirection;\r\n(function (NestedDonutDirection) {\r\n    NestedDonutDirection[\"Inwards\"] = \"inwards\";\r\n    NestedDonutDirection[\"Outwards\"] = \"outwards\";\r\n})(NestedDonutDirection || (NestedDonutDirection = {}));\r\nvar NestedDonutSegmentLabelAlignment;\r\n(function (NestedDonutSegmentLabelAlignment) {\r\n    NestedDonutSegmentLabelAlignment[\"Along\"] = \"along\";\r\n    NestedDonutSegmentLabelAlignment[\"Perpendicular\"] = \"perpendicular\";\r\n    NestedDonutSegmentLabelAlignment[\"Straight\"] = \"straight\";\r\n})(NestedDonutSegmentLabelAlignment || (NestedDonutSegmentLabelAlignment = {}));\n\nexport { NestedDonutDirection, NestedDonutSegmentLabelAlignment };\n\n", "var PlotlineLineStylePresets;\r\n(function (PlotlineLineStylePresets) {\r\n    PlotlineLineStylePresets[\"Solid\"] = \"solid\";\r\n    PlotlineLineStylePresets[\"Dash\"] = \"dash\";\r\n    PlotlineLineStylePresets[\"DashDot\"] = \"dashDot\";\r\n    PlotlineLineStylePresets[\"Dot\"] = \"dot\";\r\n    PlotlineLineStylePresets[\"LongDash\"] = \"longDash\";\r\n    PlotlineLineStylePresets[\"LongDashDot\"] = \"longDashDot\";\r\n    PlotlineLineStylePresets[\"LongDashDotDot\"] = \"longDashDotDot\";\r\n    PlotlineLineStylePresets[\"ShortDash\"] = \"shortDash\";\r\n    PlotlineLineStylePresets[\"ShortDashDot\"] = \"shortDashDot\";\r\n    PlotlineLineStylePresets[\"ShortDashDotDot\"] = \"shortDashDotDot\";\r\n    PlotlineLineStylePresets[\"ShortDot\"] = \"shortDot\";\r\n})(PlotlineLineStylePresets || (PlotlineLineStylePresets = {}));\r\nvar PlotlineLabelPosition;\r\n(function (PlotlineLabelPosition) {\r\n    PlotlineLabelPosition[\"TopLeft\"] = \"top-left\";\r\n    PlotlineLabelPosition[\"Top\"] = \"top\";\r\n    PlotlineLabelPosition[\"TopRight\"] = \"top-right\";\r\n    PlotlineLabelPosition[\"Right\"] = \"right\";\r\n    PlotlineLabelPosition[\"BottomRight\"] = \"bottom-right\";\r\n    PlotlineLabelPosition[\"Bottom\"] = \"bottom\";\r\n    PlotlineLabelPosition[\"BottomLeft\"] = \"bottom-left\";\r\n    PlotlineLabelPosition[\"Left\"] = \"left\";\r\n})(PlotlineLabelPosition || (PlotlineLabelPosition = {}));\r\nvar PlotlineLabelOrientation;\r\n(function (PlotlineLabelOrientation) {\r\n    PlotlineLabelOrientation[\"Horizontal\"] = \"horizontal\";\r\n    PlotlineLabelOrientation[\"Vertical\"] = \"vertical\";\r\n})(PlotlineLabelOrientation || (PlotlineLabelOrientation = {}));\n\nexport { PlotlineLabelOrientation, PlotlineLabelPosition, PlotlineLineStylePresets };\n\n", "var PlotbandLabelPosition;\r\n(function (PlotbandLabelPosition) {\r\n    PlotbandLabelPosition[\"TopLeftInside\"] = \"top-left-inside\";\r\n    PlotbandLabelPosition[\"TopLeftOutside\"] = \"top-left-outside\";\r\n    PlotbandLabelPosition[\"TopInside\"] = \"top-inside\";\r\n    PlotbandLabelPosition[\"TopOutside\"] = \"top-outside\";\r\n    PlotbandLabelPosition[\"TopRightInside\"] = \"top-right-inside\";\r\n    PlotbandLabelPosition[\"TopRightOutside\"] = \"top-right-outside\";\r\n    PlotbandLabelPosition[\"RightInside\"] = \"right-inside\";\r\n    PlotbandLabelPosition[\"RightOutside\"] = \"right-outside\";\r\n    PlotbandLabelPosition[\"BottomRightInside\"] = \"bottom-right-inside\";\r\n    PlotbandLabelPosition[\"BottomRightOutside\"] = \"bottom-right-outside\";\r\n    PlotbandLabelPosition[\"BottomInside\"] = \"bottom-inside\";\r\n    PlotbandLabelPosition[\"BottomOutside\"] = \"bottom-outside\";\r\n    PlotbandLabelPosition[\"BottomLeftInside\"] = \"bottom-left-inside\";\r\n    PlotbandLabelPosition[\"BottomLeftOutside\"] = \"bottom-left-outside\";\r\n    PlotbandLabelPosition[\"LeftInside\"] = \"left-inside\";\r\n    PlotbandLabelPosition[\"LeftOutside\"] = \"left-outside\";\r\n})(PlotbandLabelPosition || (PlotbandLabelPosition = {}));\r\nvar PlotbandLabelOrientation;\r\n(function (PlotbandLabelOrientation) {\r\n    PlotbandLabelOrientation[\"Horizontal\"] = \"horizontal\";\r\n    PlotbandLabelOrientation[\"Vertical\"] = \"vertical\";\r\n})(PlotbandLabelOrientation || (PlotbandLabelOrientation = {}));\n\nexport { PlotbandLabelOrientation, PlotbandLabelPosition };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { TextAlign } from '../../types/text.js';\nimport { Arrangement } from '../../types/position.js';\n\nconst TimelineDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { id: undefined, \r\n    // Items (Lines)\r\n    cursor: undefined, type: (d) => d.type, length: (d) => d.length, color: (d) => d.color, lineRow: undefined, lineDuration: undefined, lineWidth: 8, lineCap: false, lineCursor: undefined, showEmptySegments: false, showEmptySegmentsCorrectPosition: true, lineStartIcon: undefined, lineStartIconColor: undefined, lineStartIconSize: undefined, lineStartIconArrangement: Arrangement.Inside, lineEndIcon: undefined, lineEndIconColor: undefined, lineEndIconSize: undefined, lineEndIconArrangement: Arrangement.Inside, \r\n    // Rows\r\n    rowHeight: 22, alternatingRowColors: true, \r\n    // Row Labels\r\n    showLabels: false, labelWidth: undefined, maxLabelWidth: 120, showRowLabels: undefined, rowLabelFormatter: undefined, rowIcon: undefined, rowLabelStyle: undefined, rowLabelWidth: undefined, rowMaxLabelWidth: undefined, rowLabelTextAlign: TextAlign.Right, \r\n    // Arrows\r\n    arrows: undefined, \r\n    // Animation\r\n    animationLineEnterPosition: undefined, \r\n    // Callbacks\r\n    onScroll: undefined });\n\nexport { TimelineDefaultConfig };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst root = css `\n  label: timeline-component;\n`;\r\nconst globalStyles = injectGlobal `\n  :root {\n    --vis-timeline-row-even-fill-color: #FFFFFF;\n    --vis-timeline-row-odd-fill-color: #F7FAFC;\n    --vis-timeline-row-background-opacity: 1;\n    --vis-timeline-scrollbar-background-color: #E6E9F3;\n    --vis-timeline-scrollbar-color: #9EA7B8;\n\n    --vis-timeline-label-font-size: 12px;\n    --vis-timeline-label-color: #6C778C;\n\n    --vis-timeline-arrow-color: #6C778C;\n    --vis-timeline-arrow-stroke-width: 1.5;\n\n    --vis-timeline-cursor: default;\n    --vis-timeline-line-color: var(--vis-color-main);\n    --vis-timeline-line-stroke-width: 0;\n    --vis-timeline-line-hover-stroke-width: 0;\n    --vis-timeline-line-hover-stroke-color: #6C778C;\n\n    // The line stroke color variable is not defined by default\n    // to allow it to fallback to the corresponding row background color\n    /* --vis-timeline-line-stroke-color: none; */\n\n    --vis-dark-timeline-row-even-fill-color: #292B34;\n    --vis-dark-timeline-row-odd-fill-color: #333742;\n    --vis-dark-timeline-scrollbar-background-color: #292B34;\n    --vis-dark-timeline-scrollbar-color: #6C778C;\n    --vis-dark-timeline-label-color: #EFF5F8;\n    --vis-dark-timeline-arrow-color: #EFF5F8;\n    --vis-dark-timeline-line-hover-stroke-color: #EFF5F8;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-timeline-row-even-fill-color: var(--vis-dark-timeline-row-even-fill-color);\n    --vis-timeline-row-odd-fill-color: var(--vis-dark-timeline-row-odd-fill-color);\n    --vis-timeline-scrollbar-background-color: var(--vis-dark-timeline-scrollbar-background-color);\n    --vis-timeline-scrollbar-color: var(--vis-dark-timeline-scrollbar-color);\n    --vis-timeline-label-color: var(--vis-dark-timeline-label-color);\n    --vis-timeline-arrow-color: var(--vis-dark-timeline-arrow-color);\n    --vis-timeline-line-hover-stroke-color: var(--vis-dark-timeline-line-hover-stroke-color);\n  }\n`;\r\nconst background = css `\n  label: background;\n`;\r\nconst lines = css `\n  label: lines;\n`;\r\nconst lineGroup = css `\n  label: line-group;\n`;\r\nconst line = css `\n  label: line;\n  fill: var(--vis-timeline-line-color);\n  cursor: var(--vis-timeline-cursor);\n\n  stroke: var(--vis-timeline-line-stroke-color, var(--vis-timeline-row-even-fill-color));\n  stroke-width: var(--vis-timeline-line-stroke-width);\n\n  &.odd {\n    stroke: var(--vis-timeline-line-stroke-color, var(--vis-timeline-row-odd-fill-color));\n  }\n\n  :hover {\n    stroke-width: var(--vis-timeline-line-hover-stroke-width);\n    stroke: var(--vis-timeline-line-hover-stroke-color);\n  }\n`;\r\nconst lineStartIcon = css `\n  label: line-start-icon;\n`;\r\nconst lineEndIcon = css `\n  label: line-end-icon;\n`;\r\nconst arrows = css `\n  label: arrows;\n`;\r\nconst arrow = css `\n  label: arrow;\n  fill: none;\n  stroke: var(--vis-timeline-arrow-color);\n  stroke-width: var(--vis-timeline-arrow-stroke-width);\n`;\r\nconst rows = css `\n  label: rows;\n`;\r\nconst row = css `\n  label: row;\n  fill: var(--vis-timeline-row-even-fill-color);\n  opacity: var(--vis-timeline-row-background-opacity);\n`;\r\nconst rowOdd = css `\n  label: row-odd;\n  fill: var(--vis-timeline-row-odd-fill-color);\n`;\r\nconst scrollbar = css `\n  label: scroll-bar;\n`;\r\nconst scrollbarHandle = css `\n  label: scroll-bar-handle;\n  fill: var(--vis-timeline-scrollbar-color);\n`;\r\nconst scrollbarBackground = css `\n  label: scroll-bar-background;\n  fill: var(--vis-timeline-scrollbar-background-color);\n`;\r\nconst labels = css `\n  label: labels;\n`;\r\nconst label = css `\n  label: label;\n  dominant-baseline: middle;\n  font-size: var(--vis-timeline-label-font-size);\n  fill: var(--vis-timeline-label-color);\n  text-anchor: end;\n  user-select: none;\n`;\r\nconst rowIcons = css `\n  label: row-icons;\n`;\r\nconst rowIcon = css `\n  label: row-icon;\n`;\n\nexport { arrow, arrows, background, globalStyles, label, labels, line, lineEndIcon, lineGroup, lineStartIcon, lines, root, row, rowIcon, rowIcons, rowOdd, rows, scrollbar, scrollbarBackground, scrollbarHandle };\n\n", "const TIMELINE_DEFAULT_ARROW_HEAD_LENGTH = 8;\r\nconst TIMELINE_DEFAULT_ARROW_HEAD_WIDTH = 6;\r\nconst TIMELINE_DEFAULT_ARROW_MARGIN = 3;\n\nexport { TIMELINE_DEFAULT_ARROW_HEAD_LENGTH, TIMELINE_DEFAULT_ARROW_HEAD_WIDTH, TIMELINE_DEFAULT_ARROW_MARGIN };\n\n", "import { Arrangement } from '../../types/position.js';\nimport { getString, getNumber, getValue } from '../../utils/data.js';\n\nconst getIconBleed = (datum, idx, icon, iconSize, iconArrangement, rowHeight) => {\r\n    const iconValue = getString(datum, icon, idx);\r\n    if (!iconValue)\r\n        return 0;\r\n    const size = getNumber(datum, iconSize, idx) || rowHeight / 2;\r\n    const arrangement = getValue(datum, iconArrangement, idx);\r\n    return (arrangement === Arrangement.Outside) ? size\r\n        : (arrangement === Arrangement.Center) ? size / 2\r\n            : 0;\r\n};\n\nexport { getIconBleed };\n\n", "import { select } from 'd3-selection';\nimport { max, min, minIndex } from 'd3-array';\nimport { scaleOrdinal } from 'd3-scale';\nimport { drag } from 'd3-drag';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { getNumber, isNumber, arrayOfIndices, getValue, isPlainObject, isFunction, getString, groupBy, getMin, getMax } from '../../utils/data.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { getColor } from '../../utils/color.js';\nimport { trimSVGText, textAlignToAnchor } from '../../utils/text.js';\nimport { arrowPolylinePath } from '../../utils/path.js';\nimport { guid } from '../../utils/misc.js';\nimport '../../types.js';\nimport { TimelineDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { background, rows, arrows, lines, labels, rowIcons, scrollbar, scrollbarBackground, scrollbarHandle, label, rowIcon, row, rowOdd, lineGroup, line, lineStartIcon, lineEndIcon, arrow } from './style.js';\nimport { TIMELINE_DEFAULT_ARROW_HEAD_LENGTH, TIMELINE_DEFAULT_ARROW_HEAD_WIDTH, TIMELINE_DEFAULT_ARROW_MARGIN } from './constants.js';\nimport { getIconBleed } from './utils.js';\nimport { TextAlign } from '../../types/text.js';\nimport { Arrangement } from '../../types/position.js';\n\nclass Timeline extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = TimelineDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.events = {\r\n            [Timeline.selectors.background]: {\r\n                wheel: this._onMouseWheel.bind(this),\r\n            },\r\n            [Timeline.selectors.label]: {\r\n                wheel: this._onMouseWheel.bind(this),\r\n            },\r\n            [Timeline.selectors.rows]: {\r\n                wheel: this._onMouseWheel.bind(this),\r\n            },\r\n            [Timeline.selectors.line]: {\r\n                wheel: this._onMouseWheel.bind(this),\r\n            },\r\n        };\r\n        this._scrollBarWidth = 5;\r\n        this._scrollDistance = 0;\r\n        this._scrollBarMargin = 5;\r\n        this._maxScroll = 0;\r\n        this._scrollbarHeight = 0;\r\n        this._labelMargin = 5;\r\n        this._labelWidth = 0; // Will be overridden in `get bleed ()`\r\n        this._rowIconBleed = [0, 0];\r\n        this._lineBleed = [0, 0];\r\n        /** We define a dedicated clipping path for this component because it needs to behave\r\n         * differently than the regular XYContainer's clipPath */\r\n        this._clipPathId = guid();\r\n        if (config)\r\n            this.setConfig(config);\r\n        // Invisible background rect to track events\r\n        this._background = this.g.append('rect').attr('class', background);\r\n        // Clip path\r\n        this._clipPath = this.g.append('clipPath')\r\n            .attr('id', this._clipPathId);\r\n        this._clipPath.append('rect');\r\n        // Group for content\r\n        this._rowsGroup = this.g.append('g').attr('class', rows)\r\n            .style('clip-path', `url(#${this._clipPathId})`);\r\n        this._arrowsGroup = this.g.append('g').attr('class', arrows)\r\n            .style('clip-path', `url(#${this._clipPathId})`);\r\n        this._linesGroup = this.g.append('g').attr('class', lines)\r\n            .style('clip-path', `url(#${this._clipPathId})`);\r\n        this._labelsGroup = this.g.append('g').attr('class', labels);\r\n        this._rowIconsGroup = this.g.append('g').attr('class', rowIcons);\r\n        this._scrollBarGroup = this.g.append('g').attr('class', scrollbar);\r\n        // Scroll bar\r\n        this._scrollBarBackground = this._scrollBarGroup.append('rect')\r\n            .attr('class', scrollbarBackground);\r\n        this._scrollBarHandle = this._scrollBarGroup.append('rect')\r\n            .attr('class', scrollbarHandle);\r\n        // Set up scrollbar drag event\r\n        const dragBehaviour = drag()\r\n            .on('drag', this._onScrollbarDrag.bind(this));\r\n        this._scrollBarHandle.call(dragBehaviour);\r\n    }\r\n    setConfig(config) {\r\n        super.setConfig(config);\r\n    }\r\n    setData(data) {\r\n        super.setData(data);\r\n    }\r\n    get bleed() {\r\n        var _a, _b, _c, _d;\r\n        const { config, datamodel: { data } } = this;\r\n        const rowLabels = this._getRowLabels(data);\r\n        const rowHeight = config.rowHeight || (this._height / (rowLabels.length || 1));\r\n        const hasIcons = rowLabels.some(l => l.iconHref);\r\n        const maxIconSize = max(rowLabels.map(l => l.iconSize || 0));\r\n        // We calculate the longest label width to set the bleed values accordingly\r\n        if ((_a = config.showRowLabels) !== null && _a !== void 0 ? _a : config.showLabels) {\r\n            if ((_b = config.rowLabelWidth) !== null && _b !== void 0 ? _b : config.labelWidth)\r\n                this._labelWidth = ((_c = config.rowLabelWidth) !== null && _c !== void 0 ? _c : config.labelWidth) + this._labelMargin;\r\n            else {\r\n                const longestLabel = rowLabels.reduce((longestLabel, l) => longestLabel.formattedLabel.length > l.formattedLabel.length ? longestLabel : l, rowLabels[0]);\r\n                const label$1 = this._labelsGroup.append('text')\r\n                    .attr('class', label)\r\n                    .text((longestLabel === null || longestLabel === void 0 ? void 0 : longestLabel.formattedLabel) || '')\r\n                    .call(trimSVGText, (_d = config.rowMaxLabelWidth) !== null && _d !== void 0 ? _d : config.maxLabelWidth);\r\n                const labelWidth = label$1.node().getBBox().width;\r\n                label$1.remove();\r\n                const tolerance = 1.15; // Some characters are wider than others so we add a little of extra space to take that into account\r\n                this._labelWidth = labelWidth ? tolerance * labelWidth + this._labelMargin : 0;\r\n            }\r\n        }\r\n        // There can be multiple start / end items with the same timestamp, so we need to find the shortest one\r\n        const minTimestamp = min(data, (d, i) => getNumber(d, config.x, i));\r\n        const dataMin = data.filter((d, i) => getNumber(d, config.x, i) === minTimestamp);\r\n        const dataMinShortestItemIdx = minIndex(dataMin, (d, i) => this._getLineDuration(d, i));\r\n        const firstItemIdx = data.findIndex(d => d === dataMin[dataMinShortestItemIdx]);\r\n        const firstItem = data[firstItemIdx];\r\n        const maxTimestamp = max(data, (d, i) => getNumber(d, config.x, i) + this._getLineDuration(d, i));\r\n        const dataMax = data.filter((d, i) => getNumber(d, config.x, i) + this._getLineDuration(d, i) === maxTimestamp);\r\n        const dataMaxShortestItemIdx = minIndex(dataMax, (d, i) => this._getLineDuration(d, i));\r\n        const lastItemIdx = data.findIndex(d => d === dataMax[dataMaxShortestItemIdx]);\r\n        const lastItem = data[lastItemIdx];\r\n        // Small segments bleed\r\n        const lineBleed = [1, 1];\r\n        if (config.showEmptySegments && config.lineCap && firstItem && lastItem) {\r\n            const firstItemStart = getNumber(firstItem, config.x, firstItemIdx);\r\n            const firstItemEnd = getNumber(firstItem, config.x, firstItemIdx) + this._getLineDuration(firstItem, firstItemIdx);\r\n            const lastItemStart = getNumber(lastItem, config.x, lastItemIdx);\r\n            const lastItemEnd = getNumber(lastItem, config.x, lastItemIdx) + this._getLineDuration(lastItem, lastItemIdx);\r\n            const fullTimeRange = lastItemEnd - firstItemStart;\r\n            const firstItemHeight = this._getLineWidth(firstItem, firstItemIdx, rowHeight);\r\n            const lastItemHeight = this._getLineWidth(lastItem, lastItemIdx, rowHeight);\r\n            if ((firstItemEnd - firstItemStart) / fullTimeRange * this._width < firstItemHeight) {\r\n                lineBleed[0] = config.showEmptySegmentsCorrectPosition ? firstItemHeight / 2 : 0;\r\n            }\r\n            if ((lastItemEnd - lastItemStart) / fullTimeRange * this._width < lastItemHeight) {\r\n                lineBleed[1] = config.showEmptySegmentsCorrectPosition ? lastItemHeight / 2 : lastItemHeight;\r\n            }\r\n        }\r\n        this._lineBleed = lineBleed;\r\n        // Icon bleed\r\n        const iconBleed = [0, 0];\r\n        if (config.lineStartIcon) {\r\n            iconBleed[0] = max(data, (d, i) => getIconBleed(d, i, config.lineStartIcon, config.lineStartIconSize, config.lineStartIconArrangement, rowHeight)) || 0;\r\n        }\r\n        if (config.lineEndIcon) {\r\n            iconBleed[1] = max(data, (d, i) => getIconBleed(d, i, config.lineEndIcon, config.lineEndIconSize, config.lineEndIconArrangement, rowHeight)) || 0;\r\n        }\r\n        this._rowIconBleed = iconBleed;\r\n        return {\r\n            top: 0,\r\n            bottom: 0,\r\n            left: this._labelWidth + iconBleed[0] + (hasIcons ? maxIconSize : 0) + lineBleed[0],\r\n            right: this._scrollBarWidth + this._scrollBarMargin + iconBleed[1] + lineBleed[1],\r\n        };\r\n    }\r\n    _render(customDuration) {\r\n        var _a;\r\n        super._render(customDuration);\r\n        const { config, datamodel: { data } } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        const xRange = this.xScale.range();\r\n        const yRange = this.yScale.range();\r\n        const yStart = Math.min(...yRange);\r\n        const yHeight = Math.abs(yRange[1] - yRange[0]);\r\n        const rowLabels = this._getRowLabels(data);\r\n        const numRowLabels = rowLabels.length;\r\n        const rowHeight = config.rowHeight || (yHeight / (numRowLabels || 1));\r\n        const yOrdinalScale = scaleOrdinal()\r\n            .range(arrayOfIndices(numRowLabels))\r\n            .domain(rowLabels.map(l => l.label));\r\n        const lineDataPrepared = this._prepareLinesData(data, yOrdinalScale, rowHeight);\r\n        // Invisible Background rect to track events\r\n        this._background\r\n            .attr('width', this._width)\r\n            .attr('height', this._height)\r\n            .attr('opacity', 0);\r\n        // Row Icons\r\n        const rowIcons = this._rowIconsGroup.selectAll(`.${rowIcon}`)\r\n            .data(rowLabels.filter(d => d.iconSize), l => l === null || l === void 0 ? void 0 : l.label);\r\n        const rowIconsEnter = rowIcons.enter().append('use')\r\n            .attr('class', rowIcon)\r\n            .attr('x', 0)\r\n            .attr('width', l => l.iconSize)\r\n            .attr('height', l => l.iconSize)\r\n            .attr('y', l => yStart + (yOrdinalScale(l.label) + 0.5) * rowHeight - l.iconSize / 2)\r\n            .style('opacity', 0);\r\n        smartTransition(rowIconsEnter.merge(rowIcons), duration)\r\n            .attr('href', l => l.iconHref)\r\n            .attr('x', 0)\r\n            .attr('y', l => yStart + (yOrdinalScale(l.label) + 0.5) * rowHeight - l.iconSize / 2)\r\n            .attr('width', l => l.iconSize)\r\n            .attr('height', l => l.iconSize)\r\n            .style('color', l => l.iconColor)\r\n            .style('opacity', 1);\r\n        smartTransition(rowIcons.exit(), duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n        // Labels\r\n        const labels = this._labelsGroup.selectAll(`.${label}`)\r\n            .data(((_a = config.showRowLabels) !== null && _a !== void 0 ? _a : config.showLabels) ? rowLabels : [], l => l === null || l === void 0 ? void 0 : l.label);\r\n        const labelOffset = config.rowLabelTextAlign === TextAlign.Center ? this._labelWidth / 2\r\n            : config.rowLabelTextAlign === TextAlign.Left ? this._labelWidth\r\n                : this._labelMargin;\r\n        const xStart = xRange[0] - this._rowIconBleed[0] - this._lineBleed[0];\r\n        const labelXStart = xStart - labelOffset;\r\n        const labelsEnter = labels.enter().append('text')\r\n            .attr('class', label)\r\n            .attr('x', labelXStart)\r\n            .attr('y', l => yStart + (yOrdinalScale(l.label) + 0.5) * rowHeight)\r\n            .style('opacity', 0);\r\n        const labelsMerged = labelsEnter.merge(labels)\r\n            .text(l => l.formattedLabel)\r\n            .each((label, i, els) => {\r\n            var _a, _b;\r\n            const labelSelection = select(els[i]);\r\n            trimSVGText(labelSelection, ((_a = config.rowLabelWidth) !== null && _a !== void 0 ? _a : config.labelWidth) || ((_b = config.rowMaxLabelWidth) !== null && _b !== void 0 ? _b : config.maxLabelWidth));\r\n            // Apply custom label style if it has been provided\r\n            const customStyle = getValue(label, config.rowLabelStyle);\r\n            if (!isPlainObject(customStyle))\r\n                return;\r\n            for (const [prop, value] of Object.entries(customStyle)) {\r\n                labelSelection.style(prop, value);\r\n            }\r\n        })\r\n            .style('text-anchor', textAlignToAnchor(config.rowLabelTextAlign));\r\n        smartTransition(labelsMerged, duration)\r\n            .attr('x', labelXStart)\r\n            .attr('y', l => yStart + (yOrdinalScale(l.label) + 0.5) * rowHeight)\r\n            .style('opacity', 1);\r\n        smartTransition(labels.exit(), duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n        // Row background rects\r\n        const timelineWidth = xRange[1] - xRange[0] + this._rowIconBleed[0] + this._rowIconBleed[1] + this._lineBleed[0] + this._lineBleed[1];\r\n        const numRows = Math.max(Math.floor(yHeight / rowHeight), numRowLabels);\r\n        const recordTypes = Array(numRows).fill(null).map((_, i) => rowLabels[i]);\r\n        const rects = this._rowsGroup.selectAll(`.${row}`)\r\n            .data(recordTypes);\r\n        const rectsEnter = rects.enter().append('rect')\r\n            .attr('class', row)\r\n            .attr('x', xStart)\r\n            .attr('width', timelineWidth)\r\n            .attr('y', (_, i) => yStart + i * rowHeight)\r\n            .attr('height', rowHeight)\r\n            .style('opacity', 0);\r\n        const rectsMerged = rectsEnter.merge(rects)\r\n            .classed(rowOdd, config.alternatingRowColors ? (_, i) => !(i % 2) : null);\r\n        smartTransition(rectsMerged, duration)\r\n            .attr('x', xStart)\r\n            .attr('width', timelineWidth)\r\n            .attr('y', (_, i) => yStart + i * rowHeight)\r\n            .attr('height', rowHeight)\r\n            .style('opacity', 1);\r\n        smartTransition(rects.exit(), duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n        // Lines\r\n        const lines = this._linesGroup.selectAll(`.${lineGroup}`)\r\n            .data(lineDataPrepared, (d) => d._id);\r\n        const linesEnter = lines.enter().append('g')\r\n            .attr('class', lineGroup)\r\n            .style('opacity', 0)\r\n            .attr('transform', (d, i) => {\r\n            var _a, _b;\r\n            const configuredPos = isFunction(config.animationLineEnterPosition)\r\n                ? config.animationLineEnterPosition(d, i, lineDataPrepared)\r\n                : config.animationLineEnterPosition;\r\n            const [x, y] = [(_a = configuredPos === null || configuredPos === void 0 ? void 0 : configuredPos[0]) !== null && _a !== void 0 ? _a : d._xPx, (_b = configuredPos === null || configuredPos === void 0 ? void 0 : configuredPos[1]) !== null && _b !== void 0 ? _b : d._yPx];\r\n            return `translate(${x}, ${y})`;\r\n        });\r\n        linesEnter.append('rect')\r\n            .attr('class', line)\r\n            .style('fill', (d, i) => getColor(d, config.color, yOrdinalScale(this._getRecordKey(d, i))))\r\n            .call(this._renderLines.bind(this), rowHeight);\r\n        linesEnter.append('use').attr('class', lineStartIcon);\r\n        linesEnter.append('use').attr('class', lineEndIcon);\r\n        const linesMerged = linesEnter.merge(lines);\r\n        smartTransition(linesMerged, duration)\r\n            .attr('transform', d => `translate(${d._xPx + d._xOffsetPx}, ${d._yPx})`)\r\n            .style('opacity', 1);\r\n        const lineRectElementsSelection = linesMerged.selectAll(`.${line}`)\r\n            .data(d => [d]);\r\n        smartTransition(lineRectElementsSelection, duration)\r\n            .style('fill', (d, i) => getColor(d, config.color, yOrdinalScale(this._getRecordKey(d, i))))\r\n            .style('cursor', (d, i) => { var _a; return getString(d, (_a = config.lineCursor) !== null && _a !== void 0 ? _a : config.cursor, i); })\r\n            .call(this._renderLines.bind(this), rowHeight);\r\n        linesMerged.selectAll(`.${lineStartIcon}`)\r\n            .data(d => [d])\r\n            .attr('href', (d, i) => getString(d, config.lineStartIcon, i))\r\n            .attr('x', (d, i) => {\r\n            const iconSize = d._startIconSize;\r\n            const iconArrangement = d._startIconArrangement;\r\n            const offset = iconArrangement === Arrangement.Inside ? 0\r\n                : iconArrangement === Arrangement.Center ? -iconSize / 2\r\n                    : -iconSize;\r\n            return offset;\r\n        })\r\n            .attr('y', d => (-(d._startIconSize - d._height) / 2) || 0)\r\n            .attr('width', d => d._startIconSize)\r\n            .attr('height', d => d._startIconSize)\r\n            .style('color', d => d._startIconColor);\r\n        linesMerged.selectAll(`.${lineEndIcon}`)\r\n            .data(d => [d])\r\n            .attr('href', (d, i) => getString(d, config.lineEndIcon, i))\r\n            .attr('x', (d, i) => {\r\n            const lineLength = d._lengthCorrected;\r\n            const iconSize = d._endIconSize;\r\n            const iconArrangement = d._endIconArrangement;\r\n            const offset = iconArrangement === Arrangement.Inside ? -iconSize\r\n                : iconArrangement === Arrangement.Center ? -iconSize / 2\r\n                    : 0;\r\n            return lineLength + offset;\r\n        })\r\n            .attr('y', d => -((d._endIconSize - d._height) / 2) || 0)\r\n            .attr('width', d => d._endIconSize)\r\n            .attr('height', d => d._endIconSize)\r\n            .style('color', d => d._endIconColor);\r\n        const linesExit = lines.exit();\r\n        smartTransition(linesExit, duration)\r\n            .style('opacity', 0)\r\n            .attr('transform', (d, i) => {\r\n            var _a, _b;\r\n            const configuredPos = isFunction(config.animationLineExitPosition)\r\n                ? config.animationLineExitPosition(d, i, lineDataPrepared)\r\n                : config.animationLineExitPosition;\r\n            const [x, y] = [(_a = configuredPos === null || configuredPos === void 0 ? void 0 : configuredPos[0]) !== null && _a !== void 0 ? _a : d._xPx, (_b = configuredPos === null || configuredPos === void 0 ? void 0 : configuredPos[1]) !== null && _b !== void 0 ? _b : d._yPx];\r\n            return `translate(${x}, ${y})`;\r\n        })\r\n            .remove();\r\n        // Arrows\r\n        const arrowsData = this._prepareArrowsData(data, yOrdinalScale, rowHeight);\r\n        const arrows = this._arrowsGroup.selectAll(`.${arrow}`)\r\n            .data(arrowsData !== null && arrowsData !== void 0 ? arrowsData : [], d => d.id);\r\n        const arrowsEnter = arrows.enter().append('path')\r\n            .attr('class', arrow)\r\n            .style('opacity', 0);\r\n        smartTransition(arrowsEnter.merge(arrows), duration)\r\n            .attr('d', (d) => {\r\n            var _a, _b;\r\n            return arrowPolylinePath(d._points, (_a = d.arrowHeadLength) !== null && _a !== void 0 ? _a : TIMELINE_DEFAULT_ARROW_HEAD_LENGTH, (_b = d.arrowHeadWidth) !== null && _b !== void 0 ? _b : TIMELINE_DEFAULT_ARROW_HEAD_WIDTH);\r\n        })\r\n            .style('opacity', 1);\r\n        smartTransition(arrows.exit(), duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n        // Scroll Bar\r\n        const absoluteContentHeight = recordTypes.length * rowHeight;\r\n        this._scrollbarHeight = yHeight * yHeight / absoluteContentHeight || 0;\r\n        this._maxScroll = Math.max(absoluteContentHeight - yHeight, 0);\r\n        this._scrollBarGroup\r\n            .attr('transform', `translate(${this._width - this._scrollBarWidth}, ${yStart})`)\r\n            .attr('opacity', this._maxScroll ? 1 : 0);\r\n        this._scrollBarBackground\r\n            .attr('width', this._scrollBarWidth)\r\n            .attr('height', this._height)\r\n            .attr('rx', this._scrollBarWidth / 2)\r\n            .attr('ry', this._scrollBarWidth / 2);\r\n        this._scrollBarHandle\r\n            .attr('width', this._scrollBarWidth)\r\n            .attr('height', this._scrollbarHeight)\r\n            .attr('rx', this._scrollBarWidth / 2)\r\n            .attr('ry', this._scrollBarWidth / 2);\r\n        this._updateScrollPosition(0);\r\n        // Clip path\r\n        const clipPathRect = this._clipPath.select('rect');\r\n        smartTransition(clipPathRect, clipPathRect.attr('width') ? duration : 0)\r\n            .attr('x', xStart)\r\n            .attr('width', timelineWidth)\r\n            .attr('height', this._height);\r\n    }\r\n    _getLineLength(d, i) {\r\n        var _a, _b;\r\n        const { config, xScale } = this;\r\n        const x = getNumber(d, config.x, i);\r\n        const length = (_b = getNumber(d, (_a = config.lineDuration) !== null && _a !== void 0 ? _a : config.length, i)) !== null && _b !== void 0 ? _b : 0;\r\n        const lineLength = xScale(x + length) - xScale(x);\r\n        return lineLength;\r\n    }\r\n    _getLineWidth(d, i, rowHeight) {\r\n        var _a;\r\n        const { config } = this;\r\n        return (_a = getNumber(d, config.lineWidth, i)) !== null && _a !== void 0 ? _a : Math.max(Math.floor(rowHeight / 2), 1);\r\n    }\r\n    _getLineDuration(d, i) {\r\n        var _a, _b;\r\n        const { config } = this;\r\n        return (_b = getNumber(d, (_a = config.lineDuration) !== null && _a !== void 0 ? _a : config.length, i)) !== null && _b !== void 0 ? _b : 0;\r\n    }\r\n    _prepareLinesData(data, rowOrdinalScale, rowHeight) {\r\n        const { config, xScale, yScale } = this;\r\n        const yRange = yScale.range();\r\n        const yStart = Math.min(...yRange);\r\n        return data.map((d, i) => {\r\n            var _a, _b, _c, _d, _e;\r\n            const id = (_a = getString(d, config.id, i)) !== null && _a !== void 0 ? _a : [\r\n                this._getRecordKey(d, i), getNumber(d, config.x, i),\r\n            ].join('-');\r\n            const lineWidth = this._getLineWidth(d, i, rowHeight);\r\n            const lineLength = this._getLineLength(d, i);\r\n            if (lineLength < 0) {\r\n                console.warn('Unovis | Timeline: Line segments should not have negative lengths. Setting to 0.');\r\n            }\r\n            const lineLengthCorrected = config.showEmptySegments\r\n                ? Math.max(config.lineCap ? lineWidth : 1, lineLength)\r\n                : Math.max(0, lineLength);\r\n            const x = xScale(getNumber(d, config.x, i));\r\n            const y = yStart + rowOrdinalScale(this._getRecordKey(d, i)) * rowHeight + (rowHeight - lineWidth) / 2;\r\n            const isLineTooShort = config.showEmptySegments && config.showEmptySegmentsCorrectPosition && config.lineCap && (lineLength < lineWidth);\r\n            const xOffset = isLineTooShort ? -(lineLengthCorrected - lineLength) / 2 : 0;\r\n            return Object.assign(Object.assign({}, d), { _id: id, _xPx: x, _yPx: y, _xOffsetPx: xOffset, _length: lineLength, _height: lineWidth, _lengthCorrected: lineLengthCorrected, _startIconSize: (_b = getNumber(d, config.lineStartIconSize, i)) !== null && _b !== void 0 ? _b : lineWidth, _endIconSize: (_c = getNumber(d, config.lineEndIconSize, i)) !== null && _c !== void 0 ? _c : lineWidth, _startIconColor: getString(d, config.lineStartIconColor, i), _endIconColor: getString(d, config.lineEndIconColor, i), _startIconArrangement: (_d = getValue(d, config.lineStartIconArrangement, i)) !== null && _d !== void 0 ? _d : Arrangement.Outside, _endIconArrangement: (_e = getValue(d, config.lineEndIconArrangement, i)) !== null && _e !== void 0 ? _e : Arrangement.Outside });\r\n        });\r\n    }\r\n    _prepareArrowsData(data, rowOrdinalScale, rowHeight) {\r\n        var _a;\r\n        const { config } = this;\r\n        const arrowsData = (_a = config.arrows) === null || _a === void 0 ? void 0 : _a.map(a => {\r\n            var _a, _b, _c, _d, _e;\r\n            const sourceLineIndex = data.findIndex((d, i) => getString(d, config.id, i) === a.lineSourceId);\r\n            const targetLineIndex = data.findIndex((d, i) => getString(d, config.id, i) === a.lineTargetId);\r\n            const sourceLine = data[sourceLineIndex];\r\n            const targetLine = data[targetLineIndex];\r\n            if (!sourceLine || !targetLine) {\r\n                console.warn('Unovis | Timeline: Arrow references a non-existent line. Skipping...', a);\r\n                return undefined;\r\n            }\r\n            const sourceLineY = rowOrdinalScale(this._getRecordKey(sourceLine, sourceLineIndex)) * rowHeight + rowHeight / 2;\r\n            const targetLineY = rowOrdinalScale(this._getRecordKey(targetLine, targetLineIndex)) * rowHeight + rowHeight / 2;\r\n            const sourceLineWidth = this._getLineWidth(sourceLine, sourceLineIndex, rowHeight);\r\n            const targetLineWidth = this._getLineWidth(targetLine, targetLineIndex, rowHeight);\r\n            const x1 = (a.xSource\r\n                ? this.xScale(a.xSource)\r\n                : this.xScale(getNumber(sourceLine, config.x, sourceLineIndex)) + this._getLineLength(sourceLine, sourceLineIndex)) + ((_a = a.xSourceOffsetPx) !== null && _a !== void 0 ? _a : 0);\r\n            const targetLineLength = this._getLineLength(targetLine, targetLineIndex);\r\n            const isTargetLineTooShort = config.showEmptySegments && config.lineCap && (targetLineLength < targetLineWidth);\r\n            const targetLineStart = this.xScale(getNumber(targetLine, config.x, targetLineIndex)) + (isTargetLineTooShort ? -targetLineWidth / 2 : 0);\r\n            const x2 = (a.xTarget ? this.xScale(a.xTarget) : targetLineStart) + ((_b = a.xTargetOffsetPx) !== null && _b !== void 0 ? _b : 0);\r\n            const isX2OutsideTargetLineStart = (x2 < targetLineStart) || (x2 > targetLineStart);\r\n            // Points array\r\n            const sourceMargin = (_c = a.lineSourceMarginPx) !== null && _c !== void 0 ? _c : TIMELINE_DEFAULT_ARROW_MARGIN;\r\n            const targetMargin = (_d = a.lineTargetMarginPx) !== null && _d !== void 0 ? _d : TIMELINE_DEFAULT_ARROW_MARGIN;\r\n            const y1 = sourceLineY < targetLineY ? sourceLineY + sourceLineWidth / 2 + sourceMargin : sourceLineY - sourceLineWidth / 2 - sourceMargin;\r\n            const y2 = sourceLineY < targetLineY ? targetLineY - targetLineWidth / 2 - targetMargin : targetLineY + targetLineWidth / 2 + targetMargin;\r\n            const arrowHeadLength = (_e = a.arrowHeadLength) !== null && _e !== void 0 ? _e : TIMELINE_DEFAULT_ARROW_HEAD_LENGTH;\r\n            const isForwardArrow = x1 < x2 && !isX2OutsideTargetLineStart;\r\n            const threshold = arrowHeadLength + (isForwardArrow ? targetMargin : 0);\r\n            const points = [[x1, y1]];\r\n            if (Math.abs(x2 - x1) > threshold) {\r\n                if (isForwardArrow) {\r\n                    points.push([x1, (y1 + targetLineY) / 2]); // A dummy point to enable smooth transitions when arrows change\r\n                    points.push([x1, targetLineY]);\r\n                    points.push([x2 - targetMargin, targetLineY]);\r\n                }\r\n                else {\r\n                    const verticalOffset = Math.sign(targetLineY - sourceLineY) * (rowHeight / 4);\r\n                    points.push([x1, y2 - verticalOffset]);\r\n                    points.push([x2, y2 - verticalOffset]);\r\n                    points.push([x2, y2]);\r\n                }\r\n            }\r\n            else {\r\n                const quarterOffset = (y2 - y1) / 4;\r\n                points.push([x1, y1 + quarterOffset]); // A dummy point to enable smooth transitions\r\n                points.push([x1, y1 + 3 * quarterOffset]); // A dummy point to enable smooth transitions\r\n                points.push([x1, y2]);\r\n            }\r\n            return Object.assign(Object.assign({}, a), { _points: points });\r\n        }).filter(Boolean);\r\n        return arrowsData;\r\n    }\r\n    _renderLines(selection) {\r\n        const { config } = this;\r\n        selection\r\n            .attr('width', d => d._lengthCorrected)\r\n            .attr('height', d => d._height)\r\n            .attr('rx', d => config.lineCap ? d._height / 2 : null);\r\n    }\r\n    _onScrollbarDrag(event) {\r\n        const yRange = this.yScale.range();\r\n        const yHeight = Math.abs(yRange[1] - yRange[0]);\r\n        this._updateScrollPosition(event.dy * this._maxScroll / (yHeight - this._scrollbarHeight));\r\n    }\r\n    _onMouseWheel(d, event) {\r\n        var _a;\r\n        const { config } = this;\r\n        this._updateScrollPosition(event === null || event === void 0 ? void 0 : event.deltaY);\r\n        if (this._scrollDistance > 0 && this._scrollDistance < this._maxScroll)\r\n            event === null || event === void 0 ? void 0 : event.preventDefault();\r\n        (_a = config.onScroll) === null || _a === void 0 ? void 0 : _a.call(config, this._scrollDistance);\r\n        // Programmatically trigger a mousemove event to update Tooltip or Crosshair if they were set up\r\n        const e = new Event('mousemove');\r\n        this.element.dispatchEvent(e);\r\n    }\r\n    _updateScrollPosition(diff) {\r\n        const yRange = this.yScale.range();\r\n        const yHeight = Math.abs(yRange[1] - yRange[0]);\r\n        this._scrollDistance += diff;\r\n        this._scrollDistance = Math.max(0, this._scrollDistance);\r\n        this._scrollDistance = Math.min(this._maxScroll, this._scrollDistance);\r\n        this._clipPath.attr('transform', `translate(0,${this._scrollDistance})`);\r\n        this._linesGroup.attr('transform', `translate(0,${-this._scrollDistance})`);\r\n        this._rowsGroup.attr('transform', `translate(0,${-this._scrollDistance})`);\r\n        this._labelsGroup.attr('transform', `translate(0,${-this._scrollDistance})`);\r\n        this._rowIconsGroup.attr('transform', `translate(0,${-this._scrollDistance})`);\r\n        this._arrowsGroup.attr('transform', `translate(0,${-this._scrollDistance})`);\r\n        const scrollBarPosition = (this._scrollDistance / this._maxScroll * (yHeight - this._scrollbarHeight)) || 0;\r\n        this._scrollBarHandle.attr('y', scrollBarPosition);\r\n    }\r\n    _getRecordKey(d, i) {\r\n        var _a;\r\n        return getString(d, (_a = this.config.lineRow) !== null && _a !== void 0 ? _a : this.config.type) || `__${i}`;\r\n    }\r\n    _getRowLabels(data) {\r\n        const grouped = groupBy(data, (d, i) => { var _a; return getString(d, (_a = this.config.lineRow) !== null && _a !== void 0 ? _a : this.config.type) || `${i + 1}`; });\r\n        const rowLabels = Object.entries(grouped).map(([key, items], i) => {\r\n            var _a, _b, _c, _d, _e;\r\n            const icon = (_b = (_a = this.config).rowIcon) === null || _b === void 0 ? void 0 : _b.call(_a, key, items, i);\r\n            return {\r\n                label: key,\r\n                formattedLabel: (_e = (_d = (_c = this.config).rowLabelFormatter) === null || _d === void 0 ? void 0 : _d.call(_c, key, items, i)) !== null && _e !== void 0 ? _e : key,\r\n                iconHref: icon === null || icon === void 0 ? void 0 : icon.href,\r\n                iconSize: icon === null || icon === void 0 ? void 0 : icon.size,\r\n                iconColor: icon === null || icon === void 0 ? void 0 : icon.color,\r\n                data: items,\r\n            };\r\n        });\r\n        return rowLabels;\r\n    }\r\n    // Override the default XYComponent getXDataExtent method to take into account line lengths\r\n    getXDataExtent() {\r\n        const { config, datamodel } = this;\r\n        const min = getMin(datamodel.data, config.x);\r\n        const max = getMax(datamodel.data, (d, i) => { var _a, _b; return getNumber(d, config.x, i) + ((_b = getNumber(d, (_a = config.lineDuration) !== null && _a !== void 0 ? _a : config.length, i)) !== null && _b !== void 0 ? _b : 0); });\r\n        return [min, max];\r\n    }\r\n}\r\nTimeline.selectors = style;\n\nexport { Timeline };\n\n", "import { isString, cloneDeep, isFunction, isUndefined, without, isNumber, isObject, isEqual } from '../utils/data.js';\nimport { CoreDataModel } from './core.js';\n\nclass GraphDataModel extends CoreDataModel {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._nodes = [];\r\n        this._links = [];\r\n        this._inputNodesMap = new Map();\r\n        this._nodesMap = new Map();\r\n        // Model configuration\r\n        this.nodeId = n => (isString(n.id) || isFinite(n.id)) ? `${n.id}` : undefined;\r\n        this.linkId = l => (isString(l.id) || isFinite(l.id)) ? `${l.id}` : undefined;\r\n    }\r\n    getNodeById(id) {\r\n        return this._nodesMap.get(id);\r\n    }\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    set data(inputData) {\r\n        var _a, _b;\r\n        if (!inputData)\r\n            return;\r\n        this._data = inputData;\r\n        const prevNodes = this.nodes;\r\n        const prevLinks = this.links;\r\n        this._inputNodesMap.clear();\r\n        this._nodesMap.clear();\r\n        // Todo: Figure out why TypeScript complains about types\r\n        const nodes = cloneDeep((_a = inputData === null || inputData === void 0 ? void 0 : inputData.nodes) !== null && _a !== void 0 ? _a : []);\r\n        const links = cloneDeep((_b = inputData === null || inputData === void 0 ? void 0 : inputData.links) !== null && _b !== void 0 ? _b : []);\r\n        // Every node or link can have a private state used for rendering needs\r\n        // On data update we transfer state between objects with same ids\r\n        this.transferState(nodes, prevNodes, this.nodeId);\r\n        this.transferState(links, prevLinks, this.linkId);\r\n        // Set node `_id` and `_index`\r\n        nodes.forEach((node, i) => {\r\n            node._index = i;\r\n            node._id = this.nodeId(node) || `${i}`;\r\n            this._inputNodesMap.set(node, inputData.nodes[i]);\r\n            this._nodesMap.set(node._id, node);\r\n        });\r\n        // Sort nodes\r\n        if (isFunction(this.nodeSort))\r\n            nodes.sort(this.nodeSort);\r\n        // Fill link source and target\r\n        links.forEach((link, i) => {\r\n            link._indexGlobal = i;\r\n            link.source = this.findNode(nodes, link.source);\r\n            link.target = this.findNode(nodes, link.target);\r\n        });\r\n        // Set link index for multiple link rendering\r\n        links.forEach((link, i) => {\r\n            if (!isUndefined(link._index) && !isUndefined(link._neighbours))\r\n                return;\r\n            const linksFiltered = links.filter(l => ((link.source === l.source) && (link.target === l.target)) ||\r\n                ((link.source === l.target) && (link.target === l.source)));\r\n            linksFiltered.forEach((l, i) => {\r\n                var _a, _b;\r\n                l._index = i;\r\n                l._id = this.linkId(l) || `${(_a = l.source) === null || _a === void 0 ? void 0 : _a._id}-${(_b = l.target) === null || _b === void 0 ? void 0 : _b._id}-${i}`;\r\n                l._neighbours = linksFiltered.length;\r\n                l._direction = ((link.source === l.source) && (link.target === l.target)) ? 1 : -1;\r\n            });\r\n        });\r\n        nodes.forEach(d => {\r\n            // Determine if a node is connected or not and store it as a property\r\n            d.links = links.filter(l => (l.source === d) || (l.target === d));\r\n            d._isConnected = d.links.length !== 0;\r\n        });\r\n        this._nonConnectedNodes = nodes.filter(d => !d._isConnected);\r\n        this._connectedNodes = without(nodes, ...this._nonConnectedNodes);\r\n        this._nodes = nodes;\r\n        this._links = links.filter(l => {\r\n            if (l.source === l.target) {\r\n                console.warn(`Unovis | Graph Data Model: Skipping link ${l._id} because it has the same source and target`);\r\n                return false;\r\n            }\r\n            return l.source && l.target;\r\n        });\r\n    }\r\n    get nodes() {\r\n        return this._nodes;\r\n    }\r\n    get links() {\r\n        return this._links;\r\n    }\r\n    get connectedNodes() {\r\n        return this._connectedNodes;\r\n    }\r\n    get nonConnectedNodes() {\r\n        return this._nonConnectedNodes;\r\n    }\r\n    findNode(nodes, nodeIdentifier) {\r\n        let foundNode;\r\n        if (isNumber(nodeIdentifier))\r\n            foundNode = nodes[nodeIdentifier];\r\n        else if (isString(nodeIdentifier))\r\n            foundNode = nodes.find(node => this.nodeId(node) === nodeIdentifier);\r\n        else if (isObject(nodeIdentifier))\r\n            foundNode = nodes.find(node => isEqual(this._inputNodesMap.get(node), nodeIdentifier));\r\n        if (!foundNode) {\r\n            console.warn(`Unovis | Graph Data Model: Node ${nodeIdentifier} is missing from the nodes list`);\r\n        }\r\n        return foundNode;\r\n    }\r\n    transferState(items, itemsPrev, getId) {\r\n        for (const item of items) {\r\n            const dPrev = itemsPrev.find((dp) => getId(dp) === getId(item));\r\n            if (dPrev)\r\n                item._state = Object.assign({}, dPrev._state);\r\n            else\r\n                item._state = {};\r\n        }\r\n    }\r\n    setNodeStateById(id, state) {\r\n        const node = this.getNodeById(id);\r\n        if (!node) {\r\n            console.warn(`Unovis | Graph Data Model: Node ${id} not found`);\r\n            return;\r\n        }\r\n        node._state = state;\r\n    }\r\n}\n\nexport { GraphDataModel };\n\n", "import { ComponentDefaultConfig } from '../../core/component/config.js';\nimport { getNumber } from '../../utils/data.js';\nimport { VerticalAlign, FitMode, TrimMode } from '../../types/text.js';\nimport { Position } from '../../types/position.js';\nimport { SankeyExitTransitionType, SankeyEnterTransitionType, SankeyNodeAlign, SankeySubLabelPlacement } from './types.js';\n\n// Config\r\nconst SankeyDefaultConfig = (Object.assign(Object.assign({}, ComponentDefaultConfig), { heightNormalizationCoeff: 1 / 16, exitTransitionType: SankeyExitTransitionType.Default, enterTransitionType: SankeyEnterTransitionType.Default, id: (d, i) => { var _a; return (_a = d._id) !== null && _a !== void 0 ? _a : `${i}`; }, highlightSubtreeOnHover: false, highlightDuration: 300, highlightDelay: 1000, iterations: 32, nodeSort: undefined, nodeWidth: 25, nodeAlign: SankeyNodeAlign.Justify, nodeHorizontalSpacing: 150, nodeMinHeight: 20, nodeMaxHeight: 100, nodePadding: 2, nodeColor: (d) => d.color, nodeFixedValue: (d) => d.fixedValue, showSingleNode: true, nodeCursor: undefined, nodeIcon: undefined, nodeIconColor: undefined, label: (d) => d.label, labelPosition: Position.Auto, labelVerticalAlign: VerticalAlign.Middle, labelBackground: false, labelTextSeparator: [' ', '-'], labelFit: FitMode.Trim, labelTrimMode: TrimMode.Middle, labelForceWordBreak: true, labelFontSize: undefined, labelCursor: undefined, labelColor: undefined, labelMaxWidth: 70, labelExpandTrimmedOnHover: true, labelVisibility: undefined, subLabel: undefined, subLabelFontSize: undefined, subLabelColor: undefined, subLabelPlacement: SankeySubLabelPlacement.Below, subLabelToLabelInlineWidthRatio: 0.4, linkValue: (d) => d.value, linkColor: (d) => d.color, linkCursor: undefined, \r\n    // https://stackoverflow.com/a/21648197/2040291\r\n    init: function () {\r\n        this.linkSort =\r\n            (link2, link1) => getNumber(link1, this.linkValue) - getNumber(link2, this.linkValue);\r\n        delete this.init;\r\n        return this;\r\n    } })).init();\n\nexport { SankeyDefaultConfig };\n\n", "import { css, injectGlobal } from '@emotion/css';\nimport { UNOVIS_ICON_FONT_FAMILY_DEFAULT } from '../../styles/index.js';\n\nconst SANKEY_ICON_SIZE = 22;\r\nconst root = css `\n  label: sankey-component;\n`;\r\nconst variables = injectGlobal `\n  :root {\n     /* Links */\n    --vis-sankey-link-cursor: default;\n    --vis-sankey-link-color: var(--vis-color-main-light);\n    --vis-sankey-link-opacity: 0.5;\n    --vis-sankey-link-hover-opacity: 1.0;\n    /* Nodes */\n    --vis-sankey-node-cursor: default;\n    --vis-sankey-node-color: var(--vis-color-main);\n    --vis-sankey-node-label-color: #575c65;\n    --vis-sankey-node-opacity: 0.9;\n    --vis-sankey-node-hover-opacity: 1.0;\n    /* Node Labels */\n    --vis-sankey-node-label-background-fill-color: #ffffff;\n    --vis-sankey-node-label-background-stroke-color: #eaeaea;\n    --vis-sankey-node-label-background-opacity: 0.9;\n    --vis-sankey-node-label-color: #575c65;\n    --vis-sankey-node-label-cursor: default;\n    --vis-sankey-node-label-font-weight: 600;\n    --vis-sankey-node-label-font-size: 12px;\n    --vis-sankey-node-label-text-decoration: none;\n\n    --vis-sankey-node-sublabel-font-size: 10px;\n    --vis-sankey-node-sublabel-font-weight: 500;\n\n    /* Icons */\n    --vis-sankey-icon-size: ${SANKEY_ICON_SIZE}px;\n    --vis-sankey-icon-color: #ffffff;\n    --vis-sankey-icon-stroke-opacity: 0.6;\n    --vis-sankey-icon-font-family: ${UNOVIS_ICON_FONT_FAMILY_DEFAULT};\n\n    // Undefined by default to allow proper fallback to var(--vis-font-family)\n    /* --vis-sankey-label-font-family: */\n\n    /* Dark Theme */\n    --vis-dark-sankey-link-color: var(--vis-color-main-dark);\n    --vis-dark-sankey-node-color: var(--vis-color-main);\n    --vis-dark-sankey-node-label-color: #eaeaea;\n    --vis-dark-sankey-node-label-background-fill-color: #292b34;\n    --vis-dark-sankey-node-label-background-stroke-color: #575c65;\n    --vis-dark-sankey-icon-color: #292b34;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-sankey-node-color: var(--vis-dark-sankey-node-color);\n    --vis-sankey-link-color: var(--vis-dark-sankey-link-color);\n    --vis-sankey-node-label-color: var(--vis-dark-sankey-node-label-color);\n    --vis-sankey-node-label-background-fill-color: var(--vis-dark-sankey-label-background-fill-color);\n    --vis-sankey-node-label-background-stroke-color: var(--vis-dark-sankey-label-background-stroke-color);\n    --vis-sankey-icon-color: var(--vis-dark-sankey-icon-color);\n  }\n`;\r\nconst links = css `\n  label: links;\n`;\r\nconst nodes = css `\n  label: nodes;\n`;\r\nconst link = css `\n  label: link;\n\n  path {\n    cursor: var(--vis-sankey-link-cursor);\n    fill: var(--vis-sankey-link-color);\n    fill-opacity: var(--vis-sankey-link-opacity);\n  }\n\n  &:hover {\n    path {\n      fill-opacity: var(--vis-sankey-link-hover-opacity);\n    }\n  }\n`;\r\nconst linkPath = css `\n  label: visible;\n`;\r\nconst linkSelectionHelper = css `\n  label: transparent;\n  opacity: 0;\n`;\r\nconst labelGroup = css `\n  label: label-group;\n  cursor: var(--vis-sankey-node-label-cursor);\n`;\r\nconst labelTrimmed = css `\n  label: label-trimmed;\n`;\r\nconst label = css `\n  label: label;\n  dominant-baseline: hanging;\n\n  fill: var(--vis-sankey-node-label-color);\n  text-decoration: var(--vis-sankey-node-label-text-decoration);\n  font-weight: var(--vis-sankey-node-label-font-weight);\n  user-select: none;\n\n  &, tspan {\n    font-family: var(--vis-sankey-label-font-family, var(--vis-font-family));\n    dominant-baseline: hanging;\n  }\n`;\r\nconst sublabel = css `\n  label: sub-label;\n  dominant-baseline: hanging;\n\n  fill: var(--vis-sankey-node-label-color);\n  user-select: none;\n\n  &, tspan {\n    font-family: var(--vis-sankey-label-font-family, var(--vis-font-family));\n    font-weight: var(--vis-sankey-node-sublabel-font-weight);\n    dominant-baseline: hanging;\n  }\n`;\r\nconst labelBackground = css `\n  label: label-background;\n  stroke: var(--vis-sankey-node-label-background-stroke-color);\n  fill: var(--vis-sankey-node-label-background-fill-color);\n  opacity: var(--vis-sankey-node-label-background-opacity);\n`;\r\nconst hidden = css `\n  label: hidden;\n  visibility: hidden;\n`;\r\nconst forceShow = css `\n  label: forceShow;\n  visibility: visible;\n`;\r\nconst nodeGroup = css `\n  label: node-group;\n`;\r\nconst node = css `\n  label: node;\n\n  cursor: var(--vis-sankey-node-cursor);\n  fill: var(--vis-sankey-node-color);\n  opacity: var(--vis-sankey-node-opacity);\n\n  &:hover {\n    opacity: var(--vis-sankey-node-hover-opacity);\n  }\n`;\r\nconst nodeIcon = css `\n  label: icon;\n\n  font-family: var(--vis-sankey-icon-font-family);\n  text-anchor: middle;\n  font-size: var(--vis-sankey-icon-size);\n  fill: var(--vis-sankey-node-icon-color);\n  stroke: var(--vis-sankey-node-color);\n  stroke-opacity: var(--vis-sankey-icon-stroke-opacity);\n  user-select: none;\n  pointer-events: none;\n`;\r\nconst nodeExit = css `\n  label: node-exit;\n`;\r\nconst background = css `\n  label: background;\n`;\n\nexport { SANKEY_ICON_SIZE, background, forceShow, hidden, label, labelBackground, labelGroup, labelTrimmed, link, linkPath, linkSelectionHelper, links, node, nodeExit, nodeGroup, nodeIcon, nodes, root, sublabel, variables };\n\n", "import { interpolateNumber } from 'd3-interpolate';\nimport { getColor } from '../../../utils/color.js';\nimport { getString } from '../../../utils/data.js';\nimport { smartTransition } from '../../../utils/d3.js';\nimport { linkPath as linkPath$1, linkSelectionHelper } from '../style.js';\n\nfunction linkPath({ x0, x1, y0, y1, width }) {\r\n    const top0 = y0 - width / 2;\r\n    const top1 = y1 - width / 2;\r\n    const bottom0 = y0 + width / 2;\r\n    const bottom1 = y1 + width / 2;\r\n    const centerX = (x0 + x1) / 2;\r\n    return `\n    M ${x0}, ${top0}\n\n    C ${centerX}, ${top0}\n      ${centerX}, ${top1}\n      ${x1}, ${top1}\n\n    L ${x1}, ${bottom1}\n\n    C ${centerX}, ${bottom1}\n      ${centerX}, ${bottom0}\n      ${x0}, ${bottom0}\n    z\n  `;\r\n}\r\nfunction createLinks(sel) {\r\n    sel.append('path').attr('class', linkPath$1)\r\n        .attr('d', (d, i, el) => {\r\n        el[i]._animState = {\r\n            x0: d.source.x1,\r\n            x1: d.target.x0,\r\n            y0: d.y0,\r\n            y1: d.y1,\r\n            width: Math.max(1, d.width),\r\n        };\r\n        return linkPath(el[i]._animState);\r\n    });\r\n    sel.append('path').attr('class', linkSelectionHelper);\r\n    sel.style('opacity', 0);\r\n}\r\nfunction updateLinks(sel, config, duration) {\r\n    smartTransition(sel, duration)\r\n        .style('opacity', (d) => d._state.greyout ? 0.2 : 1);\r\n    const linkSelection = sel.select(`.${linkPath$1}`)\r\n        .style('cursor', (d) => getString(d, config.linkCursor));\r\n    const selectionTransition = smartTransition(linkSelection, duration)\r\n        .style('fill', (link) => getColor(link, config.linkColor));\r\n    if (duration) {\r\n        selectionTransition\r\n            .attrTween('d', (d, i, el) => {\r\n            const previous = el[i]._animState;\r\n            const next = {\r\n                x0: d.source.x1,\r\n                x1: d.target.x0,\r\n                y0: d.y0,\r\n                y1: d.y1,\r\n                width: Math.max(1, d.width),\r\n            };\r\n            const interpolator = {\r\n                x0: interpolateNumber(previous.x0, next.x0),\r\n                x1: interpolateNumber(previous.x1, next.x1),\r\n                y0: interpolateNumber(previous.y0, next.y0),\r\n                y1: interpolateNumber(previous.y1, next.y1),\r\n                width: interpolateNumber(previous.width, next.width),\r\n            };\r\n            el[i]._animState = next;\r\n            return function (t) {\r\n                return linkPath({\r\n                    x0: interpolator.x0(t),\r\n                    x1: interpolator.x1(t),\r\n                    y0: interpolator.y0(t),\r\n                    y1: interpolator.y1(t),\r\n                    width: interpolator.width(t),\r\n                });\r\n            };\r\n        });\r\n    }\r\n    else {\r\n        linkSelection.attr('d', (d) => linkPath({\r\n            x0: d.source.x1,\r\n            x1: d.target.x0,\r\n            y0: d.y0,\r\n            y1: d.y1,\r\n            width: Math.max(1, d.width),\r\n        }));\r\n    }\r\n    sel.select(`.${linkSelectionHelper}`)\r\n        .attr('d', (d) => linkPath({\r\n        x0: d.source.x1,\r\n        x1: d.target.x0,\r\n        y0: d.y0,\r\n        y1: d.y1,\r\n        width: Math.max(10, d.width),\r\n    }))\r\n        .style('cursor', d => getString(d, config.linkCursor));\r\n}\r\nfunction removeLinks(sel) {\r\n    sel.remove();\r\n}\n\nexport { createLinks, linkPath, removeLinks, updateLinks };\n\n", "import { wrapSVGText, trimSVGText, estimateTextSize } from '../../../utils/text.js';\nimport { smartTransition } from '../../../utils/d3.js';\nimport { getValue, getString } from '../../../utils/data.js';\nimport { getColor } from '../../../utils/color.js';\nimport { getCSSVariableValueInPixels } from '../../../utils/misc.js';\nimport { VerticalAlign, FitMode } from '../../../types/text.js';\nimport { Position } from '../../../types/position.js';\nimport { SankeySubLabelPlacement } from '../types.js';\nimport { label, sublabel, labelTrimmed, labelBackground } from '../style.js';\n\n// Utils\r\nconst NODE_LABEL_SPACING = 10;\r\nconst LABEL_BLOCK_PADDING = 6.5;\r\nfunction getLabelBackground(width, height, orientation, arrowWidth = 5, arrowHeight = 8) {\r\n    const halfHeight = height / 2;\r\n    const halfArrowHeight = arrowHeight / 2;\r\n    if (orientation === Position.Left) {\r\n        const rightArrowPos = `L 0 ${halfHeight - halfArrowHeight}   L   ${+arrowWidth} ${halfHeight} L 0 ${halfHeight + halfArrowHeight}`;\r\n        return `\n      M 0 0\n      ${rightArrowPos}\n      L 0  ${height}\n      L ${-width} ${height}\n      L ${-width} 0\n      L 0 0 `;\r\n    }\r\n    else {\r\n        const leftArrowPos = `L 0 ${halfHeight - halfArrowHeight}   L   ${-arrowWidth} ${halfHeight} L 0 ${halfHeight + halfArrowHeight}`;\r\n        return `\n      M 0 0\n      ${leftArrowPos}\n      L 0  ${height}\n      L ${width} ${height}\n      L ${width} 0\n      L 0 0 `;\r\n    }\r\n}\r\nfunction getLabelOrientation(d, sankeyWidth, labelPosition) {\r\n    let orientation = getValue(d, labelPosition);\r\n    if (orientation === Position.Auto || !orientation) {\r\n        orientation = d.x0 < sankeyWidth / 2 ? Position.Left : Position.Right;\r\n    }\r\n    return orientation;\r\n}\r\nconst requiredLabelSpace = (labelWidth, labelFontSize) => {\r\n    return {\r\n        height: labelFontSize * 2.5 + 2 * LABEL_BLOCK_PADDING,\r\n        width: labelWidth + 2 * NODE_LABEL_SPACING + 2 * LABEL_BLOCK_PADDING,\r\n    };\r\n};\r\nfunction getLabelGroupXTranslate(d, config, width) {\r\n    const orientation = getLabelOrientation(d, width, config.labelPosition);\r\n    switch (orientation) {\r\n        case Position.Right: return config.nodeWidth + NODE_LABEL_SPACING;\r\n        case Position.Left:\r\n        default:\r\n            return -NODE_LABEL_SPACING;\r\n    }\r\n}\r\nfunction getLabelGroupYTranslate(d, labelGroupHeight, config) {\r\n    const nodeHeight = d.y1 - d.y0;\r\n    if (config.labelBackground && (nodeHeight < labelGroupHeight))\r\n        return (nodeHeight - labelGroupHeight) / 2;\r\n    switch (config.labelVerticalAlign) {\r\n        case VerticalAlign.Bottom: return nodeHeight - labelGroupHeight;\r\n        case VerticalAlign.Middle: return nodeHeight / 2 - labelGroupHeight / 2;\r\n        case VerticalAlign.Top:\r\n        default: return 0;\r\n    }\r\n}\r\nfunction getLabelTextAnchor(d, config, width) {\r\n    const orientation = getLabelOrientation(d, width, config.labelPosition);\r\n    switch (orientation) {\r\n        case Position.Right: return 'start';\r\n        case Position.Left:\r\n        default:\r\n            return 'end';\r\n    }\r\n}\r\nfunction getSubLabelTextAnchor(d, config, width) {\r\n    const isSublabelInline = config.subLabelPlacement === SankeySubLabelPlacement.Inline;\r\n    const orientation = getLabelOrientation(d, width, config.labelPosition);\r\n    switch (orientation) {\r\n        case Position.Right: return isSublabelInline ? 'end' : 'start';\r\n        case Position.Left:\r\n        default:\r\n            return isSublabelInline ? 'start' : 'end';\r\n    }\r\n}\r\nfunction renderLabel(labelGroup, d, config, width, duration, forceExpand = false) {\r\n    var _a, _b;\r\n    const labelTextSelection = labelGroup.select(`.${label}`);\r\n    const labelShowBackground = config.labelBackground || forceExpand;\r\n    const sublabelTextSelection = labelGroup.select(`.${sublabel}`);\r\n    const labelPadding = labelShowBackground ? LABEL_BLOCK_PADDING : 0;\r\n    const isSublabelInline = config.subLabelPlacement === SankeySubLabelPlacement.Inline;\r\n    const separator = config.labelForceWordBreak ? '' : config.labelTextSeparator;\r\n    const fastEstimatesMode = true; // Fast but inaccurate\r\n    const fontWidthToHeightRatio = 0.52;\r\n    const dy = 0.32;\r\n    const labelOrientation = getLabelOrientation(d, width, config.labelPosition);\r\n    const labelOrientationMult = labelOrientation === Position.Left ? -1 : 1;\r\n    const labelText = getString(d, config.label);\r\n    const sublabelText = getString(d, config.subLabel);\r\n    let wasTrimmed = false;\r\n    const labelFontSize = (_a = config.labelFontSize) !== null && _a !== void 0 ? _a : getCSSVariableValueInPixels('var(--vis-sankey-node-label-font-size)', labelGroup.node());\r\n    const subLabelFontSize = (_b = config.subLabelFontSize) !== null && _b !== void 0 ? _b : getCSSVariableValueInPixels('var(--vis-sankey-node-sublabel-font-size)', labelGroup.node());\r\n    // Render the main label, wrap / trim it and estimate its size\r\n    const labelsFontSizeDifference = sublabelText ? labelFontSize - subLabelFontSize : 0;\r\n    const labelTranslateY = labelPadding + ((isSublabelInline && labelsFontSizeDifference < 0) ? -0.6 * labelsFontSizeDifference : 0);\r\n    labelTextSelection\r\n        .text(labelText)\r\n        .attr('font-size', labelFontSize)\r\n        .style('fill', getColor(d, config.labelColor))\r\n        .attr('transform', `translate(${labelOrientationMult * labelPadding},${labelTranslateY})`)\r\n        .style('cursor', (d) => getString(d, config.labelCursor));\r\n    const labelMaxWidth = isSublabelInline ? config.labelMaxWidth * (1 - (sublabelText ? config.subLabelToLabelInlineWidthRatio : 0)) : config.labelMaxWidth;\r\n    if (config.labelFit === FitMode.Wrap || forceExpand)\r\n        wrapSVGText(labelTextSelection, labelMaxWidth, separator);\r\n    else\r\n        wasTrimmed = trimSVGText(labelTextSelection, labelMaxWidth, config.labelTrimMode, fastEstimatesMode, labelFontSize, fontWidthToHeightRatio);\r\n    const labelSize = estimateTextSize(labelTextSelection, labelFontSize, dy, fastEstimatesMode, fontWidthToHeightRatio);\r\n    // Render the sub-label, wrap / trim it and estimate its size\r\n    const sublabelTranslateX = labelOrientationMult * (labelPadding + (isSublabelInline ? config.labelMaxWidth : 0));\r\n    const sublabelMarginTop = 0;\r\n    const sublabelTranslateY = labelPadding + (isSublabelInline\r\n        ? (labelsFontSizeDifference > 0 ? 0.6 * labelsFontSizeDifference : 0)\r\n        : labelSize.height + sublabelMarginTop);\r\n    sublabelTextSelection\r\n        .text(sublabelText)\r\n        .attr('font-size', subLabelFontSize)\r\n        .style('fill', getColor(d, config.subLabelColor))\r\n        .attr('transform', `translate(${sublabelTranslateX},${sublabelTranslateY})`)\r\n        .style('cursor', (d) => getString(d, config.labelCursor));\r\n    const sublabelMaxWidth = isSublabelInline ? config.labelMaxWidth * config.subLabelToLabelInlineWidthRatio : config.labelMaxWidth;\r\n    if (config.labelFit === FitMode.Wrap || forceExpand)\r\n        wrapSVGText(sublabelTextSelection, sublabelMaxWidth, separator);\r\n    else\r\n        wasTrimmed = wasTrimmed || trimSVGText(sublabelTextSelection, sublabelMaxWidth, config.labelTrimMode, fastEstimatesMode, subLabelFontSize, fontWidthToHeightRatio);\r\n    labelGroup.classed(labelTrimmed, wasTrimmed);\r\n    const sublabelSize = estimateTextSize(sublabelTextSelection, subLabelFontSize, dy, fastEstimatesMode, fontWidthToHeightRatio);\r\n    // Draw the background if needed\r\n    const labelGroupHeight = (isSublabelInline ? Math.max(labelSize.height, sublabelSize.height) : (labelSize.height + sublabelSize.height)) + 2 * labelPadding;\r\n    const labelBackground$1 = labelGroup.select(`.${labelBackground}`);\r\n    labelBackground$1\r\n        .attr('d', labelShowBackground ? getLabelBackground(config.labelMaxWidth + 2 * labelPadding, labelGroupHeight, labelOrientation) : null);\r\n    // Position the label\r\n    const labelTextAnchor = getLabelTextAnchor(d, config, width);\r\n    const sublabelTextAnchor = getSubLabelTextAnchor(d, config, width);\r\n    const xTranslate = getLabelGroupXTranslate(d, config, width);\r\n    const yTranslate = getLabelGroupYTranslate(d, labelGroupHeight, config);\r\n    labelTextSelection.attr('text-anchor', labelTextAnchor);\r\n    sublabelTextSelection.attr('text-anchor', sublabelTextAnchor);\r\n    const hasTransform = !!labelGroup.attr('transform');\r\n    smartTransition(labelGroup, hasTransform ? duration : 0)\r\n        .attr('transform', `translate(${xTranslate},${yTranslate})`);\r\n    return {\r\n        x: d.x0 + xTranslate,\r\n        y: d.y0 + yTranslate,\r\n        width: config.labelMaxWidth,\r\n        height: labelGroupHeight,\r\n        layer: d.layer,\r\n        selection: labelGroup,\r\n    };\r\n}\n\nexport { getLabelGroupXTranslate, getLabelGroupYTranslate, getLabelOrientation, getLabelTextAnchor, getSubLabelTextAnchor, renderLabel, requiredLabelSpace };\n\n", "import { select } from 'd3-selection';\nimport { getColor } from '../../../utils/color.js';\nimport { getString } from '../../../utils/data.js';\nimport { smartTransition } from '../../../utils/d3.js';\nimport { SankeyEnterTransitionType, SankeyNodeAlign, SankeyExitTransitionType } from '../types.js';\nimport { renderLabel } from './label.js';\nimport { node, labelGroup, labelBackground, label, sublabel, nodeIcon, SANKEY_ICON_SIZE, hidden, labelTrimmed, forceShow } from '../style.js';\n\nfunction createNodes(sel, config, width, bleed) {\r\n    const { enterTransitionType } = config;\r\n    // Node\r\n    sel.append('rect')\r\n        .attr('class', node)\r\n        .attr('width', config.nodeWidth)\r\n        .attr('height', d => d.y1 - d.y0)\r\n        .style('fill', node => getColor(node, config.nodeColor));\r\n    // Labels\r\n    const labelGroup$1 = sel.append('g').attr('class', labelGroup);\r\n    labelGroup$1.append('path').attr('class', labelBackground);\r\n    labelGroup$1.append('text').attr('class', label);\r\n    labelGroup$1.append('text').attr('class', sublabel);\r\n    // Node icon\r\n    sel.append('text').attr('class', nodeIcon)\r\n        .attr('text-anchor', 'middle')\r\n        .attr('dy', '0.5px');\r\n    sel\r\n        .attr('transform', d => {\r\n        var _a;\r\n        const x = (enterTransitionType === SankeyEnterTransitionType.FromAncestor && ((_a = d.targetLinks) === null || _a === void 0 ? void 0 : _a[0])) ? d.targetLinks[0].source.x0 : d.x0;\r\n        return `translate(${sel.size() === 1 ? width * 0.5 - bleed.left : x}, ${d.y0})`;\r\n    })\r\n        .style('opacity', 0);\r\n}\r\nfunction getNodeXPos(d, config, width, bleed, hasLinks) {\r\n    if (hasLinks)\r\n        return d.x0;\r\n    switch (config.nodeAlign) {\r\n        case SankeyNodeAlign.Left: return d.x0;\r\n        case SankeyNodeAlign.Right: return width - bleed.right;\r\n        case SankeyNodeAlign.Center:\r\n        case SankeyNodeAlign.Justify:\r\n        default: return width * 0.5 - bleed.left;\r\n    }\r\n}\r\nfunction updateNodes(sel, config, width, bleed, hasLinks, duration) {\r\n    smartTransition(sel, duration)\r\n        .attr('transform', d => `translate(${getNodeXPos(d, config, width, bleed, hasLinks)},${d.y0})`)\r\n        .style('opacity', d => d._state.greyout ? 0.2 : 1);\r\n    // Node\r\n    smartTransition(sel.select(`.${node}`), duration)\r\n        .attr('width', config.nodeWidth)\r\n        .attr('height', (d) => d.y1 - d.y0)\r\n        .style('cursor', (d) => getString(d, config.nodeCursor))\r\n        .style('fill', (d) => getColor(d, config.nodeColor));\r\n    // Label Rendering\r\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\r\n    renderNodeLabels(sel, config, width, duration);\r\n    // Node Icon\r\n    const nodeIcon$1 = sel.select(`.${nodeIcon}`);\r\n    if (config.nodeIcon) {\r\n        nodeIcon$1\r\n            .attr('visibility', null)\r\n            .attr('text-anchor', 'middle')\r\n            .style('dominant-baseline', 'central')\r\n            .style('stroke', (d) => getColor(d, config.nodeIconColor))\r\n            .style('fill', (d) => getColor(d, config.nodeIconColor))\r\n            .style('font-size', (d) => {\r\n            const nodeHeight = d.y1 - d.y0;\r\n            return nodeHeight < SANKEY_ICON_SIZE ? `${nodeHeight * 0.65}px` : null;\r\n        })\r\n            .html((d) => getString(d, config.nodeIcon));\r\n        smartTransition(nodeIcon$1, duration)\r\n            .attr('x', config.nodeWidth / 2)\r\n            .attr('y', (d) => (d.y1 - d.y0) / 2);\r\n    }\r\n    else {\r\n        nodeIcon$1\r\n            .attr('visibility', 'hidden');\r\n    }\r\n}\r\nfunction renderNodeLabels(sel, config, width, duration, enforceNodeVisibility) {\r\n    // Label Rendering\r\n    const labelGroupSelection = sel.select(`.${labelGroup}`);\r\n    const labelGroupEls = labelGroupSelection.nodes() || [];\r\n    // After rendering Label return a BBox so we can do intersection detection and hide some of tem\r\n    const labelGroupBBoxes = labelGroupEls.map(g => {\r\n        const gSelection = select(g);\r\n        const datum = gSelection.datum();\r\n        return renderLabel(gSelection, datum, config, width, duration, enforceNodeVisibility === datum);\r\n    });\r\n    if (config.labelVisibility) {\r\n        for (const b of labelGroupBBoxes) {\r\n            const datum = b.selection.datum();\r\n            const box = { x: b.x, y: b.y, width: b.width, height: b.height };\r\n            b.hidden = !config.labelVisibility(datum, box, enforceNodeVisibility === datum);\r\n        }\r\n    }\r\n    else {\r\n        // Detect intersecting labels\r\n        const maxLayer = Math.max(...labelGroupBBoxes.map(b => b.layer));\r\n        for (let layer = 0; layer <= maxLayer; layer += 1) {\r\n            const boxes = labelGroupBBoxes.filter(b => (b.layer === layer));\r\n            boxes.sort((a, b) => a.y - b.y);\r\n            let lastVisibleIdx = 0;\r\n            for (let i = 1; i < boxes.length; i += 1) {\r\n                const b0 = boxes[lastVisibleIdx];\r\n                const b1 = boxes[i];\r\n                const shouldBeHidden = b1.y < (b0.y + b0.height);\r\n                if (shouldBeHidden) {\r\n                    if (b1.selection.datum() === enforceNodeVisibility)\r\n                        b0.hidden = true; // If the hovered node should be hidden, hide the previous one instead\r\n                    else\r\n                        b1.hidden = true;\r\n                }\r\n                if (!b1.hidden)\r\n                    lastVisibleIdx = i;\r\n            }\r\n        }\r\n    }\r\n    // Hide intersecting labels\r\n    for (const b of labelGroupBBoxes) {\r\n        b.selection.classed(hidden, b.hidden);\r\n    }\r\n}\r\nfunction removeNodes(selection, config, duration) {\r\n    const { exitTransitionType } = config;\r\n    selection.each((d, i, els) => {\r\n        var _a;\r\n        const node = select(els[i]);\r\n        const transition = smartTransition(node, duration);\r\n        if ((exitTransitionType === SankeyExitTransitionType.ToAncestor) && ((_a = d.targetLinks) === null || _a === void 0 ? void 0 : _a[0])) {\r\n            transition.attr('transform', `translate(${d.targetLinks[0].source.x0},${d.y0})`);\r\n        }\r\n        transition\r\n            .style('opacity', 0)\r\n            .remove();\r\n    });\r\n}\r\nfunction onNodeMouseOver(d, nodeSelection, config, width) {\r\n    const labelGroup$1 = nodeSelection.raise()\r\n        .select(`.${labelGroup}`);\r\n    if ((config.labelExpandTrimmedOnHover && labelGroup$1.classed(labelTrimmed)) || labelGroup$1.classed(hidden)) {\r\n        renderLabel(labelGroup$1, d, config, width, 0, true);\r\n    }\r\n    labelGroup$1.classed(forceShow, true);\r\n}\r\nfunction onNodeMouseOut(d, nodeSelection, config, width) {\r\n    const labelGroup$1 = nodeSelection.select(`.${labelGroup}`);\r\n    if (config.labelExpandTrimmedOnHover || labelGroup$1.classed(hidden)) {\r\n        renderLabel(labelGroup$1, d, config, width, 0);\r\n    }\r\n    labelGroup$1.classed(forceShow, false);\r\n}\n\nexport { createNodes, onNodeMouseOut, onNodeMouseOver, removeNodes, renderNodeLabels, updateNodes };\n\n", "import { select } from 'd3-selection';\nimport { sankey } from 'd3-sankey';\nimport { max, extent, sum } from 'd3-array';\nimport { scaleLinear } from 'd3-scale';\nimport { ComponentCore } from '../../core/component/index.js';\nimport { GraphDataModel } from '../../data-models/graph.js';\nimport { Sizing } from '../../types/component.js';\nimport { Position } from '../../types/position.js';\nimport { VerticalAlign } from '../../types/text.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { getString, isNumber, getNumber, groupBy } from '../../utils/data.js';\nimport { getCSSVariableValueInPixels } from '../../utils/misc.js';\nimport { SankeyDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { background, links, nodes, link, nodeGroup, nodeExit } from './style.js';\nimport { SankeyLayout } from './types.js';\nimport { removeLinks, createLinks, updateLinks } from './modules/link.js';\nimport { removeNodes, createNodes, updateNodes, onNodeMouseOver, onNodeMouseOut } from './modules/node.js';\nimport { requiredLabelSpace, getLabelOrientation } from './modules/label.js';\n\nclass Sankey extends ComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = SankeyDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.datamodel = new GraphDataModel();\r\n        this._extendedWidth = undefined;\r\n        this._extendedHeight = undefined;\r\n        this._extendedHeightIncreased = undefined;\r\n        this._sankey = sankey();\r\n        this._highlightTimeoutId = null;\r\n        this._highlightActive = false;\r\n        this.events = {\r\n            [Sankey.selectors.nodeGroup]: {\r\n                mouseenter: this._onNodeMouseOver.bind(this),\r\n                mouseleave: this._onNodeMouseOut.bind(this),\r\n            },\r\n            [Sankey.selectors.node]: {\r\n                mouseenter: this._onNodeRectMouseOver.bind(this),\r\n                mouseleave: this._onNodeRectMouseOut.bind(this),\r\n            },\r\n            [Sankey.selectors.link]: {\r\n                mouseenter: this._onLinkMouseOver.bind(this),\r\n                mouseleave: this._onLinkMouseOut.bind(this),\r\n            },\r\n        };\r\n        if (config)\r\n            this.setConfig(config);\r\n        this._backgroundRect = this.g.append('rect').attr('class', background);\r\n        this._linksGroup = this.g.append('g').attr('class', links);\r\n        this._nodesGroup = this.g.append('g').attr('class', nodes);\r\n    }\r\n    get bleed() {\r\n        var _a;\r\n        const { config, datamodel: { nodes, links } } = this;\r\n        const labelFontSize = (_a = config.labelFontSize) !== null && _a !== void 0 ? _a : getCSSVariableValueInPixels('var(--vis-sankey-label-font-size)', this.element);\r\n        const labelSize = requiredLabelSpace(config.labelMaxWidth, labelFontSize);\r\n        let left = 0;\r\n        let right = 0;\r\n        // We pre-calculate sankey layout to get information about node labels placement and calculate bleed properly\r\n        // Potentially it can be a performance bottleneck for large layouts, but generally rendering of such layouts is much more computationally heavy\r\n        if (nodes.length) {\r\n            const sankeyProbeSize = 1000;\r\n            this._populateLinkAndNodeValues();\r\n            this._sankey.size([sankeyProbeSize, sankeyProbeSize]);\r\n            this._sankey({ nodes, links });\r\n            const maxDepth = max(nodes, d => d.depth);\r\n            const zeroDepthNodes = nodes.filter(d => d.depth === 0);\r\n            const maxDepthNodes = nodes.filter(d => d.depth === maxDepth);\r\n            left = zeroDepthNodes.some(d => getLabelOrientation(d, sankeyProbeSize, config.labelPosition) === Position.Left) ? labelSize.width : 0;\r\n            right = maxDepthNodes.some(d => getLabelOrientation(d, sankeyProbeSize, config.labelPosition) === Position.Right) ? labelSize.width : 0;\r\n        }\r\n        const top = config.labelVerticalAlign === VerticalAlign.Top ? 0\r\n            : config.labelVerticalAlign === VerticalAlign.Bottom ? labelSize.height\r\n                : labelSize.height / 2;\r\n        const bottom = config.labelVerticalAlign === VerticalAlign.Top ? labelSize.height\r\n            : config.labelVerticalAlign === VerticalAlign.Bottom ? 0\r\n                : labelSize.height / 2;\r\n        return { top, bottom, left, right };\r\n    }\r\n    setData(data) {\r\n        super.setData(data);\r\n        // Pre-calculate component size for Sizing.EXTEND\r\n        if ((this.sizing !== Sizing.Fit) || !this._hasLinks())\r\n            this._preCalculateComponentSize();\r\n    }\r\n    setConfig(config) {\r\n        super.setConfig(config);\r\n        // Pre-calculate component size for Sizing.EXTEND\r\n        if ((this.sizing !== Sizing.Fit) || !this._hasLinks())\r\n            this._preCalculateComponentSize();\r\n        // Using \"as any\" because typings are not full (\"@types/d3-sankey\": \"^0.11.2\")\r\n        const nodeId = ((d, i) => getString(d, this.config.id, i));\r\n        this._sankey.linkSort(this.config.linkSort);\r\n        this._sankey\r\n            .nodeId(nodeId)\r\n            .nodeWidth(this.config.nodeWidth)\r\n            .nodePadding(this.config.nodePadding)\r\n            .nodeAlign(SankeyLayout[this.config.nodeAlign])\r\n            .nodeSort(this.config.nodeSort)\r\n            .iterations(this.config.iterations);\r\n    }\r\n    _render(customDuration) {\r\n        const { config, bleed, datamodel: { nodes, links } } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        if ((nodes.length === 0) ||\r\n            (nodes.length === 1 && links.length > 0) ||\r\n            (nodes.length === 1 && !config.showSingleNode) ||\r\n            (nodes.length > 1 && links.length === 0)) {\r\n            this._linksGroup.selectAll(`.${link}`).call(removeLinks, duration);\r\n            this._nodesGroup.selectAll(`.${nodeGroup}`).call(removeNodes, config, duration);\r\n        }\r\n        // Prepare Layout\r\n        this._prepareLayout();\r\n        // Links\r\n        smartTransition(this._linksGroup, duration).attr('transform', `translate(${bleed.left},${bleed.top})`);\r\n        const linkSelection = this._linksGroup.selectAll(`.${link}`)\r\n            .data(links, (d, i) => { var _a; return (_a = config.id(d, i)) !== null && _a !== void 0 ? _a : i; });\r\n        const linkSelectionEnter = linkSelection.enter().append('g').attr('class', link);\r\n        linkSelectionEnter.call(createLinks);\r\n        linkSelection.merge(linkSelectionEnter).call(updateLinks, config, duration);\r\n        linkSelection.exit().call(removeLinks);\r\n        // Nodes\r\n        smartTransition(this._nodesGroup, duration).attr('transform', `translate(${bleed.left},${bleed.top})`);\r\n        const nodeSelection = this._nodesGroup.selectAll(`.${nodeGroup}`)\r\n            .data(nodes, (d, i) => { var _a; return (_a = config.id(d, i)) !== null && _a !== void 0 ? _a : i; });\r\n        const nodeSelectionEnter = nodeSelection.enter().append('g').attr('class', nodeGroup);\r\n        nodeSelectionEnter.call(createNodes, this.config, this._width, bleed);\r\n        nodeSelection.merge(nodeSelectionEnter).call(updateNodes, config, this._width, bleed, this._hasLinks(), duration);\r\n        nodeSelection.exit()\r\n            .attr('class', nodeExit)\r\n            .call(removeNodes, config, duration);\r\n        // Background\r\n        this._backgroundRect\r\n            .attr('width', this.getWidth())\r\n            .attr('height', this.getHeight())\r\n            .attr('opacity', 0);\r\n    }\r\n    _populateLinkAndNodeValues() {\r\n        const { config, datamodel } = this;\r\n        const nodes = datamodel.nodes;\r\n        const links = datamodel.links;\r\n        // For d3-sankey each link must be an object with the `value` property\r\n        links.forEach((link, i) => {\r\n            link.value = getNumber(link, d => getNumber(d, config.linkValue, i));\r\n        });\r\n        // Populating node.fixedValue for d3-sankey\r\n        nodes.forEach((node, i) => {\r\n            node.fixedValue = getNumber(node, config.nodeFixedValue, i);\r\n        });\r\n    }\r\n    _preCalculateComponentSize() {\r\n        const { bleed, config, datamodel } = this;\r\n        const nodes = datamodel.nodes;\r\n        if (nodes.length) {\r\n            this._populateLinkAndNodeValues();\r\n            this._sankey(datamodel);\r\n        }\r\n        const scaleExtent = extent(nodes, d => d.value || undefined);\r\n        const scaleRange = [config.nodeMinHeight, config.nodeMaxHeight];\r\n        const scale = scaleLinear().domain(scaleExtent).range(scaleRange).clamp(true);\r\n        nodes.forEach(n => { n._state.precalculatedHeight = scale(n.value) || config.nodeMinHeight; });\r\n        const groupedByColumn = groupBy(nodes, d => d.layer);\r\n        const values = Object.values(groupedByColumn)\r\n            .map((group) => sum(group.map(n => n._state.precalculatedHeight + config.nodePadding)) - config.nodePadding);\r\n        const height = max(values) || config.nodeMinHeight;\r\n        this._extendedHeight = height + bleed.top + bleed.bottom;\r\n        this._extendedWidth = Math.max(0, (config.nodeWidth + config.nodeHorizontalSpacing) * Object.keys(groupedByColumn).length - config.nodeHorizontalSpacing + bleed.left + bleed.right);\r\n    }\r\n    _prepareLayout() {\r\n        var _a, _b;\r\n        const { config, bleed, datamodel } = this;\r\n        const isExtendedSize = this.sizing === Sizing.Extend;\r\n        const sankeyHeight = this.sizing === Sizing.Fit ? this._height : this._extendedHeight;\r\n        const sankeyWidth = this.sizing === Sizing.Fit ? this._width : this._extendedWidth;\r\n        this._sankey\r\n            .size([\r\n            Math.max(sankeyWidth - bleed.left - bleed.right, 0),\r\n            Math.max(sankeyHeight - bleed.top - bleed.bottom, 0),\r\n        ]);\r\n        const nodes = datamodel.nodes;\r\n        const links = datamodel.links;\r\n        // If there are no links we manually calculate the visualization layout\r\n        if (!this._hasLinks()) {\r\n            let y = 0;\r\n            const nodesTotalHeight = sum(nodes, n => n._state.precalculatedHeight || 1);\r\n            for (const node of nodes) {\r\n                const sankeyHeight = this.getHeight() - bleed.top - bleed.bottom;\r\n                const nodeHeight = node._state.precalculatedHeight || 1;\r\n                const h = isExtendedSize ? nodeHeight : (sankeyHeight - config.nodePadding * (nodes.length - 1)) * nodeHeight / nodesTotalHeight;\r\n                node.width = Math.max(10, config.nodeWidth);\r\n                node.x0 = 0;\r\n                node.x1 = node.width;\r\n                node.y0 = y;\r\n                node.y1 = y + Math.max(1, h);\r\n                node.layer = 0;\r\n                y = node.y1 + config.nodePadding;\r\n            }\r\n            this._extendedHeightIncreased = undefined;\r\n            return;\r\n        }\r\n        // Calculate sankey\r\n        this._populateLinkAndNodeValues();\r\n        this._sankey({ nodes, links });\r\n        // Setting minimum node height\r\n        //   Default: 1px\r\n        //   Extended size nodes that have no links: config.nodeMinHeight\r\n        for (const node of nodes) {\r\n            const singleExtendedSize = isExtendedSize && !((_a = node.sourceLinks) === null || _a === void 0 ? void 0 : _a.length) && !((_b = node.targetLinks) === null || _b === void 0 ? void 0 : _b.length);\r\n            const h = Math.max(singleExtendedSize ? config.nodeMinHeight : 1, node.y1 - node.y0);\r\n            const y = (node.y0 + node.y1) / 2;\r\n            node.y0 = y - h / 2;\r\n            node.y1 = y + h / 2;\r\n        }\r\n        if (isExtendedSize) {\r\n            const height = max(nodes, d => d.y1);\r\n            this._extendedHeightIncreased = height + bleed.top + bleed.bottom;\r\n        }\r\n    }\r\n    getWidth() {\r\n        return this.sizing === Sizing.Fit ? this._width : (this._extendedWidth || 0);\r\n    }\r\n    getHeight() {\r\n        return this.sizing === Sizing.Fit ? this._height : Math.max(this._extendedHeightIncreased || 0, this._extendedHeight || 0);\r\n    }\r\n    getLayoutWidth() {\r\n        return this.sizing === Sizing.Fit ? this._width : this._extendedWidth;\r\n    }\r\n    getLayoutHeight() {\r\n        return this.sizing === Sizing.Fit ? this._height : (this._extendedHeightIncreased || this._extendedHeight);\r\n    }\r\n    getColumnCenters() {\r\n        const { datamodel } = this;\r\n        const nodes = datamodel.nodes;\r\n        const centers = nodes.reduce((pos, node) => {\r\n            const idx = node.layer;\r\n            if (!isFinite(pos[idx])) {\r\n                pos[idx] = (node.x0 + node.x1) / 2;\r\n            }\r\n            return pos;\r\n        }, []);\r\n        return centers;\r\n    }\r\n    highlightSubtree(node) {\r\n        const { config, datamodel } = this;\r\n        clearTimeout(this._highlightTimeoutId);\r\n        this._highlightTimeoutId = setTimeout(() => {\r\n            for (const n of datamodel.nodes)\r\n                n._state.greyout = true;\r\n            for (const l of datamodel.links)\r\n                l._state.greyout = true;\r\n            this.recursiveSetSubtreeState(node, 'sourceLinks', 'target', 'greyout', false);\r\n            this.recursiveSetSubtreeState(node, 'targetLinks', 'source', 'greyout', false);\r\n            this._render(config.highlightDuration);\r\n            this._highlightActive = true;\r\n        }, config.highlightDelay);\r\n    }\r\n    recursiveSetSubtreeState(node, linksKey, nodeKey, key, value) {\r\n        node._state[key] = value;\r\n        for (const l of node[linksKey]) {\r\n            l._state[key] = value;\r\n            this.recursiveSetSubtreeState(l[nodeKey], linksKey, nodeKey, key, value);\r\n        }\r\n    }\r\n    disableHighlight() {\r\n        const { config, datamodel } = this;\r\n        clearTimeout(this._highlightTimeoutId);\r\n        if (this._highlightActive) {\r\n            this._highlightActive = false;\r\n            for (const n of datamodel.nodes)\r\n                n._state.greyout = false;\r\n            for (const l of datamodel.links)\r\n                l._state.greyout = false;\r\n            this._render(config.highlightDuration);\r\n        }\r\n    }\r\n    _hasLinks() {\r\n        const { datamodel } = this;\r\n        return datamodel.links.length > 0;\r\n    }\r\n    _onNodeMouseOver(d, event) {\r\n        onNodeMouseOver(d, select(event.currentTarget), this.config, this._width);\r\n    }\r\n    _onNodeMouseOut(d, event) {\r\n        onNodeMouseOut(d, select(event.currentTarget), this.config, this._width);\r\n    }\r\n    _onNodeRectMouseOver(d) {\r\n        const { config } = this;\r\n        if (config.highlightSubtreeOnHover)\r\n            this.highlightSubtree(d);\r\n    }\r\n    _onNodeRectMouseOut(d) {\r\n        this.disableHighlight();\r\n    }\r\n    _onLinkMouseOver(d, event) {\r\n        const { config } = this;\r\n        if (config.highlightSubtreeOnHover)\r\n            this.highlightSubtree(d.target);\r\n    }\r\n    _onLinkMouseOut(d, event) {\r\n        this.disableHighlight();\r\n    }\r\n}\r\nSankey.selectors = style;\n\nexport { Sankey };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { CurveType } from '../../types/curve.js';\n\nconst AreaDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { color: undefined, curveType: CurveType.MonotoneX, baseline: () => 0, opacity: 1, cursor: null, minHeight1Px: false, minHeight: undefined });\n\nexport { AreaDefaultConfig };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst root = css `\n  label: area-component;\n`;\r\nconst globalStyles = injectGlobal `\n  :root {\n    --vis-area-cursor: default;\n    --vis-area-fill-opacity: 1;\n    --vis-area-stroke-color: none;\n    --vis-area-stroke-width: 0px;\n    --vis-area-stroke-dasharray: none;\n    --vis-area-stroke-opacity: 1;\n    --vis-area-hover-fill-opacity: none;\n    --vis-area-hover-stroke-width: none;\n\n    /* Dark Theme */\n    --vis-dark-area-stroke-color: none;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-area-stroke-color: var(--vis-dark-area-stroke-color);\n  }\n\n`;\r\nconst area = css `\n  label: area;\n  cursor: var(--vis-area-cursor);\n  fill-opacity: var(--vis-area-fill-opacity);\n  stroke-width: var(--vis-area-stroke-width);\n  stroke-dasharray: var(--vis-area-stroke-dasharray);\n  stroke: var(--vis-area-stroke-color);\n  stroke-opacity: var(--vis-area-stroke-opacity);\n\n  &:hover {\n    fill-opacity: var(--vis-area-hover-fill-opacity);\n    stroke-width: var(--vis-area-hover-stroke-width);\n  }\n`;\n\nexport { area, globalStyles, root };\n\n", "import { select } from 'd3-selection';\nimport { area } from 'd3-shape';\nimport { interpolatePath } from 'd3-interpolate-path';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { isNumber, isArray, getNumber, getStackedData, getString, filterDataByRange, getStackedExtent } from '../../utils/data.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { getColor } from '../../utils/color.js';\nimport { Curve } from '../../types/curve.js';\nimport { AreaDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { area as area$1 } from './style.js';\n\nclass Area extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = AreaDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.stacked = true;\r\n        this.events = {\r\n            [Area.selectors.area]: {},\r\n        };\r\n        if (config)\r\n            this.setConfig(config);\r\n        // Determine if the provided chart should be stacked\r\n        this.stacked = Array.isArray(this.config.y);\r\n    }\r\n    _render(customDuration) {\r\n        super._render(customDuration);\r\n        const { config, datamodel: { data } } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        const curveGen = Curve[config.curveType];\r\n        this._areaGen = area()\r\n            .x(d => d.x)\r\n            .y0(d => d.y0)\r\n            .y1(d => d.y1)\r\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n            // @ts-ignore\r\n            .curve(curveGen);\r\n        const yAccessors = (isArray(config.y) ? config.y : [config.y]);\r\n        const areaDataX = data.map((d, i) => this.xScale(getNumber(d, config.x, i)));\r\n        const stacked = getStackedData(data, config.baseline, yAccessors, this._prevNegative);\r\n        this._prevNegative = stacked.map(s => !!s.isMostlyNegative);\r\n        const minHeightCumulativeArray = [];\r\n        const stackedData = stacked.map(arr => arr.map((d, j) => {\r\n            var _a, _b;\r\n            const x = areaDataX[j];\r\n            const y0 = this.yScale(d[0]);\r\n            const y1 = this.yScale(d[1]);\r\n            const isNegativeArea = y1 > y0;\r\n            // Get cumulative adjustment and apply in the correct direction\r\n            const cumulative = minHeightCumulativeArray[j] || 0;\r\n            const adjustedY0 = isNegativeArea ? y0 + cumulative : y0 - cumulative;\r\n            const adjustedY1 = isNegativeArea ? y1 + cumulative : y1 - cumulative;\r\n            // Calculate height adjustment if needed\r\n            let heightAdjustment = 0;\r\n            if ((config.minHeight || config.minHeight1Px) &&\r\n                Math.abs(adjustedY1 - adjustedY0) < ((_a = config.minHeight) !== null && _a !== void 0 ? _a : 1)) {\r\n                heightAdjustment = ((_b = config.minHeight) !== null && _b !== void 0 ? _b : 1) - Math.abs(adjustedY1 - adjustedY0);\r\n                minHeightCumulativeArray[j] = cumulative + heightAdjustment;\r\n            }\r\n            return {\r\n                x,\r\n                y0: adjustedY0,\r\n                y1: isNegativeArea ? adjustedY1 + heightAdjustment : adjustedY1 - heightAdjustment,\r\n            };\r\n        }));\r\n        // We reverse the data in order to have the first areas to be displayed on top\r\n        //   for better visibility when they're close to zero\r\n        const areaMaxIdx = stackedData.length - 1;\r\n        const stackedDataReversed = stackedData.reverse();\r\n        const areas = this.g\r\n            .selectAll(`.${area$1}`)\r\n            .data(stackedDataReversed);\r\n        const areasEnter = areas.enter().append('path')\r\n            .attr('class', area$1)\r\n            .attr('d', d => this._areaGen(d) || this._emptyPath())\r\n            .style('opacity', 0)\r\n            .style('fill', (d, i) => getColor(data, config.color, areaMaxIdx - i));\r\n        const areasMerged = smartTransition(areasEnter.merge(areas), duration)\r\n            .style('opacity', (d, i) => {\r\n            const isDefined = d.some(p => (p.y0 - p.y1) !== 0);\r\n            return isDefined ? getNumber(data, config.opacity, areaMaxIdx - i) : 0;\r\n        })\r\n            .style('fill', (d, i) => getColor(data, config.color, areaMaxIdx - i))\r\n            .style('cursor', (d, i) => getString(data, config.cursor, areaMaxIdx - i));\r\n        if (duration) {\r\n            const transition = areasMerged;\r\n            transition.attrTween('d', (d, i, el) => {\r\n                const previous = select(el[i]).attr('d');\r\n                const next = this._areaGen(d) || this._emptyPath();\r\n                return interpolatePath(previous, next);\r\n            });\r\n        }\r\n        else {\r\n            areasMerged.attr('d', d => this._areaGen(d) || this._emptyPath());\r\n        }\r\n        smartTransition(areas.exit(), duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n    }\r\n    getYDataExtent(scaleByVisibleData) {\r\n        const { config, datamodel } = this;\r\n        const yAccessors = (isArray(config.y) ? config.y : [config.y]);\r\n        const xDomain = this.xScale.domain();\r\n        const data = scaleByVisibleData ? filterDataByRange(datamodel.data, xDomain, config.x, true) : datamodel.data;\r\n        return getStackedExtent(data, config.baseline, ...yAccessors);\r\n    }\r\n    _emptyPath() {\r\n        const xRange = this.xScale.range();\r\n        const yDomain = this.yScale.domain();\r\n        const y0 = this.yScale((yDomain[0] + yDomain[1]) / 2);\r\n        const y1 = y0;\r\n        return this._areaGen([\r\n            { y0, y1, x: xRange[0] },\r\n            { y0, y1, x: xRange[1] },\r\n        ]);\r\n    }\r\n}\r\nArea.selectors = style;\n\nexport { Area };\n\n", "export default x => () => x;\n", "export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n", "export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n", "export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n", "import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n", "export default function(x) {\n  return x;\n}\n", "import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n", "export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n", "import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\n\nexport default function(topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n", "import { cloneDeep, isNumber, isString, isObject } from '../utils/data.js';\nimport { CoreDataModel } from './core.js';\n\n// Utils\r\nclass MapGraphDataModel extends CoreDataModel {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._areas = [];\r\n        this._points = [];\r\n        this._links = [];\r\n        // Model configuration\r\n        this.pointId = n => n.id;\r\n        this.linkSource = l => l.source;\r\n        this.linkTarget = l => l.target;\r\n    }\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    set data(data) {\r\n        var _a, _b, _c;\r\n        if (!data)\r\n            return;\r\n        this._data = data;\r\n        this._areas = cloneDeep((_a = data === null || data === void 0 ? void 0 : data.areas) !== null && _a !== void 0 ? _a : []);\r\n        this._points = cloneDeep((_b = data === null || data === void 0 ? void 0 : data.points) !== null && _b !== void 0 ? _b : []);\r\n        this._links = cloneDeep((_c = data === null || data === void 0 ? void 0 : data.links) !== null && _c !== void 0 ? _c : []).reduce((arr, link) => {\r\n            const source = this.findPoint(this.points, this.linkSource(link));\r\n            const target = this.findPoint(this.points, this.linkTarget(link));\r\n            if (source && target)\r\n                arr.push({ source, target });\r\n            return arr;\r\n        }, []);\r\n    }\r\n    get areas() {\r\n        return this._areas;\r\n    }\r\n    get points() {\r\n        return this._points;\r\n    }\r\n    get links() {\r\n        return this._links;\r\n    }\r\n    findPoint(points, pointIdentifier) {\r\n        let foundPoint;\r\n        if (isNumber(pointIdentifier))\r\n            foundPoint = points[pointIdentifier];\r\n        else if (isString(pointIdentifier))\r\n            foundPoint = points.find((node, i) => this.pointId(node, i) === pointIdentifier);\r\n        else if (isObject(pointIdentifier))\r\n            foundPoint = points.find(node => node === pointIdentifier);\r\n        if (!foundPoint) {\r\n            console.warn(`Point ${pointIdentifier} is missing from the points list`);\r\n        }\r\n        return foundPoint;\r\n    }\r\n}\n\nexport { MapGraphDataModel };\n\n", "import { ComponentDefaultConfig } from '../../core/component/config.js';\nimport { MapPointLabelPosition } from './types.js';\n\nconst TopoJSONMapDefaultConfig = Object.assign(Object.assign({}, ComponentDefaultConfig), { projection: undefined, duration: 1500, topojson: undefined, mapFeatureName: 'countries', mapFitToPoints: false, zoomExtent: [0.5, 6], zoomDuration: 400, disableZoom: false, zoomFactor: undefined, linkWidth: (d) => { var _a; return (_a = d.width) !== null && _a !== void 0 ? _a : 1; }, linkColor: (d) => { var _a; return (_a = d.color) !== null && _a !== void 0 ? _a : null; }, linkCursor: null, linkId: (d, i) => { var _a; return `${(_a = d.id) !== null && _a !== void 0 ? _a : i}`; }, linkSource: (d) => d.source, linkTarget: (d) => d.target, areaId: (d) => { var _a; return (_a = d.id) !== null && _a !== void 0 ? _a : ''; }, areaColor: (d) => { var _a; return (_a = d.color) !== null && _a !== void 0 ? _a : null; }, areaCursor: null, longitude: (d) => d.longitude, latitude: (d) => d.latitude, pointColor: (d) => { var _a; return (_a = d.color) !== null && _a !== void 0 ? _a : null; }, pointRadius: (d) => { var _a; return (_a = d.radius) !== null && _a !== void 0 ? _a : 8; }, pointStrokeWidth: (d) => { var _a; return (_a = d.strokeWidth) !== null && _a !== void 0 ? _a : 0; }, pointCursor: null, pointLabel: undefined, pointLabelPosition: MapPointLabelPosition.Bottom, pointLabelTextBrightnessRatio: 0.65, pointId: (d) => d.id, heatmapMode: false, heatmapModeBlurStdDeviation: 8, heatmapModeZoomLevelThreshold: 2.5 });\n\nexport { TopoJSONMapDefaultConfig };\n\n", "import { getNumber } from '../../utils/data.js';\n\nfunction getLonLat(d, pointLongitude, pointLatitude) {\r\n    const lat = getNumber(d, pointLatitude);\r\n    const lon = getNumber(d, pointLongitude);\r\n    return [lon, lat];\r\n}\r\nfunction arc(source, target, curvature) {\r\n    if (!target || !source)\r\n        return 'M0,0,l0,0z';\r\n    const d = 3;\r\n    const angleOffset = curvature || 0;\r\n    const s = { x: source[0], y: source[1] };\r\n    const t = { x: target[0], y: target[1] };\r\n    const ds = { x: (t.x - s.x) / d, y: (t.y - s.y) / d };\r\n    const dt = { x: (s.x - t.x) / d, y: (s.y - t.y) / d };\r\n    let angle = 0.16667 * Math.PI * (1 + angleOffset);\r\n    if (s.x < t.x)\r\n        angle = -angle;\r\n    const cs = Math.cos(angle);\r\n    const ss = Math.sin(angle);\r\n    const ct = Math.cos(-angle);\r\n    const st = Math.sin(-angle);\r\n    const dds = { x: (cs * ds.x) - (ss * ds.y), y: (ss * ds.x) + (cs * ds.y) };\r\n    const ddt = { x: (ct * dt.x) - (st * dt.y), y: (st * dt.x) + (ct * dt.y) };\r\n    return `M${s.x},${s.y} C${s.x + dds.x},${s.y + dds.y} ${t.x + ddt.x},${t.y + ddt.y} ${t.x},${t.y}`;\r\n}\n\nexport { arc, getLonLat };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst root = css `\n  label: topojson-map-component;\n\n  &.draggable {\n    &:active {\n      cursor: grabbing;\n      cursor: -moz-grabbing;\n      cursor: -webkit-grabbing;\n    }\n  }\n`;\r\nconst variables = injectGlobal `\n  :root {\n    --vis-map-feature-color: #dce3eb;\n    --vis-map-boundary-color: #ffffff;\n\n    --vis-map-point-label-text-color-dark: #5b5f6d;\n    --vis-map-point-label-text-color-light: #fff;\n\n    // Undefined by default to allow proper fallback to var(--vis-font-family)\n    /* --vis-map-point-label-font-family: */\n    --vis-map-point-label-font-weight: 600;\n    --vis-map-point-label-font-size: 12px;\n\n    /* Dark Theme */\n    --vis-dark-map-feature-color: #5b5f6d;\n    --vis-dark-map-boundary-color: #2a2a2a;\n    --vis-dark-map-point-label-text-color-dark: #fff;\n    --vis-dark-map-point-label-text-color-light:#5b5f6d;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-map-feature-color: var(--vis-dark-map-feature-color);\n    --vis-map-boundary-color: var(--vis-dark-map-boundary-color);\n    --vis-map-point-label-text-color-dark: var(--vis-dark-map-point-label-text-color-dark);\n    --vis-map-point-label-text-color-light: var(--vis-dark-map-point-label-text-color-light);\n  }\n`;\r\nconst features = css `\n  label: features;\n`;\r\nconst feature = css `\n  label: feature;\n  fill: var(--vis-map-feature-color);\n  stroke: var(--vis-map-boundary-color);\n  stroke-opacity: 0.5;\n`;\r\nconst background = css `\n  label: background;\n\n  fill-opacity: 0;\n  pointer-events: all;\n`;\r\nconst points = css `\n  label: points;\n`;\r\nconst point = css `\n  label: point;\n`;\r\nconst pointCircle = css `\n  label: point;\n\n  stroke-opacity: 0.4;\n  pointer-events: fill;\n\n  &:active {\n    cursor: default;\n  }\n`;\r\nconst pointLabel = css `\n  label: label;\n\n  text-anchor: middle;\n  cursor: default;\n  pointer-events:none;\n\n  font-size: var(--vis-map-point-label-font-size);\n  font-family: var(--vis-map-point-label-font-family, var(--vis-font-family));\n  font-weight: var(--vis-map-point-label-font-weight);\n  fill: var(--vis-map-point-label-text-color-dark);\n`;\r\nconst links = css `\n  label: links;\n`;\r\nconst link = css `\n  label: link;\n\n  fill: none;\n  stroke-opacity: .50;\n  stroke-linecap: round;\n\n  &:hover {\n    stroke-opacity: .90;\n  }\n`;\n\nexport { background, feature, features, link, links, point, pointCircle, pointLabel, points, root, variables };\n\n", "import { zoom, zoomIdentity } from 'd3-zoom';\nimport { timeout } from 'd3-timer';\nimport { geoPath } from 'd3-geo';\nimport { color } from 'd3-color';\nimport { feature } from 'topojson-client';\nimport { ComponentCore } from '../../core/component/index.js';\nimport { MapGraphDataModel } from '../../data-models/map-graph.js';\nimport { isNumber, getString, getNumber, clamp } from '../../utils/data.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { getColor, hexToBrightness } from '../../utils/color.js';\nimport { isStringCSSVariable, getCSSVariableValue } from '../../utils/misc.js';\nimport { MapProjection, MapPointLabelPosition } from './types.js';\nimport { TopoJSONMapDefaultConfig } from './config.js';\nimport { getLonLat, arc } from './utils.js';\nimport * as style from './style.js';\nimport { background, features, links, points, feature as feature$1, link, point, pointCircle, pointLabel } from './style.js';\n\nclass TopoJSONMap extends ComponentCore {\r\n    constructor(config, data) {\r\n        super();\r\n        this._defaultConfig = TopoJSONMapDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.datamodel = new MapGraphDataModel();\r\n        this._firstRender = true;\r\n        this._isResizing = false;\r\n        this._initialScale = undefined;\r\n        this._currentZoomLevel = undefined;\r\n        this._path = geoPath();\r\n        this._zoomBehavior = zoom();\r\n        this._backgroundRect = this.g.append('rect').attr('class', background);\r\n        this._featuresGroup = this.g.append('g').attr('class', features);\r\n        this._linksGroup = this.g.append('g').attr('class', links);\r\n        this._pointsGroup = this.g.append('g').attr('class', points);\r\n        this.events = {\r\n            [TopoJSONMap.selectors.point]: {},\r\n            [TopoJSONMap.selectors.feature]: {},\r\n        };\r\n        this._zoomBehavior.on('zoom', this._onZoom.bind(this));\r\n        if (config)\r\n            this.setConfig(config);\r\n        if (data)\r\n            this.setData(data);\r\n        this.g.append('defs')\r\n            .append('filter')\r\n            .attr('id', 'heatmapFilter')\r\n            .html(`\n        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"${this.config.heatmapModeBlurStdDeviation}\" color-interpolation-filters=\"sRGB\" result=\"blur\"></feGaussianBlur>\n        <feColorMatrix class=\"blurValues\" in=\"blur\" mode=\"matrix\" values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 20 -4\"></feColorMatrix>\n      `);\r\n    }\r\n    setData(data) {\r\n        const { config } = this;\r\n        this.datamodel.pointId = config.pointId;\r\n        this.datamodel.linkSource = config.linkSource;\r\n        this.datamodel.linkTarget = config.linkTarget;\r\n        this.datamodel.data = data;\r\n        // If there was a data change and mapFitToPoints is enabled, we will need to re-fit the map\r\n        this._firstRender = this._firstRender || config.mapFitToPoints;\r\n    }\r\n    setConfig(config) {\r\n        var _a;\r\n        super.setConfig(config);\r\n        // Setting the default here instead of defaultConfig to prevent mutation from other TopoJSONMap instances\r\n        const newProjection = (_a = this.config.projection) !== null && _a !== void 0 ? _a : MapProjection.Kavrayskiy7();\r\n        if (this._projection) {\r\n            newProjection.scale(this._projection.scale()).translate(this._projection.translate());\r\n        }\r\n        this._projection = newProjection;\r\n    }\r\n    _render(customDuration) {\r\n        const { config } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        this._renderBackground();\r\n        this._renderMap(duration);\r\n        this._renderGroups(duration);\r\n        this._renderLinks(duration);\r\n        this._renderPoints(duration);\r\n        // When animation is running we need to temporary disable zoom behaviour\r\n        if (duration && !config.disableZoom) {\r\n            this.g.on('.zoom', null);\r\n            timeout(() => {\r\n                this.g.call(this._zoomBehavior);\r\n            }, duration);\r\n        }\r\n        // When zoom behaviour is active we assign the `draggable` class to show the grabbing cursor\r\n        this.g.classed('draggable', !config.disableZoom);\r\n        this._firstRender = false;\r\n    }\r\n    _renderBackground() {\r\n        this._backgroundRect\r\n            .attr('width', '100%')\r\n            .attr('height', '100%')\r\n            .attr('transform', `translate(${-this.bleed.left}, ${-this.bleed.top})`);\r\n    }\r\n    _renderGroups(duration) {\r\n        const transformString = this._transform.toString();\r\n        smartTransition(this._featuresGroup, duration)\r\n            .attr('transform', transformString)\r\n            .attr('stroke-width', 1 / this._currentZoomLevel);\r\n        smartTransition(this._linksGroup, duration)\r\n            .attr('transform', transformString);\r\n        smartTransition(this._pointsGroup, duration)\r\n            .attr('transform', transformString);\r\n    }\r\n    _renderMap(duration) {\r\n        var _a, _b, _c;\r\n        const { bleed, config, datamodel } = this;\r\n        this.g.attr('transform', `translate(${bleed.left}, ${bleed.top})`);\r\n        const mapData = config.topojson;\r\n        const featureName = config.mapFeatureName;\r\n        const featureObject = (_a = mapData === null || mapData === void 0 ? void 0 : mapData.objects) === null || _a === void 0 ? void 0 : _a[featureName];\r\n        if (!featureObject)\r\n            return;\r\n        this._featureCollection = feature(mapData, featureObject);\r\n        const featureData = ((_c = (_b = this._featureCollection) === null || _b === void 0 ? void 0 : _b.features) !== null && _c !== void 0 ? _c : []);\r\n        if (this._firstRender) {\r\n            // Rendering the map for the first time.\r\n            this._projection.fitExtent([[0, 0], [this._width, this._height]], this._featureCollection);\r\n            this._initialScale = this._projection.scale();\r\n            this._center = this._projection.translate();\r\n            if (config.mapFitToPoints) {\r\n                this._fitToPoints();\r\n            }\r\n            const zoomExtent = config.zoomExtent;\r\n            this._zoomBehavior.scaleExtent([zoomExtent[0] * this._initialScale, zoomExtent[1] * this._initialScale]);\r\n            this.setZoom(config.zoomFactor || 1);\r\n            if (!config.disableZoom) {\r\n                this.g.call(this._zoomBehavior);\r\n                this._applyZoom();\r\n            }\r\n            this._prevWidth = this._width;\r\n            this._prevHeight = this._height;\r\n        }\r\n        if (this._prevWidth !== this._width || this._prevHeight !== this._height) {\r\n            this._onResize();\r\n        }\r\n        this._path.projection(this._projection);\r\n        // Merge passed area data and map feature data\r\n        const areaData = datamodel.areas;\r\n        areaData.forEach(a => {\r\n            const feature = featureData.find(f => f.id.toString() === getString(a, config.areaId).toString());\r\n            if (feature)\r\n                feature.data = a;\r\n            else if (this._firstRender)\r\n                console.warn(`Can't find feature by area code ${getString(a, config.areaId)}`);\r\n        });\r\n        const features = this._featuresGroup\r\n            .selectAll(`.${feature$1}`)\r\n            .data(featureData);\r\n        const featuresEnter = features.enter().append('path').attr('class', feature$1);\r\n        smartTransition(featuresEnter.merge(features), duration)\r\n            .attr('d', this._path)\r\n            .style('fill', (d, i) => d.data ? getColor(d.data, config.areaColor, i) : null)\r\n            .style('cursor', d => d.data ? getString(d.data, config.areaCursor) : null);\r\n        features.exit().remove();\r\n    }\r\n    _renderLinks(duration) {\r\n        const { config, datamodel } = this;\r\n        const links = datamodel.links;\r\n        const edges = this._linksGroup\r\n            .selectAll(`.${link}`)\r\n            .data(links, (d, i) => getString(d, config.linkId, i));\r\n        const edgesEnter = edges.enter().append('path').attr('class', link)\r\n            .style('stroke-width', 0);\r\n        smartTransition(edgesEnter.merge(edges), duration)\r\n            .attr('d', link => {\r\n            const source = this._projection(getLonLat(link.source, config.longitude, config.latitude));\r\n            const target = this._projection(getLonLat(link.target, config.longitude, config.latitude));\r\n            return arc(source, target);\r\n        })\r\n            .style('stroke-width', link => getNumber(link, config.linkWidth) / this._currentZoomLevel)\r\n            .style('cursor', link => getString(link, config.linkCursor))\r\n            .style('stroke', (link, i) => getColor(link, config.linkColor, i));\r\n        edges.exit().remove();\r\n    }\r\n    _renderPoints(duration) {\r\n        const { config, datamodel } = this;\r\n        const pointData = datamodel.points;\r\n        const points = this._pointsGroup\r\n            .selectAll(`.${point}`)\r\n            .data(pointData, (d, i) => getString(d, config.pointId, i));\r\n        // Enter\r\n        const pointsEnter = points.enter().append('g').attr('class', point)\r\n            .attr('transform', d => {\r\n            const pos = this._projection(getLonLat(d, config.longitude, config.latitude));\r\n            return `translate(${pos[0]},${pos[1]})`;\r\n        })\r\n            .style('opacity', 0);\r\n        pointsEnter.append('circle').attr('class', pointCircle)\r\n            .attr('r', 0)\r\n            .style('fill', (d, i) => getColor(d, config.pointColor, i))\r\n            .style('stroke-width', d => getNumber(d, config.pointStrokeWidth));\r\n        pointsEnter.append('text').attr('class', pointLabel)\r\n            .style('opacity', 0);\r\n        // Update\r\n        const pointsMerged = pointsEnter.merge(points);\r\n        smartTransition(pointsMerged, duration)\r\n            .attr('transform', d => {\r\n            const pos = this._projection(getLonLat(d, config.longitude, config.latitude));\r\n            return `translate(${pos[0]},${pos[1]})`;\r\n        })\r\n            .style('cursor', d => getString(d, config.pointCursor))\r\n            .style('opacity', 1);\r\n        smartTransition(pointsMerged.select(`.${pointCircle}`), duration)\r\n            .attr('r', d => getNumber(d, config.pointRadius) / this._currentZoomLevel)\r\n            .style('fill', (d, i) => getColor(d, config.pointColor, i))\r\n            .style('stroke', (d, i) => getColor(d, config.pointColor, i))\r\n            .style('stroke-width', d => getNumber(d, config.pointStrokeWidth) / this._currentZoomLevel);\r\n        const pointLabelsMerged = pointsMerged.select(`.${pointLabel}`);\r\n        pointLabelsMerged\r\n            .text(d => { var _a; return (_a = getString(d, config.pointLabel)) !== null && _a !== void 0 ? _a : ''; })\r\n            .style('font-size', d => {\r\n            if (config.pointLabelPosition === MapPointLabelPosition.Bottom) {\r\n                return `calc(var(--vis-map-point-label-font-size) / ${this._currentZoomLevel}`;\r\n            }\r\n            const pointDiameter = 2 * getNumber(d, config.pointRadius);\r\n            const pointLabelText = getString(d, config.pointLabel) || '';\r\n            const textLength = pointLabelText.length;\r\n            const fontSize = 0.5 * pointDiameter / Math.pow(textLength, 0.4);\r\n            return clamp(fontSize, fontSize, 16);\r\n        })\r\n            .attr('y', d => {\r\n            if (config.pointLabelPosition === MapPointLabelPosition.Center)\r\n                return null;\r\n            const pointRadius = getNumber(d, config.pointRadius) / this._currentZoomLevel;\r\n            return pointRadius;\r\n        })\r\n            .attr('dy', config.pointLabelPosition === MapPointLabelPosition.Center ? '0.32em' : '1em');\r\n        smartTransition(pointLabelsMerged, duration)\r\n            .style('fill', (d, i) => {\r\n            var _a;\r\n            if (config.pointLabelPosition === MapPointLabelPosition.Bottom)\r\n                return null;\r\n            const pointColor = getColor(d, config.pointColor, i);\r\n            const hex = (_a = color(isStringCSSVariable(pointColor) ? getCSSVariableValue(pointColor, this.element) : pointColor)) === null || _a === void 0 ? void 0 : _a.hex();\r\n            if (!hex)\r\n                return null;\r\n            const brightness = hexToBrightness(hex);\r\n            return brightness > config.pointLabelTextBrightnessRatio ? 'var(--vis-map-point-label-text-color-dark)' : 'var(--vis-map-point-label-text-color-light)';\r\n        })\r\n            .style('opacity', 1);\r\n        // Exit\r\n        points.exit().remove();\r\n        // Heatmap\r\n        this._pointsGroup.style('filter', (config.heatmapMode && this._currentZoomLevel < config.heatmapModeZoomLevelThreshold) ? 'url(#heatmapFilter)' : null);\r\n        this._pointsGroup.selectAll(`.${pointLabel}`).style('display', (config.heatmapMode && (this._currentZoomLevel < config.heatmapModeZoomLevelThreshold)) ? 'none' : null);\r\n    }\r\n    _fitToPoints(points, pad = 0.1) {\r\n        const { config, datamodel } = this;\r\n        const pointData = points || datamodel.points;\r\n        if (pointData.length === 0)\r\n            return;\r\n        this.fitView();\r\n        const featureCollection = {\r\n            type: 'FeatureCollection',\r\n            features: [{\r\n                    type: 'Feature',\r\n                    properties: {},\r\n                    geometry: {\r\n                        type: 'MultiPoint',\r\n                        coordinates: pointData.map(p => {\r\n                            return [\r\n                                getNumber(p, d => getNumber(d, config.longitude)),\r\n                                getNumber(p, d => getNumber(d, config.latitude)),\r\n                            ];\r\n                        }),\r\n                    },\r\n                }],\r\n        };\r\n        this._projection.fitExtent([\r\n            [this._width * pad, this._height * pad],\r\n            [this._width * (1 - pad), this._height * (1 - pad)],\r\n        ], featureCollection);\r\n        const maxScale = config.zoomExtent[1] * this._initialScale;\r\n        const fittedScale = this._projection.scale();\r\n        if (fittedScale > maxScale) {\r\n            const fittedTranslate = this._projection.translate();\r\n            const scaleRatio = maxScale / fittedScale;\r\n            this._projection.scale(maxScale);\r\n            this._projection.translate([\r\n                this._width / 2 - (this._width / 2 - fittedTranslate[0]) * scaleRatio,\r\n                this._height / 2 - (this._height / 2 - fittedTranslate[1]) * scaleRatio,\r\n            ]);\r\n        }\r\n        // If we don't update the center, the next zoom will be centered around the previous value\r\n        this._center = this._projection.translate();\r\n        this._applyZoom();\r\n    }\r\n    _applyZoom() {\r\n        var _a;\r\n        const translate = (_a = this._center) !== null && _a !== void 0 ? _a : this._projection.translate();\r\n        const scale = this._initialScale * this._currentZoomLevel;\r\n        this.g.call(this._zoomBehavior.transform, zoomIdentity.translate(translate[0], translate[1]).scale(scale));\r\n    }\r\n    _onResize() {\r\n        this._isResizing = true;\r\n        const prevTranslate = this._projection.translate();\r\n        this._projection.fitExtent([[0, 0], [this._width, this._height]], this._featureCollection);\r\n        this._initialScale = this._projection.scale();\r\n        this._center = [\r\n            this._projection.translate()[0] * this._center[0] / prevTranslate[0],\r\n            this._projection.translate()[1] * this._center[1] / prevTranslate[1],\r\n        ];\r\n        this._applyZoom();\r\n        this._isResizing = false;\r\n        this._prevWidth = this._width;\r\n        this._prevHeight = this._height;\r\n    }\r\n    _onZoom(event) {\r\n        if (this._firstRender)\r\n            return; // To prevent double render because of binding zoom behaviour\r\n        const isMouseEvent = event.sourceEvent !== undefined;\r\n        const isExternalEvent = !(event === null || event === void 0 ? void 0 : event.sourceEvent) && !this._isResizing;\r\n        window.cancelAnimationFrame(this._animFrameId);\r\n        this._animFrameId = window.requestAnimationFrame(this._onZoomHandler.bind(this, event.transform, isMouseEvent, isExternalEvent));\r\n        if (isMouseEvent) {\r\n            // Update the center coordinate so that the next call to _applyZoom()\r\n            // will zoom with respect to the current view\r\n            this._center = [event.transform.x, event.transform.y];\r\n        }\r\n        this._currentZoomLevel = ((event === null || event === void 0 ? void 0 : event.transform.k) / this._initialScale) || 1;\r\n    }\r\n    _onZoomHandler(transform, isMouseEvent, isExternalEvent) {\r\n        const scale = transform.k / this._initialScale || 1;\r\n        const center = this._projection.translate();\r\n        this._transform = zoomIdentity\r\n            .translate(transform.x - center[0] * scale, transform.y - center[1] * scale)\r\n            .scale(scale);\r\n        const customDuration = isExternalEvent\r\n            ? this.config.zoomDuration\r\n            : (isMouseEvent ? 0 : null);\r\n        // Call render functions that depend on this._transform\r\n        this._renderGroups(customDuration);\r\n        this._renderLinks(customDuration);\r\n        this._renderPoints(customDuration);\r\n    }\r\n    zoomIn(increment = 0.5) {\r\n        this.setZoom(this._currentZoomLevel + increment);\r\n    }\r\n    zoomOut(increment = 0.5) {\r\n        this.setZoom(this._currentZoomLevel - increment);\r\n    }\r\n    setZoom(zoomLevel) {\r\n        const { config } = this;\r\n        this._currentZoomLevel = clamp(zoomLevel, config.zoomExtent[0], config.zoomExtent[1]);\r\n        this._transform = zoomIdentity\r\n            .translate(this._center[0] * (1 - this._currentZoomLevel), this._center[1] * (1 - this._currentZoomLevel))\r\n            .scale(this._currentZoomLevel);\r\n        // We are using this._applyZoom() instead of directly calling this._render(config.zoomDuration) because\r\n        // we've to \"attach\" new transform to the map group element. Otherwise zoomBehavior  will not know\r\n        // that the zoom state has changed\r\n        this._applyZoom();\r\n    }\r\n    fitView() {\r\n        var _a;\r\n        this._projection.fitExtent([[0, 0], [this._width, this._height]], this._featureCollection);\r\n        this._currentZoomLevel = (((_a = this._projection) === null || _a === void 0 ? void 0 : _a.scale()) / this._initialScale) || 1;\r\n        this._center = this._projection.translate();\r\n        // We are using this._applyZoom() instead of directly calling this._render(config.zoomDuration) because\r\n        // we've to \"attach\" new transform to the map group element. Otherwise zoomBehavior  will not know\r\n        // that the zoom state has changed\r\n        this._applyZoom();\r\n    }\r\n    destroy() {\r\n        window.cancelAnimationFrame(this._animFrameId);\r\n    }\r\n}\r\nTopoJSONMap.selectors = style;\n\nexport { TopoJSONMap };\n\n", "function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n", "export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n", "export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n", "export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n", "export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n", "export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n", "export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n", "import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n", "export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n", "export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n", "export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array, random) {\n  let m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n", "import {shuffle} from \"../array.js\";\nimport lcg from \"../lcg.js\";\n\nexport default function(circles) {\n  return packEncloseRandom(circles, lcg());\n}\n\nexport function packEncloseRandom(circles, random) {\n  var i = 0, n = (circles = shuffle(Array.from(circles), random)).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(Math.abs(A) > 1e-6 ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n", "import array from \"../array.js\";\nimport lcg from \"../lcg.js\";\nimport {packEncloseRandom} from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packSiblingsRandom(circles, random) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = packEncloseRandom(a, random);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packSiblingsRandom(circles, lcg());\n  return circles;\n}\n", "export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n", "import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n", "import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n", "import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n", "import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n", "import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n", "import { max, min } from 'd3-array';\nimport { getNumber } from './data.js';\n\nfunction getDataLatLngBounds(data, pointLatitude, pointLongitude, paddingDegrees = 1) {\r\n    const northWest = {\r\n        lat: max(data !== null && data !== void 0 ? data : [], d => getNumber(d, pointLatitude)),\r\n        lng: min(data !== null && data !== void 0 ? data : [], d => getNumber(d, pointLongitude)),\r\n    };\r\n    const southEast = {\r\n        lat: min(data !== null && data !== void 0 ? data : [], d => getNumber(d, pointLatitude)),\r\n        lng: max(data !== null && data !== void 0 ? data : [], d => getNumber(d, pointLongitude)),\r\n    };\r\n    return [\r\n        [northWest.lat + paddingDegrees || 90, northWest.lng - paddingDegrees || -180],\r\n        [southEast.lat - paddingDegrees || -70, southEast.lng + paddingDegrees || 180],\r\n    ];\r\n}\n\nexport { getDataLatLngBounds };\n\n", "import { CoreDataModel } from './core.js';\nimport { getDataLatLngBounds } from '../utils/map.js';\n\n// Core\r\nclass MapDataModel extends CoreDataModel {\r\n    getDataLatLngBounds(pointLatitude, pointLongitude, paddingDegrees = 1) {\r\n        return getDataLatLngBounds(this.data, pointLatitude, pointLongitude, paddingDegrees);\r\n    }\r\n}\n\nexport { MapDataModel };\n\n", "import { throttle } from '../../../utils/data.js';\n\n// Utils\r\nfunction constraintMapView(map, latMin = -75, latMax = 85) {\r\n    const bounds = map.getBounds();\r\n    const northEast = bounds.getNorthEast();\r\n    const southWest = bounds.getSouthWest();\r\n    if (northEast.lat > latMax && southWest.lat < latMin) {\r\n        map.fitBounds([\r\n            [latMin, 0],\r\n            [latMax, 0],\r\n        ]);\r\n    }\r\n}\r\nfunction mapboxglWheelEvent(map, layer, event) {\r\n    const { deltaY } = event;\r\n    if (!layer || !layer.getMaplibreMap)\r\n        return;\r\n    const mapboxmap = layer.getMaplibreMap();\r\n    const delta = deltaY * -1;\r\n    // Prevent Map from being zoomed-out too far away\r\n    const bounds = map.getBounds();\r\n    const northEast = bounds.getNorthEast();\r\n    const southWest = bounds.getSouthWest();\r\n    const latMin = -70;\r\n    const latMax = 80;\r\n    if (delta < 0 && northEast.lat > latMax && southWest.lat < latMin) {\r\n        constraintMapView(map);\r\n        return;\r\n    }\r\n    const zoom = mapboxmap.getZoom() + delta * 0.001;\r\n    const xy = map.mouseEventToLayerPoint(event);\r\n    map.setZoomAround(xy, zoom + 1, { animate: false });\r\n}\r\nconst mapboxglWheelEventThrottled = throttle(mapboxglWheelEvent, 32);\r\nconst constraintMapViewThrottled = throttle(constraintMapView, 1000);\n\nexport { constraintMapView, constraintMapViewThrottled, mapboxglWheelEvent, mapboxglWheelEventThrottled };\n\n", "\nexport default function sortKD(ids, coords, nodeSize, left, right, depth) {\n    if (right - left <= nodeSize) return;\n\n    const m = (left + right) >> 1;\n\n    select(ids, coords, m, left, right, depth % 2);\n\n    sortKD(ids, coords, nodeSize, left, m - 1, depth + 1);\n    sortKD(ids, coords, nodeSize, m + 1, right, depth + 1);\n}\n\nfunction select(ids, coords, k, left, right, inc) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            const n = right - left + 1;\n            const m = k - left + 1;\n            const z = Math.log(n);\n            const s = 0.5 * Math.exp(2 * z / 3);\n            const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            select(ids, coords, k, newLeft, newRight, inc);\n        }\n\n        const t = coords[2 * k + inc];\n        let i = left;\n        let j = right;\n\n        swapItem(ids, coords, left, k);\n        if (coords[2 * right + inc] > t) swapItem(ids, coords, left, right);\n\n        while (i < j) {\n            swapItem(ids, coords, i, j);\n            i++;\n            j--;\n            while (coords[2 * i + inc] < t) i++;\n            while (coords[2 * j + inc] > t) j--;\n        }\n\n        if (coords[2 * left + inc] === t) swapItem(ids, coords, left, j);\n        else {\n            j++;\n            swapItem(ids, coords, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swapItem(ids, coords, i, j) {\n    swap(ids, i, j);\n    swap(coords, 2 * i, 2 * j);\n    swap(coords, 2 * i + 1, 2 * j + 1);\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n", "\nexport default function range(ids, coords, minX, minY, maxX, maxY, nodeSize) {\n    const stack = [0, ids.length - 1, 0];\n    const result = [];\n    let x, y;\n\n    while (stack.length) {\n        const axis = stack.pop();\n        const right = stack.pop();\n        const left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (let i = left; i <= right; i++) {\n                x = coords[2 * i];\n                y = coords[2 * i + 1];\n                if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[i]);\n            }\n            continue;\n        }\n\n        const m = Math.floor((left + right) / 2);\n\n        x = coords[2 * m];\n        y = coords[2 * m + 1];\n\n        if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[m]);\n\n        const nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? minX <= x : minY <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? maxX >= x : maxY >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n", "\nexport default function within(ids, coords, qx, qy, r, nodeSize) {\n    const stack = [0, ids.length - 1, 0];\n    const result = [];\n    const r2 = r * r;\n\n    while (stack.length) {\n        const axis = stack.pop();\n        const right = stack.pop();\n        const left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (let i = left; i <= right; i++) {\n                if (sqDist(coords[2 * i], coords[2 * i + 1], qx, qy) <= r2) result.push(ids[i]);\n            }\n            continue;\n        }\n\n        const m = Math.floor((left + right) / 2);\n\n        const x = coords[2 * m];\n        const y = coords[2 * m + 1];\n\n        if (sqDist(x, y, qx, qy) <= r2) result.push(ids[m]);\n\n        const nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? qx - r <= x : qy - r <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? qx + r >= x : qy + r >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n\nfunction sqDist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n", "\nimport sort from './sort';\nimport range from './range';\nimport within from './within';\n\nconst defaultGetX = p => p[0];\nconst defaultGetY = p => p[1];\n\nexport default class KDBush {\n    constructor(points, getX = defaultGetX, getY = defaultGetY, nodeSize = 64, ArrayType = Float64Array) {\n        this.nodeSize = nodeSize;\n        this.points = points;\n\n        const IndexArrayType = points.length < 65536 ? Uint16Array : Uint32Array;\n\n        const ids = this.ids = new IndexArrayType(points.length);\n        const coords = this.coords = new ArrayType(points.length * 2);\n\n        for (let i = 0; i < points.length; i++) {\n            ids[i] = i;\n            coords[2 * i] = getX(points[i]);\n            coords[2 * i + 1] = getY(points[i]);\n        }\n\n        sort(ids, coords, nodeSize, 0, ids.length - 1, 0);\n    }\n\n    range(minX, minY, maxX, maxY) {\n        return range(this.ids, this.coords, minX, minY, maxX, maxY, this.nodeSize);\n    }\n\n    within(x, y, r) {\n        return within(this.ids, this.coords, x, y, r, this.nodeSize);\n    }\n}\n", "\nimport KDBush from 'kdbush';\n\nconst defaultOptions = {\n    minZoom: 0,   // min zoom to generate clusters on\n    maxZoom: 16,  // max zoom level to cluster the points on\n    minPoints: 2, // minimum points to form a cluster\n    radius: 40,   // cluster radius in pixels\n    extent: 512,  // tile extent (radius is calculated relative to it)\n    nodeSize: 64, // size of the KD-tree leaf node, affects performance\n    log: false,   // whether to log timing info\n\n    // whether to generate numeric ids for input features (in vector tiles)\n    generateId: false,\n\n    // a reduce function for calculating custom cluster properties\n    reduce: null, // (accumulated, props) => { accumulated.sum += props.sum; }\n\n    // properties to use for individual points when running the reducer\n    map: props => props // props => ({sum: props.my_value})\n};\n\nconst fround = Math.fround || (tmp => ((x) => { tmp[0] = +x; return tmp[0]; }))(new Float32Array(1));\n\nexport default class Supercluster {\n    constructor(options) {\n        this.options = extend(Object.create(defaultOptions), options);\n        this.trees = new Array(this.options.maxZoom + 1);\n    }\n\n    load(points) {\n        const {log, minZoom, maxZoom, nodeSize} = this.options;\n\n        if (log) console.time('total time');\n\n        const timerId = `prepare ${  points.length  } points`;\n        if (log) console.time(timerId);\n\n        this.points = points;\n\n        // generate a cluster object for each point and index input points into a KD-tree\n        let clusters = [];\n        for (let i = 0; i < points.length; i++) {\n            if (!points[i].geometry) continue;\n            clusters.push(createPointCluster(points[i], i));\n        }\n        this.trees[maxZoom + 1] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n        if (log) console.timeEnd(timerId);\n\n        // cluster points on max zoom, then cluster the results on previous zoom, etc.;\n        // results in a cluster hierarchy across zoom levels\n        for (let z = maxZoom; z >= minZoom; z--) {\n            const now = +Date.now();\n\n            // create a new set of clusters for the zoom and index them with a KD-tree\n            clusters = this._cluster(clusters, z);\n            this.trees[z] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n            if (log) console.log('z%d: %d clusters in %dms', z, clusters.length, +Date.now() - now);\n        }\n\n        if (log) console.timeEnd('total time');\n\n        return this;\n    }\n\n    getClusters(bbox, zoom) {\n        let minLng = ((bbox[0] + 180) % 360 + 360) % 360 - 180;\n        const minLat = Math.max(-90, Math.min(90, bbox[1]));\n        let maxLng = bbox[2] === 180 ? 180 : ((bbox[2] + 180) % 360 + 360) % 360 - 180;\n        const maxLat = Math.max(-90, Math.min(90, bbox[3]));\n\n        if (bbox[2] - bbox[0] >= 360) {\n            minLng = -180;\n            maxLng = 180;\n        } else if (minLng > maxLng) {\n            const easternHem = this.getClusters([minLng, minLat, 180, maxLat], zoom);\n            const westernHem = this.getClusters([-180, minLat, maxLng, maxLat], zoom);\n            return easternHem.concat(westernHem);\n        }\n\n        const tree = this.trees[this._limitZoom(zoom)];\n        const ids = tree.range(lngX(minLng), latY(maxLat), lngX(maxLng), latY(minLat));\n        const clusters = [];\n        for (const id of ids) {\n            const c = tree.points[id];\n            clusters.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n        }\n        return clusters;\n    }\n\n    getChildren(clusterId) {\n        const originId = this._getOriginId(clusterId);\n        const originZoom = this._getOriginZoom(clusterId);\n        const errorMsg = 'No cluster with the specified id.';\n\n        const index = this.trees[originZoom];\n        if (!index) throw new Error(errorMsg);\n\n        const origin = index.points[originId];\n        if (!origin) throw new Error(errorMsg);\n\n        const r = this.options.radius / (this.options.extent * Math.pow(2, originZoom - 1));\n        const ids = index.within(origin.x, origin.y, r);\n        const children = [];\n        for (const id of ids) {\n            const c = index.points[id];\n            if (c.parentId === clusterId) {\n                children.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n            }\n        }\n\n        if (children.length === 0) throw new Error(errorMsg);\n\n        return children;\n    }\n\n    getLeaves(clusterId, limit, offset) {\n        limit = limit || 10;\n        offset = offset || 0;\n\n        const leaves = [];\n        this._appendLeaves(leaves, clusterId, limit, offset, 0);\n\n        return leaves;\n    }\n\n    getTile(z, x, y) {\n        const tree = this.trees[this._limitZoom(z)];\n        const z2 = Math.pow(2, z);\n        const {extent, radius} = this.options;\n        const p = radius / extent;\n        const top = (y - p) / z2;\n        const bottom = (y + 1 + p) / z2;\n\n        const tile = {\n            features: []\n        };\n\n        this._addTileFeatures(\n            tree.range((x - p) / z2, top, (x + 1 + p) / z2, bottom),\n            tree.points, x, y, z2, tile);\n\n        if (x === 0) {\n            this._addTileFeatures(\n                tree.range(1 - p / z2, top, 1, bottom),\n                tree.points, z2, y, z2, tile);\n        }\n        if (x === z2 - 1) {\n            this._addTileFeatures(\n                tree.range(0, top, p / z2, bottom),\n                tree.points, -1, y, z2, tile);\n        }\n\n        return tile.features.length ? tile : null;\n    }\n\n    getClusterExpansionZoom(clusterId) {\n        let expansionZoom = this._getOriginZoom(clusterId) - 1;\n        while (expansionZoom <= this.options.maxZoom) {\n            const children = this.getChildren(clusterId);\n            expansionZoom++;\n            if (children.length !== 1) break;\n            clusterId = children[0].properties.cluster_id;\n        }\n        return expansionZoom;\n    }\n\n    _appendLeaves(result, clusterId, limit, offset, skipped) {\n        const children = this.getChildren(clusterId);\n\n        for (const child of children) {\n            const props = child.properties;\n\n            if (props && props.cluster) {\n                if (skipped + props.point_count <= offset) {\n                    // skip the whole cluster\n                    skipped += props.point_count;\n                } else {\n                    // enter the cluster\n                    skipped = this._appendLeaves(result, props.cluster_id, limit, offset, skipped);\n                    // exit the cluster\n                }\n            } else if (skipped < offset) {\n                // skip a single point\n                skipped++;\n            } else {\n                // add a single point\n                result.push(child);\n            }\n            if (result.length === limit) break;\n        }\n\n        return skipped;\n    }\n\n    _addTileFeatures(ids, points, x, y, z2, tile) {\n        for (const i of ids) {\n            const c = points[i];\n            const isCluster = c.numPoints;\n\n            let tags, px, py;\n            if (isCluster) {\n                tags = getClusterProperties(c);\n                px = c.x;\n                py = c.y;\n            } else {\n                const p = this.points[c.index];\n                tags = p.properties;\n                px = lngX(p.geometry.coordinates[0]);\n                py = latY(p.geometry.coordinates[1]);\n            }\n\n            const f = {\n                type: 1,\n                geometry: [[\n                    Math.round(this.options.extent * (px * z2 - x)),\n                    Math.round(this.options.extent * (py * z2 - y))\n                ]],\n                tags\n            };\n\n            // assign id\n            let id;\n            if (isCluster) {\n                id = c.id;\n            } else if (this.options.generateId) {\n                // optionally generate id\n                id = c.index;\n            } else if (this.points[c.index].id) {\n                // keep id if already assigned\n                id = this.points[c.index].id;\n            }\n\n            if (id !== undefined) f.id = id;\n\n            tile.features.push(f);\n        }\n    }\n\n    _limitZoom(z) {\n        return Math.max(this.options.minZoom, Math.min(Math.floor(+z), this.options.maxZoom + 1));\n    }\n\n    _cluster(points, zoom) {\n        const clusters = [];\n        const {radius, extent, reduce, minPoints} = this.options;\n        const r = radius / (extent * Math.pow(2, zoom));\n\n        // loop through each point\n        for (let i = 0; i < points.length; i++) {\n            const p = points[i];\n            // if we've already visited the point at this zoom level, skip it\n            if (p.zoom <= zoom) continue;\n            p.zoom = zoom;\n\n            // find all nearby points\n            const tree = this.trees[zoom + 1];\n            const neighborIds = tree.within(p.x, p.y, r);\n\n            const numPointsOrigin = p.numPoints || 1;\n            let numPoints = numPointsOrigin;\n\n            // count the number of points in a potential cluster\n            for (const neighborId of neighborIds) {\n                const b = tree.points[neighborId];\n                // filter out neighbors that are already processed\n                if (b.zoom > zoom) numPoints += b.numPoints || 1;\n            }\n\n            // if there were neighbors to merge, and there are enough points to form a cluster\n            if (numPoints > numPointsOrigin && numPoints >= minPoints) {\n                let wx = p.x * numPointsOrigin;\n                let wy = p.y * numPointsOrigin;\n\n                let clusterProperties = reduce && numPointsOrigin > 1 ? this._map(p, true) : null;\n\n                // encode both zoom and point index on which the cluster originated -- offset by total length of features\n                const id = (i << 5) + (zoom + 1) + this.points.length;\n\n                for (const neighborId of neighborIds) {\n                    const b = tree.points[neighborId];\n\n                    if (b.zoom <= zoom) continue;\n                    b.zoom = zoom; // save the zoom (so it doesn't get processed twice)\n\n                    const numPoints2 = b.numPoints || 1;\n                    wx += b.x * numPoints2; // accumulate coordinates for calculating weighted center\n                    wy += b.y * numPoints2;\n\n                    b.parentId = id;\n\n                    if (reduce) {\n                        if (!clusterProperties) clusterProperties = this._map(p, true);\n                        reduce(clusterProperties, this._map(b));\n                    }\n                }\n\n                p.parentId = id;\n                clusters.push(createCluster(wx / numPoints, wy / numPoints, id, numPoints, clusterProperties));\n\n            } else { // left points as unclustered\n                clusters.push(p);\n\n                if (numPoints > 1) {\n                    for (const neighborId of neighborIds) {\n                        const b = tree.points[neighborId];\n                        if (b.zoom <= zoom) continue;\n                        b.zoom = zoom;\n                        clusters.push(b);\n                    }\n                }\n            }\n        }\n\n        return clusters;\n    }\n\n    // get index of the point from which the cluster originated\n    _getOriginId(clusterId) {\n        return (clusterId - this.points.length) >> 5;\n    }\n\n    // get zoom of the point from which the cluster originated\n    _getOriginZoom(clusterId) {\n        return (clusterId - this.points.length) % 32;\n    }\n\n    _map(point, clone) {\n        if (point.numPoints) {\n            return clone ? extend({}, point.properties) : point.properties;\n        }\n        const original = this.points[point.index].properties;\n        const result = this.options.map(original);\n        return clone && result === original ? extend({}, result) : result;\n    }\n}\n\nfunction createCluster(x, y, id, numPoints, properties) {\n    return {\n        x: fround(x), // weighted cluster center; round for consistency with Float32Array index\n        y: fround(y),\n        zoom: Infinity, // the last zoom the cluster was processed at\n        id, // encodes index of the first child of the cluster and its zoom level\n        parentId: -1, // parent cluster id\n        numPoints,\n        properties\n    };\n}\n\nfunction createPointCluster(p, id) {\n    const [x, y] = p.geometry.coordinates;\n    return {\n        x: fround(lngX(x)), // projected point coordinates\n        y: fround(latY(y)),\n        zoom: Infinity, // the last zoom the point was processed at\n        index: id, // index of the source feature in the original input array,\n        parentId: -1 // parent cluster id\n    };\n}\n\nfunction getClusterJSON(cluster) {\n    return {\n        type: 'Feature',\n        id: cluster.id,\n        properties: getClusterProperties(cluster),\n        geometry: {\n            type: 'Point',\n            coordinates: [xLng(cluster.x), yLat(cluster.y)]\n        }\n    };\n}\n\nfunction getClusterProperties(cluster) {\n    const count = cluster.numPoints;\n    const abbrev =\n        count >= 10000 ? `${Math.round(count / 1000)  }k` :\n        count >= 1000 ? `${Math.round(count / 100) / 10  }k` : count;\n    return extend(extend({}, cluster.properties), {\n        cluster: true,\n        cluster_id: cluster.id,\n        point_count: count,\n        point_count_abbreviated: abbrev\n    });\n}\n\n// longitude/latitude to spherical mercator in [0..1] range\nfunction lngX(lng) {\n    return lng / 360 + 0.5;\n}\nfunction latY(lat) {\n    const sin = Math.sin(lat * Math.PI / 180);\n    const y = (0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI);\n    return y < 0 ? 0 : y > 1 ? 1 : y;\n}\n\n// spherical mercator to longitude/latitude\nfunction xLng(x) {\n    return (x - 0.5) * 360;\n}\nfunction yLat(y) {\n    const y2 = (180 - y * 360) * Math.PI / 180;\n    return 360 * Math.atan(Math.exp(y2)) / Math.PI - 90;\n}\n\nfunction extend(dest, src) {\n    for (const id in src) dest[id] = src[id];\n    return dest;\n}\n\nfunction getX(p) {\n    return p.x;\n}\nfunction getY(p) {\n    return p.y;\n}\n", "import { select } from 'd3-selection';\n\nfunction getHTMLTransform(el) {\r\n    const styleTransform = select(el).style('transform');\r\n    // Create a regular expression to match the transform values\r\n    const match3D = styleTransform.match(/matrix3d\\((.*?)\\)/);\r\n    const match2D = styleTransform.match(/matrix\\((.*?)\\)/);\r\n    // If neither regex matched, return [0, 0, 0]\r\n    if (!match3D && !match2D)\r\n        return [0, 0, 0];\r\n    // If matrix3d matched, parse the values and return them\r\n    if (match3D) {\r\n        const values = match3D[1].split(',').map(d => parseFloat(d.trim()));\r\n        return values.slice(0, 3);\r\n    }\r\n    // If matrix matched, parse the values and return them, with 0 as the third value\r\n    const values = match2D[1].split(',').map(d => parseFloat(d.trim()));\r\n    values.push(0);\r\n    return values.slice(0, 3);\r\n}\n\nexport { getHTMLTransform };\n\n", "import { max, min } from 'd3-array';\nimport Supercluster from 'supercluster';\nimport { clamp, getNumber, getString } from '../../../utils/data.js';\nimport { getColor } from '../../../utils/color.js';\nimport { circlePath, polygon } from '../../../utils/path.js';\nimport { getHTMLTransform } from '../../../utils/html.js';\nimport { LeafletMapPointShape } from '../types.js';\n\nfunction bBoxMerge(bBoxArray) {\r\n    let box = { x1: 0, x2: 0, y1: 0, y2: 0 };\r\n    bBoxArray.forEach(coords => {\r\n        if (!box) {\r\n            box = Object.assign({}, coords);\r\n        }\r\n        else {\r\n            if (box.x1 > coords.x1)\r\n                box.x1 = coords.x1;\r\n            if (box.y1 > coords.y1)\r\n                box.y1 = coords.y1;\r\n            if (box.x2 < coords.x2)\r\n                box.x2 = coords.x2;\r\n            if (box.y2 < coords.y2)\r\n                box.y2 = coords.y2;\r\n        }\r\n    });\r\n    return {\r\n        x: box.x1,\r\n        y: box.y1,\r\n        width: box.x2 - box.x1,\r\n        height: box.y2 - box.y1,\r\n    };\r\n}\r\nconst getNextZoomLevelOnClusterClick = (level) => clamp(1 + level * 1.5, level, 12);\r\nfunction projectPoint(geoJSONPoint, leafletMap) {\r\n    const lat = geoJSONPoint.geometry.coordinates[1];\r\n    const lon = geoJSONPoint.geometry.coordinates[0];\r\n    const projected = leafletMap.latLngToLayerPoint([lat, lon]);\r\n    return projected;\r\n}\r\nfunction getPointRadius(geoPoint, pointRadius, zoomLevel) {\r\n    const isDynamic = !pointRadius;\r\n    const radius = isDynamic\r\n        ? 1 + 2 * Math.pow(zoomLevel, 0.80)\r\n        // Todo: Needs a better typings handling\r\n        : getNumber(geoPoint.properties, pointRadius);\r\n    const isCluster = geoPoint.properties.cluster;\r\n    return (isCluster && isDynamic)\r\n        ? clamp(Math.pow(geoPoint.properties.point_count, 0.35) * radius, radius * 1.1, radius * 3)\r\n        : radius;\r\n}\r\nfunction getPointPos(point, leafletMap) {\r\n    const properties = point.properties;\r\n    const isFromCluster = !!(properties).expandedClusterPoint;\r\n    if (isFromCluster) {\r\n        const { x, y } = projectPoint(properties.expandedClusterPoint, leafletMap);\r\n        return {\r\n            x: x + properties.dx,\r\n            y: y + properties.dy,\r\n        };\r\n    }\r\n    else {\r\n        return projectPoint(point, leafletMap);\r\n    }\r\n}\r\nfunction getPointDisplayOrder(d, pointStatus, colorMap) {\r\n    const status = getString(d.properties, pointStatus);\r\n    const statusList = Object.keys(colorMap);\r\n    return Object.keys(statusList).indexOf(status);\r\n}\r\nfunction toGeoJSONPoint(d, i, pointLatitude, pointLongitude) {\r\n    const lat = getNumber(d, pointLatitude);\r\n    const lon = getNumber(d, pointLongitude);\r\n    return {\r\n        type: 'Feature',\r\n        properties: Object.assign(Object.assign({}, d), { _index: i }),\r\n        geometry: {\r\n            type: 'Point',\r\n            coordinates: [lon, lat],\r\n        },\r\n    };\r\n}\r\nfunction calculateClusterIndex(data, config, maxClusterZoomLevel = 23) {\r\n    const { colorMap, pointShape, pointLatitude, pointLongitude, clusteringDistance } = config;\r\n    return new Supercluster({\r\n        radius: clusteringDistance,\r\n        maxZoom: maxClusterZoomLevel,\r\n        map: (d) => {\r\n            const shape = getString(d, pointShape);\r\n            const clusterPoint = { shape };\r\n            for (const key of Object.keys(colorMap)) {\r\n                clusterPoint[key] = d[key] || 0;\r\n            }\r\n            return clusterPoint;\r\n        },\r\n        reduce: (acc, clusterPoint) => {\r\n            var _a, _b;\r\n            acc.shape = acc.shape === clusterPoint.shape ? acc.shape : LeafletMapPointShape.Circle;\r\n            acc.value = ((_a = acc.value) !== null && _a !== void 0 ? _a : 0) + ((_b = clusterPoint.value) !== null && _b !== void 0 ? _b : 0);\r\n            for (const key of Object.keys(colorMap)) {\r\n                acc[key] += clusterPoint[key];\r\n            }\r\n        },\r\n    }).load(data.map((d, i) => toGeoJSONPoint(d, i, pointLatitude, pointLongitude)));\r\n}\r\nfunction getNodePathData({ x, y }, radius, shape) {\r\n    switch (shape) {\r\n        case LeafletMapPointShape.Triangle:\r\n            return polygon(radius * 2, 3);\r\n        case LeafletMapPointShape.Square:\r\n            return polygon(radius * 2, 4);\r\n        case LeafletMapPointShape.Circle:\r\n        case LeafletMapPointShape.Ring:\r\n        default:\r\n            return circlePath(x, y, radius);\r\n    }\r\n}\r\nfunction getDonutData(d, colorMap) {\r\n    return Object.keys(colorMap).map(key => ({\r\n        name: key,\r\n        value: d[key],\r\n        color: colorMap[key].color,\r\n        className: colorMap[key].className,\r\n    }));\r\n}\r\nfunction geoJsonPointToScreenPoint(geoPoint, i, leafletMap, config) {\r\n    var _a;\r\n    const zoomLevel = leafletMap.getZoom();\r\n    const isCluster = geoPoint.properties.cluster;\r\n    const clusterIndex = geoPoint.properties.clusterIndex;\r\n    const clusterPoints = isCluster ? clusterIndex.getLeaves(geoPoint.properties.cluster_id, Infinity).map(d => d.properties) : undefined;\r\n    const { x, y } = getPointPos(geoPoint, leafletMap);\r\n    const id = isCluster ? `cluster-${geoPoint.id}` : ((_a = getString(geoPoint.properties, config.pointId)) !== null && _a !== void 0 ? _a : geoPoint.geometry.coordinates.join(''));\r\n    // Todo: Needs a better typings handling\r\n    const pointColor = getColor(geoPoint.properties, (isCluster ? config.clusterColor : config.pointColor));\r\n    const radius = getPointRadius(geoPoint, isCluster ? config.clusterRadius : config.pointRadius, zoomLevel);\r\n    const shape = isCluster ? LeafletMapPointShape.Circle : getString(geoPoint.properties, config.pointShape);\r\n    const isRing = shape === LeafletMapPointShape.Ring;\r\n    const donutData = getDonutData(geoPoint.properties, config.colorMap);\r\n    const maxValue = max(donutData, d => d.value);\r\n    const maxValueIndex = donutData.map(d => d.value).indexOf(maxValue);\r\n    const biggestDatum = donutData[maxValueIndex !== null && maxValueIndex !== void 0 ? maxValueIndex : 0];\r\n    const color = isCluster ? pointColor\r\n        : (isRing ? null : (pointColor !== null && pointColor !== void 0 ? pointColor : biggestDatum === null || biggestDatum === void 0 ? void 0 : biggestDatum.color));\r\n    const bbox = { x1: x - radius, y1: y - radius, x2: x + radius, y2: y + radius };\r\n    const path = getNodePathData({ x: 0, y: 0 }, radius, shape);\r\n    const _zIndex = 0;\r\n    const screenPoint = Object.assign(Object.assign({}, geoPoint), { id,\r\n        bbox,\r\n        radius,\r\n        donutData,\r\n        path,\r\n        color,\r\n        isCluster,\r\n        clusterIndex,\r\n        clusterPoints,\r\n        _zIndex });\r\n    return screenPoint;\r\n}\r\nfunction shouldClusterExpand(cluster, zoomLevel, midLevel = 4, maxLevel = 8, maxClusterZoomLevel = 23) {\r\n    if (!cluster)\r\n        return false;\r\n    const clusterExpansionZoomLevel = cluster.clusterIndex.getClusterExpansionZoom(cluster.properties.cluster_id);\r\n    return zoomLevel >= maxLevel ||\r\n        (zoomLevel >= midLevel && (cluster.properties.point_count < 20 || clusterExpansionZoomLevel >= maxClusterZoomLevel));\r\n}\r\nfunction findPointAndClusterByPointId(points, id, pointId) {\r\n    let point;\r\n    let cluster;\r\n    points.forEach(p => {\r\n        var _a;\r\n        if (p.isCluster) {\r\n            const leaves = (_a = p.clusterIndex.getLeaves(p.properties.cluster_id, Infinity)) !== null && _a !== void 0 ? _a : [];\r\n            const foundPoint = leaves.find(d => getString(d.properties, pointId) === id);\r\n            if (foundPoint) {\r\n                point = foundPoint;\r\n                cluster = p;\r\n            }\r\n        }\r\n    });\r\n    return { point, cluster };\r\n}\r\nfunction getNodeRelativePosition(d, leafletMap) {\r\n    const paneTransform = getHTMLTransform(leafletMap.getPane('mapPane'));\r\n    const { x, y } = getPointPos(d, leafletMap);\r\n    return { x: x + paneTransform[0], y: y + paneTransform[1] };\r\n}\r\nfunction getClusterRadius(cluster) {\r\n    const { points } = cluster;\r\n    const minX = min(points.map(d => d.properties.dx - d.properties.r));\r\n    const maxX = max(points.map(d => d.properties.dx + d.properties.r));\r\n    const minY = min(points.map(d => d.properties.dy - d.properties.r));\r\n    const maxY = max(points.map(d => d.properties.dy + d.properties.r));\r\n    return Math.sqrt(Math.pow((maxX - minX), 2) + Math.pow((maxY - minY), 2)) * 0.5;\r\n}\r\nfunction getClustersAndPoints(clusterIndex, leafletMap, customBounds) {\r\n    const leafletBounds = leafletMap.getBounds();\r\n    const southWest = leafletBounds.getSouthWest();\r\n    const northEast = leafletBounds.getNorthEast();\r\n    const bounds = customBounds || [southWest.lng, southWest.lat, northEast.lng, northEast.lat];\r\n    const zoom = Math.round(leafletMap.getZoom());\r\n    const points = clusterIndex.getClusters(bounds, zoom); // as ClusterFeature<LeafletMapPointDatum<D>>[]\r\n    for (const p of points) {\r\n        const point = p;\r\n        const isCluster = point.properties.cluster;\r\n        if (isCluster) {\r\n            point.properties.clusterIndex = clusterIndex;\r\n            point.properties.clusterPoints = clusterIndex.getLeaves(point.properties.cluster_id, Infinity).map(d => d.properties);\r\n        }\r\n    }\r\n    return points;\r\n}\n\nexport { bBoxMerge, calculateClusterIndex, findPointAndClusterByPointId, geoJsonPointToScreenPoint, getClusterRadius, getClustersAndPoints, getDonutData, getNextZoomLevelOnClusterClick, getNodePathData, getNodeRelativePosition, getPointDisplayOrder, getPointPos, getPointRadius, projectPoint, shouldClusterExpand, toGeoJSONPoint };\n\n", "import { ComponentDefaultConfig } from '../../core/component/config.js';\nimport { LeafletMapRenderer } from './types.js';\n\n/* eslint-disable no-irregular-whitespace */\r\nconst LeafletMapDefaultConfig = Object.assign(Object.assign({}, ComponentDefaultConfig), { \r\n    // General\r\n    width: undefined, height: undefined, flyToDuration: 1500, fitViewPadding: [150, 150], zoomDuration: 800, initialBounds: undefined, fitBoundsOnUpdate: undefined, fitViewOnInit: true, fitViewOnUpdate: false, attribution: ['<a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap contributors</a>'], accessToken: '', style: undefined, styleDarkTheme: undefined, renderer: LeafletMapRenderer.MapLibre, \r\n    // Map events\r\n    onMapInitialized: undefined, onMapMoveZoom: undefined, onMapMoveStart: undefined, onMapMoveEnd: undefined, onMapZoomStart: undefined, onMapZoomEnd: undefined, onMapClick: undefined, \r\n    // Point\r\n    pointLongitude: (d) => d.longitude, pointLatitude: (d) => d.latitude, pointId: (d) => d.id, pointShape: (d) => d.shape, pointColor: (d) => d.color, pointRadius: undefined, pointLabel: undefined, pointLabelColor: undefined, pointBottomLabel: '', pointCursor: null, pointRingWidth: 1.25, selectedPointId: undefined, \r\n    // Cluster\r\n    clusterColor: undefined, clusterRadius: undefined, clusterLabel: (d) => `${d.point_count}`, clusterLabelColor: undefined, clusterBottomLabel: '', clusterRingWidth: 1.25, clusterBackground: true, clusterExpandOnClick: true, clusteringDistance: 55, colorMap: {}, \r\n    // TopoJSON Overlay\r\n    topoJSONLayer: {\r\n        sources: undefined,\r\n        fillOpacity: 0.6,\r\n        strokeOpacity: 0.8,\r\n        strokeWidth: 1,\r\n        featureName: undefined,\r\n        fillProperty: undefined,\r\n        strokeProperty: undefined,\r\n    }, \r\n    // Misc\r\n    tooltip: undefined, ariaLabel: undefined });\n\nexport { LeafletMapDefaultConfig };\n\n", "import { injectGlobal, css } from '@emotion/css';\nimport { getCssVarNames, injectGlobalCssVariables } from '../../utils/style.js';\nimport css_248z from './leaflet.css.js';\n\ninjectGlobal(css_248z);\r\nconst cssVarDefaults = {\r\n    '--vis-map-container-background-color': '#dfe5eb',\r\n    /* Undefined by default to allow proper fallback to var(--vis-font-family) */\r\n    '--vis-map-label-font-family': undefined,\r\n    '--vis-map-point-default-fill-color': '#B9BEC3',\r\n    '--vis-map-point-ring-fill-color': '#ffffff',\r\n    '--vis-map-point-default-stroke-color': '#959da3',\r\n    '--vis-map-point-default-stroke-width': '0px',\r\n    '--vis-map-point-default-cursor': 'default',\r\n    '--vis-map-cluster-default-fill-color': '#fff',\r\n    '--vis-map-cluster-default-stroke-color': '#B9BEC3',\r\n    '--vis-map-cluster-default-stroke-width': '1.5px',\r\n    '--vis-map-cluster-donut-fill-color': '#959da3',\r\n    '--vis-map-cluster-inner-label-text-color-dark': '#5b5f6d',\r\n    '--vis-map-cluster-inner-label-text-color-light': '#fff',\r\n    '--vis-map-point-inner-label-text-color-dark': '#5b5f6d',\r\n    '--vis-map-point-inner-label-text-color-light': '#fff',\r\n    '--vis-map-point-bottom-label-text-color': '#5b5f6d',\r\n    '--vis-map-point-bottom-label-font-size': '10px',\r\n    '--vis-map-cluster-expanded-background-fill-color': '#fff',\r\n    /* Dark Theme */\r\n    '--vis-dark-map-container-background-color': '#dfe5eb',\r\n    '--vis-dark-map-point-default-fill-color': '#B9BEC3',\r\n    '--vis-dark-map-point-default-stroke-color': '#959da3',\r\n    '--vis-dark-map-point-ring-fill-color': '#5b5f6d',\r\n    '--vis-dark-map-cluster-default-fill-color': '#5b5f6d',\r\n    '--vis-dark-map-cluster-default-stroke-color': '#B9BEC3',\r\n    '--vis-dark-map-cluster-donut-fill-color': '#959da3',\r\n    '--vis-dark-map-cluster-inner-label-text-color-dark': '#5b5f6d',\r\n    '--vis-dark-map-cluster-inner-label-text-color-light': '#fff',\r\n    '--vis-dark-map-point-inner-label-text-color-dark': '#5b5f6d',\r\n    '--vis-dark-map-point-inner-label-text-color-light': '#fff',\r\n    '--vis-dark-map-point-bottom-label-text-color': '#5b5f6d',\r\n    '--vis-dark-map-cluster-expanded-background-fill-color': '#fff',\r\n};\r\nconst root = css `\n  label: leaflet-map-component;\n\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  background-color: var(--vis-map-container-background-color);\n\n  canvas {\n    pointer-events: all;\n  }\n`;\r\nconst variables = getCssVarNames(cssVarDefaults);\r\ninjectGlobalCssVariables(cssVarDefaults, root);\r\nconst background = `${root} canvas`;\r\nconst points = css `\n  label: g-points;\n`;\r\nconst point = css `\n  label: g-point;\n`;\r\nconst pointPath = css `\n  label: point-path;\n\n  stroke-opacity: 1;\n  fill-opacity: 1.0;\n  fill: var(${variables.mapPointDefaultFillColor});\n  stroke: var(${variables.mapPointDefaultStrokeColor});\n  stroke-width: var(${variables.mapPointDefaultStrokeWidth});\n  pointer-events: fill !important;\n  transition: .2s stroke-width, .3s transform;\n  cursor: var(${variables.mapPointDefaultCursor});\n\n  &:hover {\n    stroke-width: 2;\n    fill-opacity: 1;\n    animation: none;\n    transform: scale(1.1);\n  }\n`;\r\nconst pointPathRing = css `\n  label: point-path-ring;\n  fill: var(${variables.mapPointRingFillColor});\n`;\r\nconst pointPathCluster = css `\n  label: point-path-cluster;\n  fill-opacity: 0.9;\n  stroke: none;\n  animation: none;\n  fill: var(${variables.mapClusterDefaultFillColor});\n  stroke: var(${variables.mapClusterDefaultStrokeColor});\n  stroke-width: var(${variables.mapClusterDefaultStrokeWidth});\n`;\r\nconst pointSelectionRing = css `\n  label: point-selection-ring;\n  stroke: var(${variables.mapPointDefaultFillColor});\n`;\r\nconst pointSelection = css `\n  label: point-selection;\n\n  opacity: 0;\n  transform: scale(1);\n\n  &.active {\n    transition: all 400ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n    opacity: 1;\n    transform: scale(1.25);\n  }\n`;\r\nconst innerLabel = css `\n  label: inner-label;\n\n  text-anchor: middle;\n  fill: var(${variables.mapPointInnerLabelTextColorDark});\n  font-family: var(${variables.mapLabelFontFamily}, var(--vis-font-family));\n  pointer-events: none;\n  font-weight: 600;\n`;\r\nconst innerLabelCluster = css `\n  label: inner-label-cluster;\n  fill: var(${variables.mapPointInnerLabelTextColorDark});\n`;\r\nconst bottomLabel = css `\n  label: bottom-label;\n\n  text-anchor: middle;\n  fill: var(${variables.mapPointBottomLabelTextColor});\n  font-family: var(${variables.mapLabelFontFamily}, var(--vis-font-family));\n  pointer-events: none;\n  font-weight: 600;\n`;\r\nconst donutCluster = css `\n  label: donut-cluster;\n\n  transform: scale(1);\n  transition: .3s transform;\n  path {\n    fill: var(${variables.mapClusterDonutFillColor});\n    stroke-width: 0.5;\n  }\n\n  &:hover {\n    transform: scale(1.1);\n  }\n`;\r\nconst svgOverlay = css `\n  label: svg-overlay;\n  position: absolute;\n  pointer-events: none;\n`;\r\nconst backgroundRect = css `\n  label: background-rect;\n\n  opacity: 0;\n`;\r\nconst clusterBackground = css `\n  label: cluster-background;\n\n  fill: var(${variables.mapClusterExpandedBackgroundFillColor});\n  opacity: 0.6;\n  visibility: hidden;\n\n  &.active {\n    visibility: visible;\n  }\n`;\r\nconst onFeatureHover = css `\n  label: feature-hovered;\n`;\r\nconst mapboxglCanvas = css `\n  pointer-events: all;\n  cursor: grab;\n\n  &${`.${onFeatureHover}`} {\n    cursor: default;\n  }\n`;\r\nconst map = css `\n  label: map;\n`;\n\nexport { background, backgroundRect, bottomLabel, clusterBackground, donutCluster, innerLabel, innerLabelCluster, map, mapboxglCanvas, onFeatureHover, point, pointPath, pointPathCluster, pointPathRing, pointSelection, pointSelectionRing, points, root, svgOverlay, variables };\n\n", "var css_248z = \".leaflet-image-layer,.leaflet-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane,.leaflet-pane>canvas,.leaflet-pane>svg,.leaflet-tile,.leaflet-tile-container,.leaflet-zoom-box{left:0;position:absolute;top:0}.leaflet-container{overflow:hidden}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{height:1600px;-webkit-transform-origin:0 0;width:1600px}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer{max-height:none!important;max-width:none!important}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom;touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{-moz-box-sizing:border-box;box-sizing:border-box;height:0;width:0;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-overlay-pane{z-index:1}.leaflet-vml-shape{height:1px;width:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{pointer-events:visiblePainted;pointer-events:auto;position:relative;z-index:800}.leaflet-bottom,.leaflet-top{pointer-events:none;position:absolute;z-index:1}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{clear:both;float:left}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile{will-change:opacity}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1);will-change:transform}.leaflet-pan-anim .leaflet-tile,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.leaflet-image-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-image-layer.leaflet-interactive,.leaflet-marker-icon.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#dfe5eb;outline:0}.leaflet-container a{color:#0078a8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{background:rgba(255,255,255,.5);border:2px dotted #38f}.leaflet-container{font:12px/1.5 Helvetica Neue,Arial,Helvetica,sans-serif}.leaflet-bar{border-radius:4px;box-shadow:0 1px 5px rgba(0,0,0,.65)}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid rgba(130,130,130,.2);color:#000;display:block;height:26px;line-height:26px;text-align:center;text-decoration:none;width:26px}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom:none;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.leaflet-bar a.leaflet-disabled{background-color:#f4f4f4;color:#bbb;cursor:default}.leaflet-touch .leaflet-bar a{height:30px;line-height:30px;width:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{background:#fff;border-radius:5px;box-shadow:0 1px 5px rgba(0,0,0,.4)}.leaflet-touch .leaflet-control-layers-toggle{height:44px;width:44px}.leaflet-control-layers-expanded .leaflet-control-layers-toggle,.leaflet-control-layers .leaflet-control-layers-list{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{background:#fff;color:#333;padding:6px 10px 6px 6px}.leaflet-control-layers-scrollbar{overflow-x:hidden;overflow-y:scroll;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{border-top:1px solid #ddd;height:0;margin:5px -10px 5px -6px}.leaflet-container .leaflet-control-attribution{background:#fff;background:hsla(0,0%,100%,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{color:#333;padding:0 5px}.leaflet-control-attribution a{color:#333;font-size:7pt;opacity:.6;text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{background:#fff;background:hsla(0,0%,100%,.5);border:2px solid #777;border-top:none;-moz-box-sizing:border-box;box-sizing:border-box;font-size:11px;line-height:1.1;overflow:hidden;padding:2px 5px 1px;white-space:nowrap}.leaflet-control-scale-line:not(:first-child){border-bottom:none;border-top:2px solid #777;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{box-shadow:none}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{background-clip:padding-box;border:1px solid rgba(0,0,0,.15)}.leaflet-popup{margin-bottom:20px;position:absolute;text-align:center}.leaflet-popup-content-wrapper{border-radius:12px;padding:1px;text-align:left}.leaflet-popup-content{line-height:1.4;margin:13px 19px}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{height:20px;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none;position:absolute;width:40px}.leaflet-popup-tip{height:17px;margin:-10px auto 0;padding:1px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);width:17px}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;box-shadow:0 3px 14px rgba(0,0,0,.4);color:#333}.leaflet-container a.leaflet-popup-close-button{background:transparent;border:none;color:#c3c3c3;font:16px/14px Tahoma,Verdana,sans-serif;font-weight:700;height:14px;padding:4px 4px 0 0;position:absolute;right:0;text-align:center;text-decoration:none;top:0;width:18px}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{border-bottom:1px solid #ddd;border-top:1px solid #ddd;overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{-ms-filter:\\\"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)\\\";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678,M12=0.70710678,M21=-0.70710678,M22=0.70710678);margin:0 auto;width:24px}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{background-color:#fff;border:1px solid #fff;border-radius:3px;box-shadow:0 1px 3px rgba(0,0,0,.4);color:#222;padding:6px;pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto}.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before,.leaflet-tooltip-top:before{background:transparent;border:6px solid transparent;content:\\\"\\\";pointer-events:none;position:absolute}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{border-top-color:#fff;bottom:0;margin-bottom:-12px}.leaflet-tooltip-bottom:before{border-bottom-color:#fff;margin-left:-6px;margin-top:-12px;top:0}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{margin-top:-6px;top:50%}.leaflet-tooltip-left:before{border-left-color:#fff;margin-right:-12px;right:0}.leaflet-tooltip-right:before{border-right-color:#fff;left:0;margin-left:-12px}\";\nvar stylesheet=\".leaflet-image-layer,.leaflet-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane,.leaflet-pane>canvas,.leaflet-pane>svg,.leaflet-tile,.leaflet-tile-container,.leaflet-zoom-box{left:0;position:absolute;top:0}.leaflet-container{overflow:hidden}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{height:1600px;-webkit-transform-origin:0 0;width:1600px}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer{max-height:none!important;max-width:none!important}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom;touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{-moz-box-sizing:border-box;box-sizing:border-box;height:0;width:0;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-overlay-pane{z-index:1}.leaflet-vml-shape{height:1px;width:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{pointer-events:visiblePainted;pointer-events:auto;position:relative;z-index:800}.leaflet-bottom,.leaflet-top{pointer-events:none;position:absolute;z-index:1}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{clear:both;float:left}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile{will-change:opacity}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1);will-change:transform}.leaflet-pan-anim .leaflet-tile,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.leaflet-image-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-image-layer.leaflet-interactive,.leaflet-marker-icon.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#dfe5eb;outline:0}.leaflet-container a{color:#0078a8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{background:rgba(255,255,255,.5);border:2px dotted #38f}.leaflet-container{font:12px/1.5 Helvetica Neue,Arial,Helvetica,sans-serif}.leaflet-bar{border-radius:4px;box-shadow:0 1px 5px rgba(0,0,0,.65)}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid rgba(130,130,130,.2);color:#000;display:block;height:26px;line-height:26px;text-align:center;text-decoration:none;width:26px}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom:none;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.leaflet-bar a.leaflet-disabled{background-color:#f4f4f4;color:#bbb;cursor:default}.leaflet-touch .leaflet-bar a{height:30px;line-height:30px;width:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{background:#fff;border-radius:5px;box-shadow:0 1px 5px rgba(0,0,0,.4)}.leaflet-touch .leaflet-control-layers-toggle{height:44px;width:44px}.leaflet-control-layers-expanded .leaflet-control-layers-toggle,.leaflet-control-layers .leaflet-control-layers-list{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{background:#fff;color:#333;padding:6px 10px 6px 6px}.leaflet-control-layers-scrollbar{overflow-x:hidden;overflow-y:scroll;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{border-top:1px solid #ddd;height:0;margin:5px -10px 5px -6px}.leaflet-container .leaflet-control-attribution{background:#fff;background:hsla(0,0%,100%,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{color:#333;padding:0 5px}.leaflet-control-attribution a{color:#333;font-size:7pt;opacity:.6;text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{background:#fff;background:hsla(0,0%,100%,.5);border:2px solid #777;border-top:none;-moz-box-sizing:border-box;box-sizing:border-box;font-size:11px;line-height:1.1;overflow:hidden;padding:2px 5px 1px;white-space:nowrap}.leaflet-control-scale-line:not(:first-child){border-bottom:none;border-top:2px solid #777;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{box-shadow:none}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{background-clip:padding-box;border:1px solid rgba(0,0,0,.15)}.leaflet-popup{margin-bottom:20px;position:absolute;text-align:center}.leaflet-popup-content-wrapper{border-radius:12px;padding:1px;text-align:left}.leaflet-popup-content{line-height:1.4;margin:13px 19px}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{height:20px;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none;position:absolute;width:40px}.leaflet-popup-tip{height:17px;margin:-10px auto 0;padding:1px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);width:17px}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;box-shadow:0 3px 14px rgba(0,0,0,.4);color:#333}.leaflet-container a.leaflet-popup-close-button{background:transparent;border:none;color:#c3c3c3;font:16px/14px Tahoma,Verdana,sans-serif;font-weight:700;height:14px;padding:4px 4px 0 0;position:absolute;right:0;text-align:center;text-decoration:none;top:0;width:18px}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{border-bottom:1px solid #ddd;border-top:1px solid #ddd;overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{-ms-filter:\\\"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)\\\";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678,M12=0.70710678,M21=-0.70710678,M22=0.70710678);margin:0 auto;width:24px}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{background-color:#fff;border:1px solid #fff;border-radius:3px;box-shadow:0 1px 3px rgba(0,0,0,.4);color:#222;padding:6px;pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto}.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before,.leaflet-tooltip-top:before{background:transparent;border:6px solid transparent;content:\\\"\\\";pointer-events:none;position:absolute}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{border-top-color:#fff;bottom:0;margin-bottom:-12px}.leaflet-tooltip-bottom:before{border-bottom-color:#fff;margin-left:-6px;margin-top:-12px;top:0}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{margin-top:-6px;top:50%}.leaflet-tooltip-left:before{border-left-color:#fff;margin-right:-12px;right:0}.leaflet-tooltip-right:before{border-right-color:#fff;left:0;margin-left:-12px}\";\n\nexport { css_248z as default, stylesheet };\n\n", "import { __awaiter } from 'tslib';\nimport { select } from 'd3-selection';\nimport { feature } from 'topojson-client';\nimport { mapboxglWheelEventThrottled, constraintMapView } from '../renderer/mapboxgl-utils.js';\nimport { mapboxglCanvas, onFeatureHover } from '../style.js';\nimport { LeafletMapRenderer } from '../types.js';\n\nconst initialMapCenter = [36, 14];\r\nconst initialMapZoom = 1.9;\r\nfunction updateTopoJson(maplibreMap, config) {\r\n    var _a, _b;\r\n    const { topoJSONLayer } = config;\r\n    if (topoJSONLayer.sources) {\r\n        const featureObject = (_b = (_a = topoJSONLayer.sources) === null || _a === void 0 ? void 0 : _a.objects) === null || _b === void 0 ? void 0 : _b[topoJSONLayer.featureName];\r\n        if (featureObject) {\r\n            const mapSource = maplibreMap.getSource(topoJSONLayer.featureName);\r\n            const featureCollection = feature(topoJSONLayer.sources, featureObject);\r\n            if (mapSource) {\r\n                mapSource.setData(featureCollection);\r\n            }\r\n            else {\r\n                maplibreMap.addSource(topoJSONLayer.featureName, { type: 'geojson', data: featureCollection });\r\n            }\r\n        }\r\n    }\r\n    const fillLayer = maplibreMap.getLayer(`${topoJSONLayer.featureName}-area`);\r\n    if (topoJSONLayer.fillProperty) {\r\n        if (!fillLayer) {\r\n            maplibreMap.addLayer({\r\n                id: `${topoJSONLayer.featureName}-area`,\r\n                type: 'fill',\r\n                source: topoJSONLayer.featureName,\r\n                paint: {\r\n                    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n                    'fill-antialias': false,\r\n                    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n                    'fill-opacity': topoJSONLayer.fillOpacity,\r\n                },\r\n            });\r\n        }\r\n        maplibreMap.setPaintProperty(`${topoJSONLayer.featureName}-area`, 'fill-color', [\r\n            'case',\r\n            ['!', ['has', topoJSONLayer.fillProperty]],\r\n            'rgba(255, 255, 255, 0)',\r\n            ['get', topoJSONLayer.fillProperty],\r\n        ]);\r\n    }\r\n    else if (fillLayer)\r\n        maplibreMap.removeLayer(`${topoJSONLayer.featureName}-area`);\r\n    const strokeLayer = maplibreMap.getLayer(`${topoJSONLayer.featureName}-stroke`);\r\n    if (topoJSONLayer.strokeProperty) {\r\n        if (!strokeLayer) {\r\n            maplibreMap.addLayer({\r\n                id: `${topoJSONLayer.featureName}-stroke`,\r\n                type: 'line',\r\n                source: topoJSONLayer.featureName,\r\n                paint: {\r\n                    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n                    'line-opacity': topoJSONLayer.strokeOpacity,\r\n                    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n                    'line-width': topoJSONLayer.strokeWidth,\r\n                },\r\n            });\r\n        }\r\n        maplibreMap.setPaintProperty(`${topoJSONLayer.featureName}-stroke`, 'line-color', [\r\n            'case',\r\n            ['!', ['has', topoJSONLayer.strokeProperty]],\r\n            'rgba(255, 255, 255, 0)',\r\n            ['get', topoJSONLayer.strokeProperty],\r\n        ]);\r\n    }\r\n    else if (strokeLayer) {\r\n        maplibreMap.removeLayer(`${topoJSONLayer.featureName}-stroke`);\r\n    }\r\n}\r\nfunction setupMap(mapContainer, config) {\r\n    var _a, _b;\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const { style, renderer, topoJSONLayer } = config;\r\n        const leaflet = yield import('leaflet');\r\n        const L = leaflet.default;\r\n        if (!style) {\r\n            console.error('Unovis | Leaflet Map: Please provide style settings in the map configuration object');\r\n            return;\r\n        }\r\n        const leafletMap = L.map(mapContainer, {\r\n            scrollWheelZoom: renderer === LeafletMapRenderer.Raster,\r\n            zoomControl: false,\r\n            zoomDelta: renderer === LeafletMapRenderer.Raster ? 1 : 0.5,\r\n            zoomSnap: renderer === LeafletMapRenderer.Raster ? 1 : 0,\r\n            attributionControl: true,\r\n            center: initialMapCenter,\r\n            zoom: initialMapZoom,\r\n            minZoom: Math.sqrt(mapContainer.offsetWidth) / 17,\r\n            maxZoom: 23,\r\n            maxBounds: L.latLngBounds([-75, -290], [85, 290]),\r\n            maxBoundsViscosity: 1,\r\n        });\r\n        for (const attr of config.attribution) {\r\n            leafletMap.attributionControl.addAttribution(attr);\r\n        }\r\n        let layer;\r\n        let maplibreMap = null;\r\n        switch (renderer) {\r\n            case LeafletMapRenderer.MapLibre:\r\n                // eslint-disable-next-line no-case-declarations\r\n                const maplibre = yield import('maplibre-gl');\r\n                // eslint-disable-next-line no-case-declarations\r\n                const { getMaplibreGLLayer } = yield import('../renderer/mapboxgl-layer.js');\r\n                layer = getMaplibreGLLayer(config, L, maplibre.default);\r\n                layer.addTo(leafletMap);\r\n                maplibreMap = (_b = (_a = layer).getMaplibreMap) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n                select(mapContainer).on('wheel', (event) => {\r\n                    event.preventDefault();\r\n                    mapboxglWheelEventThrottled(leafletMap, layer, event);\r\n                });\r\n                break;\r\n            case LeafletMapRenderer.Raster:\r\n                layer = L.tileLayer(style);\r\n                layer.addTo(leafletMap);\r\n                break;\r\n        }\r\n        // leaflet-mapbox-gl has a layer positioning issue on far zoom levels which leads to having wrong\r\n        //   map points projection. We constrain the view to prevent that.\r\n        constraintMapView(leafletMap);\r\n        if (maplibreMap && (topoJSONLayer === null || topoJSONLayer === void 0 ? void 0 : topoJSONLayer.sources)) {\r\n            const canvas = maplibreMap.getCanvas();\r\n            const canvasSelection = select(canvas).classed(mapboxglCanvas, true);\r\n            const tilePaneSelection = select(leafletMap.getPanes().tilePane);\r\n            maplibreMap.on('mousemove', (event) => {\r\n                const layerName = `${topoJSONLayer.featureName}-area`;\r\n                const layer = maplibreMap.getLayer(layerName);\r\n                if (!layer)\r\n                    return;\r\n                const features = maplibreMap.queryRenderedFeatures(event.point, { layers: [layerName] });\r\n                tilePaneSelection.datum(features[0]);\r\n                canvasSelection.classed(onFeatureHover, Boolean(features[0]));\r\n            });\r\n            maplibreMap.on('load', () => {\r\n                updateTopoJson(maplibreMap, config);\r\n            });\r\n        }\r\n        const svgOverlay = select(leafletMap.getPanes().overlayPane).append('svg');\r\n        const svgGroup = svgOverlay.append('g');\r\n        return {\r\n            leaflet: leafletMap,\r\n            layer,\r\n            svgOverlay,\r\n            svgGroup,\r\n        };\r\n    });\r\n}\n\nexport { initialMapCenter, initialMapZoom, setupMap, updateTopoJson };\n\n", "import { pie, arc } from 'd3-shape';\n\nconst pieConstructor = pie()\r\n    .sort(null)\r\n    .value((d) => d.value);\r\nfunction updateDonut(selection, data, radius, arcWidth = 2, padAngle = 0.05) {\r\n    pieConstructor.padAngle(padAngle);\r\n    const arcs = pieConstructor(data.filter(d => d.value));\r\n    const arcPathGen = arc()\r\n        .innerRadius(arcWidth ? radius - arcWidth / 2 : 0)\r\n        .outerRadius(arcWidth ? radius + arcWidth / 2 : radius);\r\n    const donuts = selection.selectAll('path')\r\n        .data(arcs);\r\n    donuts.exit().remove();\r\n    donuts.enter()\r\n        .append('path')\r\n        .merge(donuts)\r\n        .attr('class', d => { var _a; return (_a = d.data.className) !== null && _a !== void 0 ? _a : null; })\r\n        .attr('d', arcPathGen)\r\n        .style('fill', d => { var _a; return (_a = d.data.color) !== null && _a !== void 0 ? _a : null; })\r\n        .style('stroke', d => { var _a; return (_a = d.data.color) !== null && _a !== void 0 ? _a : null; });\r\n}\n\nexport { updateDonut };\n\n", "import { select } from 'd3-selection';\nimport { color } from 'd3-color';\nimport { smartTransition } from '../../../utils/d3.js';\nimport { trimStringMiddle, estimateTextSize } from '../../../utils/text.js';\nimport { getString, clamp } from '../../../utils/data.js';\nimport { getCSSVariableValueInPixels, rectIntersect } from '../../../utils/misc.js';\nimport { hexToBrightness } from '../../../utils/color.js';\nimport { cssvar } from '../../../utils/style.js';\nimport { getPointPos } from './utils.js';\nimport { LeafletMapPointShape } from '../types.js';\nimport { updateDonut } from './donut.js';\nimport { pointPath, donutCluster, innerLabel, innerLabelCluster, bottomLabel, pointPathCluster, pointPathRing, variables } from '../style.js';\n\nconst BOTTOM_LABEL_TOP_MARGIN = 10;\r\nfunction createNodes(selection) {\r\n    selection.append('path')\r\n        .attr('class', pointPath)\r\n        .attr('id', d => `point-${d.id}`)\r\n        .style('opacity', 0);\r\n    selection.append('g')\r\n        .attr('class', donutCluster);\r\n    selection.append('text')\r\n        .attr('class', innerLabel)\r\n        .classed(innerLabelCluster, d => d.properties.cluster)\r\n        .attr('id', d => `label-${d.id}`)\r\n        .attr('dy', '0.32em');\r\n    selection.append('text')\r\n        .attr('class', bottomLabel)\r\n        .attr('dy', '0.32em')\r\n        .attr('opacity', 1);\r\n}\r\nfunction updateNodes(selection, config, leafletMap, mapMoveZoomUpdateOnly) {\r\n    selection.each((d, i, elements) => {\r\n        var _a, _b, _c;\r\n        const group = select(elements[i]);\r\n        const node = group.select(`.${pointPath}`);\r\n        const innerLabel$1 = group.select(`.${innerLabel}`);\r\n        const bottomLabel$1 = group.select(`.${bottomLabel}`);\r\n        const { x, y } = getPointPos(d, leafletMap);\r\n        const donutData = d.donutData;\r\n        const isCluster = d.properties.cluster;\r\n        const fromExpandedCluster = !!d.properties.expandedClusterPoint;\r\n        const innerLabelText = (_a = (isCluster\r\n            ? getString(d.properties, config.clusterLabel)\r\n            : getString(d.properties, config.pointLabel))) !== null && _a !== void 0 ? _a : '';\r\n        const innerLabelColor = (_b = (isCluster\r\n            ? getString(d.properties, config.clusterLabelColor)\r\n            : getString(d.properties, config.pointLabelColor))) !== null && _b !== void 0 ? _b : null;\r\n        const bottomLabelText = (_c = (isCluster\r\n            ? getString(d.properties, config.clusterBottomLabel)\r\n            : getString(d.properties, config.pointBottomLabel))) !== null && _c !== void 0 ? _c : '';\r\n        const pointCursor = getString(d.properties, config.pointCursor);\r\n        const pointShape = getString(d.properties, config.pointShape);\r\n        const isRing = pointShape === LeafletMapPointShape.Ring;\r\n        const isCircular = (pointShape === LeafletMapPointShape.Circle) || isRing || isCluster || !pointShape;\r\n        // To get updated on every render call\r\n        const ringWidth = (isCluster && config.clusterRingWidth) || (isRing && config.pointRingWidth) || 0;\r\n        group.attr('transform', `translate(${x},${y})`);\r\n        group.select(`.${donutCluster}`)\r\n            .call(updateDonut, donutData, isCircular ? d.radius : 0, ringWidth);\r\n        node.attr('d', d.path);\r\n        node.style('cursor', isCluster ? 'pointer' : pointCursor);\r\n        bottomLabel$1.attr('transform', `translate(0,${d.radius + BOTTOM_LABEL_TOP_MARGIN})`);\r\n        innerLabel$1.attr('font-size', () => {\r\n            const fontSize = d.radius / Math.pow(innerLabelText.length, 0.4);\r\n            return clamp(fontSize, fontSize, 16);\r\n        });\r\n        if (mapMoveZoomUpdateOnly)\r\n            return;\r\n        // Updates required only when data changes\r\n        node\r\n            .classed(pointPathCluster, isCluster)\r\n            .classed(pointPathRing, isRing)\r\n            .style('fill', d.color)\r\n            .style('stroke', d.color) // being used for hover\r\n            .style('stroke-width', ringWidth)\r\n            .style('opacity', 1);\r\n        innerLabel$1\r\n            .text(innerLabelText || null)\r\n            .attr('visibility', innerLabelText ? null : 'hidden')\r\n            .style('fill', () => {\r\n            var _a;\r\n            if (innerLabelColor)\r\n                return innerLabelColor;\r\n            // Determine the label color based on the point brightness\r\n            const c = getComputedStyle(node.node()).fill;\r\n            const hex = (_a = color(c)) === null || _a === void 0 ? void 0 : _a.hex();\r\n            if (!hex)\r\n                return null;\r\n            const brightness = hexToBrightness(hex);\r\n            return brightness > 0.5\r\n                ? (isCluster ? cssvar(variables.mapClusterInnerLabelTextColorDark) : cssvar(variables.mapPointInnerLabelTextColorDark))\r\n                : (isCluster ? cssvar(variables.mapClusterInnerLabelTextColorLight) : cssvar(variables.mapPointInnerLabelTextColorLight));\r\n        });\r\n        const bottomLabelTextTrimmed = trimStringMiddle(bottomLabelText, 15);\r\n        bottomLabel$1\r\n            .text(bottomLabelTextTrimmed)\r\n            .attr('font-size', getCSSVariableValueInPixels(cssvar(variables.mapPointBottomLabelFontSize), selection.node()))\r\n            .attr('visibility', fromExpandedCluster ? 'hidden' : null);\r\n    });\r\n}\r\nfunction collideLabels(selection, leafletMap) {\r\n    selection.each((datum1, i, elements) => {\r\n        const group1LabelElement = elements[i];\r\n        const group1 = select(group1LabelElement);\r\n        const label1 = group1.select(`.${bottomLabel}`);\r\n        group1LabelElement.labelVisible = true;\r\n        // Calculate bounding rect of point's bottom label\r\n        const bottomLabelFontSizePx = getCSSVariableValueInPixels(cssvar(variables.mapPointBottomLabelFontSize), selection.node());\r\n        const p1Pos = getPointPos(datum1, leafletMap);\r\n        const label1Size = estimateTextSize(label1, bottomLabelFontSizePx, 0.32, true, 0.6);\r\n        const label1BoundingRect = {\r\n            x: p1Pos.x - label1Size.width / 2,\r\n            y: p1Pos.y - label1Size.height / 2 + datum1.radius + BOTTOM_LABEL_TOP_MARGIN,\r\n            width: label1Size.width,\r\n            height: label1Size.height,\r\n        };\r\n        for (let j = 0; j < elements.length; j += 1) {\r\n            if (i === j)\r\n                continue;\r\n            const group2LabelElement = elements[j];\r\n            const group2 = select(group2LabelElement);\r\n            const label2 = group2.select(`.${bottomLabel}`);\r\n            const datum2 = group2.datum();\r\n            // Calculate bounding rect of the second point's circle\r\n            const p2Pos = getPointPos(datum2, leafletMap);\r\n            const point2BoundingRect = {\r\n                x: p2Pos.x - datum2.radius,\r\n                y: p2Pos.y - datum2.radius,\r\n                width: 2 * datum2.radius,\r\n                height: 2 * datum2.radius,\r\n            };\r\n            let intersect = rectIntersect(label1BoundingRect, point2BoundingRect);\r\n            // If there's not intersection, check a collision with the second point's label\r\n            const label2Visible = group2LabelElement.labelVisible;\r\n            if (!intersect && label2Visible) {\r\n                const label2Size = estimateTextSize(label2, bottomLabelFontSizePx, 0.32, true, 0.6);\r\n                intersect = rectIntersect(label1BoundingRect, {\r\n                    x: p2Pos.x - label2Size.width / 2,\r\n                    y: p2Pos.y + datum2.radius + BOTTOM_LABEL_TOP_MARGIN - label2Size.height / 2,\r\n                    width: label2Size.width,\r\n                    height: label2Size.height,\r\n                });\r\n            }\r\n            if (intersect) {\r\n                group1LabelElement.labelVisible = false;\r\n                break;\r\n            }\r\n        }\r\n        smartTransition(label1, 0).attr('opacity', group1LabelElement.labelVisible ? 1 : 0);\r\n    });\r\n}\r\nfunction removeNodes(selection) {\r\n    selection.remove();\r\n}\n\nexport { collideLabels, createNodes, removeNodes, updateNodes };\n\n", "import { getString } from '../../../utils/data.js';\nimport { getPointPos } from './utils.js';\nimport { pointSelection, pointSelectionRing } from '../style.js';\n\n// Utils\r\nfunction createNodeSelectionRing(selection) {\r\n    selection.datum({ _zIndex: 3 });\r\n    selection.append('path').attr('class', pointSelection);\r\n}\r\nfunction updateNodeSelectionRing(selection, selectedPoint, pointData, config, leafletMap) {\r\n    selection.attr('class', pointSelectionRing);\r\n    const pointSelection$1 = selection.select(`.${pointSelection}`);\r\n    if (selectedPoint) {\r\n        const isCluster = selectedPoint.isCluster;\r\n        const selectedPointId = getString(selectedPoint.properties, config.pointId);\r\n        const foundPoint = pointData.find(d => isCluster\r\n            ? (d.id === selectedPoint.id)\r\n            : (selectedPointId && (getString(d.properties, config.pointId) === selectedPointId)));\r\n        selection\r\n            .attr('transform', d => {\r\n            const { x, y } = getPointPos(foundPoint !== null && foundPoint !== void 0 ? foundPoint : selectedPoint, leafletMap);\r\n            return `translate(${x},${y})`;\r\n        })\r\n            .classed(`${selectedPoint.properties.shape}`, true);\r\n        pointSelection$1\r\n            .classed('active', Boolean(foundPoint))\r\n            .attr('d', foundPoint ? foundPoint.path : null)\r\n            .style('fill', 'transparent')\r\n            .style('stroke-width', 1)\r\n            .style('stroke', d => {\r\n            const node = foundPoint || selectedPoint;\r\n            return node === null || node === void 0 ? void 0 : node.color;\r\n        });\r\n    }\r\n    else {\r\n        pointSelection$1.classed('active', false);\r\n    }\r\n}\n\nexport { createNodeSelectionRing, updateNodeSelectionRing };\n\n", "import { cloneDeep } from '../../../utils/data.js';\nimport { getPointPos, getNodePathData } from './utils.js';\nimport { LeafletMapPointShape } from '../types.js';\n\n// Utils\r\nfunction createBackgroundNode(selection) {\r\n    selection.datum({ _zIndex: 1 });\r\n    selection.append('path');\r\n}\r\nfunction updateBackgroundNode(selection, expandedCluster, config, leafletMap, clusterBackgroundRadius) {\r\n    const { clusterBackground } = config;\r\n    if (expandedCluster && clusterBackground) {\r\n        const node = cloneDeep(expandedCluster.cluster);\r\n        const { x, y } = getPointPos(node, leafletMap);\r\n        const path = getNodePathData({ x: 0, y: 0 }, clusterBackgroundRadius, LeafletMapPointShape.Circle);\r\n        selection.select('path').attr('d', d => path);\r\n        selection\r\n            .classed('active', true)\r\n            .attr('transform', `translate(${x},${y})`);\r\n    }\r\n    else {\r\n        selection.classed('active', false);\r\n    }\r\n}\n\nexport { createBackgroundNode, updateBackgroundNode };\n\n", "import { select } from 'd3-selection';\nimport { packSiblings } from 'd3-hierarchy';\nimport { ComponentCore } from '../../core/component/index.js';\nimport { MapDataModel } from '../../data-models/map.js';\nimport { ComponentType } from '../../types/component.js';\nimport { ResizeObserver } from '../../utils/resize-observer.js';\nimport { isString, getNumber, isNil, getString, clamp } from '../../utils/data.js';\nimport { constraintMapViewThrottled } from './renderer/mapboxgl-utils.js';\nimport { calculateClusterIndex, projectPoint, findPointAndClusterByPointId, getNodeRelativePosition, bBoxMerge, shouldClusterExpand, getNextZoomLevelOnClusterClick, getPointRadius, getClusterRadius, getClustersAndPoints, geoJsonPointToScreenPoint } from './modules/utils.js';\nimport { LeafletMapRenderer } from './types.js';\nimport { LeafletMapDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { root, map, svgOverlay, backgroundRect, points, clusterBackground, pointSelectionRing, point, variables } from './style.js';\nimport { setupMap, initialMapCenter, initialMapZoom, updateTopoJson } from './modules/map.js';\nimport { removeNodes, createNodes, updateNodes, collideLabels } from './modules/node.js';\nimport { createNodeSelectionRing, updateNodeSelectionRing } from './modules/selectionRing.js';\nimport { createBackgroundNode, updateBackgroundNode } from './modules/clusterBackground.js';\n\nclass LeafletMap extends ComponentCore {\r\n    constructor(container, config, data) {\r\n        super(ComponentType.HTML);\r\n        this._defaultConfig = LeafletMapDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.type = ComponentType.HTML;\r\n        this.datamodel = new MapDataModel();\r\n        this._expandedCluster = null;\r\n        this._cancelBackgroundClick = false;\r\n        this._hasBeenMoved = false;\r\n        this._hasBeenZoomed = false;\r\n        this._isMoving = false;\r\n        this._isZooming = false;\r\n        this._eventInitiatedByComponent = false;\r\n        this._triggerBackgroundClick = false;\r\n        this._externallySelectedPoint = null;\r\n        this._zoomingToExternallySelectedPoint = false;\r\n        this._forceExpandCluster = false;\r\n        this._clusterBackgroundRadius = 0;\r\n        this._selectedPoint = null;\r\n        this._currentZoomLevel = null;\r\n        this._firstRender = true;\r\n        this._isDarkThemeActive = false;\r\n        this._renderDataAnimationFrameId = null;\r\n        this._flyToBoundsAnimationFrameId = null;\r\n        this.events = {\r\n            [LeafletMap.selectors.point]: {\r\n                mouseup: this._onPointMouseUp.bind(this),\r\n                mousedown: this._onPointMouseDown.bind(this),\r\n                click: this._onPointClick.bind(this),\r\n            },\r\n        };\r\n        this._container = container;\r\n        this._containerSelection = select(this._container).attr('role', 'figure');\r\n        this._container.appendChild(this.element);\r\n        this.g\r\n            .attr('class', root)\r\n            .attr('aria-hidden', true);\r\n        if (config)\r\n            this.setConfig(config);\r\n        if (!this._container.clientWidth) {\r\n            console.warn('Unovis | Leaflet Map: The width of the container is not set. Setting to 100%.');\r\n            this._containerSelection.style('width', '100%');\r\n        }\r\n        if (!this._container.clientHeight) {\r\n            console.warn(`Unovis | Leaflet Map: The height of the container is not set. Setting to ${LeafletMap.DEFAULT_CONTAINER_HEIGHT}px.`);\r\n            this._containerSelection.style('height', `${LeafletMap.DEFAULT_CONTAINER_HEIGHT}px`);\r\n        }\r\n        // Initialize map asynchronously\r\n        this._leafletInitializationPromise = new Promise((resolve) => {\r\n            setupMap(this.element, this.config).then(map$1 => {\r\n                var _a, _b;\r\n                // Apply the `s.map` class to `tilePane` to allow tooltip interactions\r\n                select(map$1.leaflet.getPanes().tilePane).classed(map, true);\r\n                if (config)\r\n                    this.setConfig(config);\r\n                this._map = map$1;\r\n                this._map.leaflet.on('drag', this._onMapDragLeaflet.bind(this));\r\n                this._map.leaflet.on('move', this._onMapMove.bind(this));\r\n                this._map.leaflet.on('movestart', this._onMapMoveStart.bind(this));\r\n                this._map.leaflet.on('moveend', this._onMapMoveEnd.bind(this));\r\n                this._map.leaflet.on('zoom', this._onMapZoom.bind(this));\r\n                this._map.leaflet.on('zoomstart', this._onMapZoomStart.bind(this));\r\n                this._map.leaflet.on('zoomend', this._onMapZoomEnd.bind(this));\r\n                // We need to handle background click in a special way to deal\r\n                //   with d3 svg overlay that might have smaller size than the map itself\r\n                //   (see this._onNodeMouseDown() and this this._onNodeMouseDown())\r\n                this._map.leaflet.on('mousedown', () => {\r\n                    if (!this._cancelBackgroundClick)\r\n                        this._triggerBackgroundClick = true;\r\n                });\r\n                this._map.leaflet.on('mouseup', (e) => {\r\n                    if (this._triggerBackgroundClick) {\r\n                        this._triggerBackgroundClick = false;\r\n                        const originalEvent = e.originalEvent;\r\n                        this._onBackgroundClick(originalEvent.target, originalEvent);\r\n                    }\r\n                });\r\n                this._map.svgOverlay\r\n                    .attr('class', svgOverlay)\r\n                    .insert('rect', ':first-child')\r\n                    .attr('class', backgroundRect)\r\n                    .attr('width', '100%')\r\n                    .attr('height', '100%');\r\n                this._pointGroup = this._map.svgGroup.append('g').attr('class', points);\r\n                this._clusterBackground = this._pointGroup.append('g')\r\n                    .attr('class', clusterBackground)\r\n                    .call(createBackgroundNode);\r\n                this._pointSelectionRing = this._pointGroup.append('g')\r\n                    .attr('class', pointSelectionRing)\r\n                    .call(createNodeSelectionRing);\r\n                this._map.leaflet.setView(initialMapCenter, initialMapZoom);\r\n                if (document.body.classList.contains('theme-dark') && config.styleDarkTheme) {\r\n                    this._isDarkThemeActive = true;\r\n                    this.setTheme(config.styleDarkTheme);\r\n                }\r\n                (_b = (_a = this.config).onMapInitialized) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n                resolve(this._map.leaflet);\r\n            });\r\n        });\r\n        // Set data and render the map when it's ready\r\n        this.setData(data !== null && data !== void 0 ? data : []);\r\n        // When the container size changes we have to initiate map resize in order to update its dimensions\r\n        this.resizeObserver = new ResizeObserver(() => {\r\n            var _a, _b, _c;\r\n            (_b = (_a = this._map) === null || _a === void 0 ? void 0 : _a.leaflet) === null || _b === void 0 ? void 0 : _b.invalidateSize();\r\n            (_c = this.config.tooltip) === null || _c === void 0 ? void 0 : _c.hide();\r\n        });\r\n        this.resizeObserver.observe(container);\r\n        // If dark theme is enabled, update map's style when document body's class list changes\r\n        if (this.config.styleDarkTheme) {\r\n            this.themeObserver = new MutationObserver((mutations) => {\r\n                mutations.forEach(change => {\r\n                    if (change.attributeName === 'class') {\r\n                        const isDarkTheme = change.target.classList.contains('theme-dark');\r\n                        if (this._isDarkThemeActive !== isDarkTheme) {\r\n                            this.setTheme(isDarkTheme ? this.config.styleDarkTheme : this.config.style);\r\n                            this._isDarkThemeActive = isDarkTheme;\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n            this.themeObserver.observe(document.body, { attributes: true });\r\n        }\r\n    }\r\n    setConfig(config) {\r\n        super.setConfig(config);\r\n        if (config.width)\r\n            this._containerSelection.style('width', isString(config.width) ? config.width : `${config.width}px`);\r\n        if (config.height)\r\n            this._containerSelection.style('height', isString(config.height) ? config.height : `${config.height}px`);\r\n        if (this._map && config.renderer === LeafletMapRenderer.MapLibre) {\r\n            const layer = this._map.layer; // Using any because the typings are not full\r\n            const maplibreMap = layer.getMaplibreMap();\r\n            if (maplibreMap.isStyleLoaded())\r\n                updateTopoJson(maplibreMap, this.config);\r\n        }\r\n        if (this.config.tooltip) {\r\n            this.config.tooltip.setContainer(this._container);\r\n            this.config.tooltip.setComponents([this]);\r\n            this.config.tooltip.update();\r\n        }\r\n        // Apply the `aria-label` attribute\r\n        this._containerSelection.attr('aria-label', config.ariaLabel);\r\n    }\r\n    setData(data) {\r\n        const { config, datamodel } = this;\r\n        const dataValid = data.filter(d => {\r\n            const lat = getNumber(d, config.pointLatitude);\r\n            const lon = getNumber(d, config.pointLongitude);\r\n            const valid = isFinite(lat) && isFinite(lon);\r\n            if (!valid)\r\n                console.warn('Unovis | Leaflet Map: Invalid point coordinates', d);\r\n            return valid;\r\n        });\r\n        datamodel.data = dataValid;\r\n        // We use Supercluster for real-time node clustering\r\n        this._clusterIndex = calculateClusterIndex(dataValid, this.config);\r\n        // If there was an expanded cluster, try to find its successor and expand it too\r\n        if (this._expandedCluster && this._map.leaflet) {\r\n            // Reset expanded cluster before calling `_getPointData()` to get data with all clusters collapsed\r\n            const expandedCluster = this._expandedCluster;\r\n            this._resetExpandedCluster();\r\n            const pointData = this._getPointData();\r\n            const expandedClusterCenterPx = projectPoint(expandedCluster.cluster, this._map.leaflet);\r\n            const expandedClusterRadiusPx = expandedCluster.cluster.radius;\r\n            const cluster = pointData.find((c) => {\r\n                if (!c.isCluster)\r\n                    return false;\r\n                const pos = projectPoint(c, this._map.leaflet);\r\n                const r = c.radius;\r\n                const distance = Math.sqrt(Math.pow((expandedClusterCenterPx.x - pos.x), 2) + Math.pow((expandedClusterCenterPx.y - pos.y), 2));\r\n                return distance < (expandedClusterRadiusPx + r);\r\n            });\r\n            if (cluster)\r\n                this._expandCluster(cluster, true);\r\n        }\r\n        // Render\r\n        this._leafletInitializationPromise.then(() => {\r\n            this.render();\r\n        });\r\n    }\r\n    setTheme(theme) {\r\n        var _a;\r\n        const layer = this._map.layer; // Using any because the typings are not full\r\n        if (this.config.renderer === LeafletMapRenderer.MapLibre) {\r\n            const maplibreMap = layer.getMaplibreMap();\r\n            (_a = maplibreMap.setStyle) === null || _a === void 0 ? void 0 : _a.call(maplibreMap, theme);\r\n            updateTopoJson(maplibreMap, this.config);\r\n        }\r\n        else {\r\n            if (typeof theme !== 'string') {\r\n                console.warn('Unovis | Leaflet Map: Invalid style. Provide a URL string for raster rendering mode.');\r\n                return;\r\n            }\r\n            layer.setUrl(theme);\r\n        }\r\n    }\r\n    // We redefine the ComponentCore render function to bind event to newly created elements in this._renderData(),\r\n    // which is being called after almost every map interaction\r\n    render() {\r\n        const { config } = this;\r\n        if (!this._map)\r\n            return;\r\n        this._renderData();\r\n        if (this._firstRender) {\r\n            if (config.initialBounds)\r\n                this.fitToBounds(config.initialBounds);\r\n            else if (config.fitViewOnInit)\r\n                this.fitToPoints(0, config.fitViewPadding);\r\n        }\r\n        else {\r\n            if (config.fitViewOnUpdate)\r\n                this.fitToPoints(0, config.fitViewPadding);\r\n            else if (config.fitBoundsOnUpdate)\r\n                this.fitToBounds(config.fitBoundsOnUpdate);\r\n        }\r\n        this._firstRender = false;\r\n    }\r\n    getLeafletInstancePromise() {\r\n        return this._leafletInitializationPromise;\r\n    }\r\n    fitToPoints(duration = this.config.flyToDuration, padding = this.config.fitViewPadding) {\r\n        const { config, datamodel, datamodel: { data } } = this;\r\n        if (!this._map || !this._map.leaflet)\r\n            return;\r\n        if (!(data === null || data === void 0 ? void 0 : data.length))\r\n            return;\r\n        const bounds = datamodel.getDataLatLngBounds(config.pointLatitude, config.pointLongitude);\r\n        this._flyToBoundsAnimationFrameId = requestAnimationFrame(() => this._flyToBounds(bounds, duration, padding));\r\n    }\r\n    fitToBounds(bounds, duration = this.config.flyToDuration, padding = this.config.fitViewPadding) {\r\n        const { northEast, southWest } = bounds;\r\n        if (isNil(northEast) || isNil(southWest))\r\n            return;\r\n        if (isNil(northEast.lat) || isNil(northEast.lng))\r\n            return;\r\n        if (isNil(southWest.lat) || isNil(southWest.lng))\r\n            return;\r\n        if (!this._map || !this._map.leaflet)\r\n            return;\r\n        this._flyToBoundsAnimationFrameId = requestAnimationFrame(() => this._flyToBounds([\r\n            [northEast.lat, southWest.lng],\r\n            [southWest.lat, northEast.lng],\r\n        ], duration, padding));\r\n    }\r\n    /* Select a point by id and optionally center the map view.\r\n     * This method was designed to be used mainly with the `[LeafletMap.selectors.point]` click events\r\n     * (when the user actually clicks on a point) and the specified point is inside one of the collapsed\r\n     * clusters it won't be selected. You can use the `zoomToPointById` method to achieve that.\r\n     */\r\n    selectPointById(id, centerView = false) {\r\n        var _a, _b, _c;\r\n        const { config } = this;\r\n        const pointData = this._getPointData();\r\n        const foundPoint = pointData.find(d => d.properties.id === id);\r\n        if (!foundPoint) {\r\n            console.warn(`Unovis | Leaflet Map: Node with id ${id} can not be found`);\r\n            return;\r\n        }\r\n        if ((_a = foundPoint.properties) === null || _a === void 0 ? void 0 : _a.cluster) {\r\n            console.warn('Unovis | Leaflet Map: Cluster can\\'t be selected');\r\n            return;\r\n        }\r\n        this._selectedPoint = foundPoint;\r\n        const isPointInsideExpandedCluster = (_c = (_b = this._expandedCluster) === null || _b === void 0 ? void 0 : _b.points) === null || _c === void 0 ? void 0 : _c.find(d => getString(d.properties, config.pointId) === id);\r\n        if (!isPointInsideExpandedCluster)\r\n            this._resetExpandedCluster();\r\n        if (centerView) {\r\n            const coordinates = {\r\n                lng: getNumber(foundPoint.properties, config.pointLongitude),\r\n                lat: getNumber(foundPoint.properties, config.pointLatitude),\r\n            };\r\n            const zoomLevel = this._map.leaflet.getZoom();\r\n            this._eventInitiatedByComponent = true;\r\n            this._map.leaflet.flyTo(coordinates, zoomLevel, { duration: 0 });\r\n        }\r\n        else {\r\n            this._renderData();\r\n        }\r\n    }\r\n    /* Get the id of the selected point */\r\n    getSelectedPointId() {\r\n        var _a;\r\n        return (_a = this._selectedPoint) === null || _a === void 0 ? void 0 : _a.id;\r\n    }\r\n    /* Unselect point if it was selected before */\r\n    unselectPoint() {\r\n        this._selectedPoint = null;\r\n        this._externallySelectedPoint = null;\r\n        this.render();\r\n    }\r\n    /** Get the currently expanded cluster */\r\n    getExpandedCluster() {\r\n        var _a, _b;\r\n        if (!this._expandedCluster)\r\n            return;\r\n        const id = (_a = this._expandedCluster.cluster) === null || _a === void 0 ? void 0 : _a.id;\r\n        const points = (_b = this._expandedCluster.cluster) === null || _b === void 0 ? void 0 : _b.clusterPoints.map(d => this.datamodel.data[d._index]);\r\n        return { id, points };\r\n    }\r\n    /* Zoom to a point by id and optionally select it.\r\n     * If the point is inside a cluster, it'll be automatically expanded to show the enclosed point.\r\n     * You can also force set the zoom level by providing the `customZoomLevel` argument.\r\n     */\r\n    zoomToPointById(id, selectPoint = false, customZoomLevel) {\r\n        var _a, _b, _c;\r\n        const { config, datamodel } = this;\r\n        if (!datamodel.data.length) {\r\n            console.warn('Unovis | Leaflet Map: There are no points on the map');\r\n            return;\r\n        }\r\n        const dataBoundsAll = datamodel.getDataLatLngBounds(config.pointLatitude, config.pointLongitude);\r\n        const bounds = [dataBoundsAll[0][1], dataBoundsAll[1][0], dataBoundsAll[1][1], dataBoundsAll[0][0]];\r\n        const pointDataAll = this._getPointData(bounds);\r\n        let foundPoint = pointDataAll\r\n            .find((d) => getString(d.properties, config.pointId) === id);\r\n        // If point was found and it's a cluster -> do nothing\r\n        if ((_a = foundPoint === null || foundPoint === void 0 ? void 0 : foundPoint.properties) === null || _a === void 0 ? void 0 : _a.cluster) {\r\n            console.warn('Unovis | Leaflet Map: Cluster can\\'t be zoomed in');\r\n            return;\r\n        }\r\n        // If point was not found -> search for it in all collapsed clusters\r\n        if (!foundPoint) {\r\n            const { point } = findPointAndClusterByPointId(pointDataAll, id, config.pointId);\r\n            foundPoint = point;\r\n        }\r\n        if (foundPoint) {\r\n            // If point was found and it's inside an expanded cluster -> simply select it\r\n            const isPointInsideExpandedCluster = (_c = (_b = this._expandedCluster) === null || _b === void 0 ? void 0 : _b.points) === null || _c === void 0 ? void 0 : _c.find(d => getString(d.properties, config.pointId) === id);\r\n            if (isPointInsideExpandedCluster && selectPoint) {\r\n                this._selectedPoint = foundPoint;\r\n                this._renderData();\r\n                return;\r\n            }\r\n            // Else - trigger zoom\r\n            this._externallySelectedPoint = foundPoint;\r\n            this._zoomingToExternallySelectedPoint = true;\r\n            this._forceExpandCluster = !isNil(customZoomLevel);\r\n            if (selectPoint)\r\n                this._selectedPoint = foundPoint;\r\n            const zoomLevel = isNil(customZoomLevel) ? this._map.leaflet.getZoom() : customZoomLevel;\r\n            const pointDatum = foundPoint.properties;\r\n            const coordinates = {\r\n                lng: getNumber(pointDatum, config.pointLongitude),\r\n                lat: getNumber(pointDatum, config.pointLatitude),\r\n            };\r\n            this._eventInitiatedByComponent = true;\r\n            this._map.leaflet.flyTo(coordinates, zoomLevel, { duration: 0 });\r\n        }\r\n        else {\r\n            console.warn(`Unovis | Leaflet Map: Node with id ${id} can not be found`);\r\n        }\r\n    }\r\n    getNodeRelativePosition(node) {\r\n        return getNodeRelativePosition(node, this._map.leaflet);\r\n    }\r\n    hasBeenZoomed() {\r\n        return this._hasBeenZoomed;\r\n    }\r\n    hasBeenMoved() {\r\n        return this._hasBeenMoved;\r\n    }\r\n    isZooming() {\r\n        return this._isZooming;\r\n    }\r\n    isMoving() {\r\n        return this._isMoving;\r\n    }\r\n    _flyToBounds(bounds, durationMs, paddingPx) {\r\n        this._eventInitiatedByComponent = true;\r\n        const duration = durationMs / 1000;\r\n        const padding = paddingPx ? [\r\n            paddingPx[0] < this._container.clientWidth / 2 ? paddingPx[0] : this._container.clientWidth / 2,\r\n            paddingPx[1] < this._container.clientHeight / 2 ? paddingPx[1] : this._container.clientHeight / 2,\r\n        ] : undefined;\r\n        if (duration) {\r\n            this._map.leaflet.flyToBounds(bounds, { duration, padding });\r\n        }\r\n        else {\r\n            this._map.leaflet.fitBounds(bounds, { padding });\r\n        }\r\n    }\r\n    _renderData(mapMoveZoomUpdateOnly = false) {\r\n        var _a;\r\n        const { config } = this;\r\n        const pointData = this._getPointData();\r\n        const contentBBox = pointData.length ? bBoxMerge(pointData.map(d => d.bbox)) : { x: 0, y: 0, width: 0, height: 0 };\r\n        // Set SVG size to match Leaflet transform\r\n        const svgExtraPadding = 40 + this._clusterBackgroundRadius; // We need it to fit point labels and expanded cluster background circle\r\n        const dx = contentBBox.x - svgExtraPadding;\r\n        const dy = contentBBox.y - svgExtraPadding;\r\n        this._map.svgOverlay\r\n            .attr('width', contentBBox.width + 2 * svgExtraPadding)\r\n            .attr('height', contentBBox.height + 2 * svgExtraPadding)\r\n            .style('left', `${dx}px`)\r\n            .style('top', `${dy}px`);\r\n        this._map.svgGroup\r\n            .attr('transform', `translate(${-dx},${-dy})`);\r\n        // Render content\r\n        const points = this._pointGroup.selectAll(`.${point}:not(.exit)`)\r\n            .data(pointData, (d, i) => `${d.id || d.geometry.coordinates.join('')}`);\r\n        points.exit().classed('exit', true).call(removeNodes);\r\n        const pointsEnter = points.enter().append('g').attr('class', point)\r\n            .call(createNodes);\r\n        const pointsMerged = points.merge(pointsEnter);\r\n        pointsEnter.call(updateNodes, config, this._map.leaflet);\r\n        points.call(updateNodes, config, this._map.leaflet, mapMoveZoomUpdateOnly);\r\n        pointsMerged.call(collideLabels, this._map.leaflet);\r\n        this._clusterBackground.call(updateBackgroundNode, this._expandedCluster, config, this._map.leaflet, this._clusterBackgroundRadius);\r\n        if (this._expandedCluster && config.clusterBackground) {\r\n            pointData.forEach((d, i) => { var _a; d._zIndex = ((_a = d.properties) === null || _a === void 0 ? void 0 : _a.expandedClusterPoint) ? 2 : 0; });\r\n            this._pointGroup\r\n                .selectAll(`.${point}, .${clusterBackground}, .${pointSelectionRing}`)\r\n                .sort((a, b) => a._zIndex - b._zIndex);\r\n        }\r\n        // Show selection border and hide it when the node\r\n        // is out of visible box\r\n        if (config.selectedPointId) {\r\n            const foundPoint = pointData.find(d => getString(d.properties, config.pointId) === config.selectedPointId);\r\n            const { cluster } = findPointAndClusterByPointId(pointData, config.selectedPointId, config.pointId);\r\n            if (foundPoint)\r\n                this._selectedPoint = foundPoint;\r\n            else\r\n                this._selectedPoint = cluster;\r\n        }\r\n        this._pointSelectionRing.call(updateNodeSelectionRing, this._selectedPoint, pointData, config, this._map.leaflet);\r\n        // Set up events and attributes for the rendered points\r\n        this._setUpComponentEventsThrottled();\r\n        this._setCustomAttributesThrottled();\r\n        // Tooltip\r\n        (_a = config.tooltip) === null || _a === void 0 ? void 0 : _a.update();\r\n    }\r\n    _zoomToExternallySelectedPoint() {\r\n        const { config } = this;\r\n        if (!this._externallySelectedPoint)\r\n            return;\r\n        const externallySelectedPointDatum = this._externallySelectedPoint.properties;\r\n        const externallySelectedPointId = getString(externallySelectedPointDatum, config.pointId);\r\n        const pointData = this._getPointData();\r\n        const foundPoint = pointData.find(d => getString(d.properties, config.pointId) === externallySelectedPointId);\r\n        if (foundPoint) {\r\n            this._zoomingToExternallySelectedPoint = false;\r\n            this._currentZoomLevel = null;\r\n        }\r\n        else {\r\n            const { cluster } = findPointAndClusterByPointId(pointData, externallySelectedPointId, config.pointId);\r\n            if (!cluster)\r\n                return;\r\n            const zoomLevel = this._map.leaflet.getZoom();\r\n            // Expand cluster or fly further\r\n            if (this._forceExpandCluster || shouldClusterExpand(cluster, zoomLevel, 8, 13)) {\r\n                this._expandCluster(cluster);\r\n            }\r\n            else {\r\n                const newZoomLevel = getNextZoomLevelOnClusterClick(zoomLevel);\r\n                const coordinates = {\r\n                    lng: getNumber(externallySelectedPointDatum, config.pointLongitude),\r\n                    lat: getNumber(externallySelectedPointDatum, config.pointLatitude),\r\n                };\r\n                if (this._currentZoomLevel !== newZoomLevel) {\r\n                    this._currentZoomLevel = newZoomLevel;\r\n                    this._eventInitiatedByComponent = true;\r\n                    this._map.leaflet.flyTo(coordinates, newZoomLevel, { duration: 0 });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _expandCluster(clusterPoint, preventRender) {\r\n        var _a;\r\n        const { config, config: { clusterBackground } } = this;\r\n        const padding = 1;\r\n        (_a = config.tooltip) === null || _a === void 0 ? void 0 : _a.hide();\r\n        this._forceExpandCluster = false;\r\n        if (clusterPoint) {\r\n            const points = clusterPoint.clusterIndex.getLeaves(clusterPoint.properties.cluster_id, Infinity);\r\n            const packPoints = points.map(p => ({\r\n                x: null,\r\n                y: null,\r\n                r: getPointRadius(p, config.pointRadius, this._map.leaflet.getZoom()) + padding,\r\n            }));\r\n            packSiblings(packPoints);\r\n            points.forEach((p, i) => {\r\n                p.properties.expandedClusterPoint = clusterPoint;\r\n                p.properties.r = packPoints[i].r;\r\n                p.properties.dx = packPoints[i].x;\r\n                p.properties.dy = packPoints[i].y;\r\n            });\r\n            this._resetExpandedCluster();\r\n            this._expandedCluster = {\r\n                cluster: clusterPoint,\r\n                points,\r\n            };\r\n            if (clusterBackground)\r\n                this._clusterBackgroundRadius = getClusterRadius(this._expandedCluster);\r\n            if (!preventRender)\r\n                this._renderData();\r\n        }\r\n        this._zoomingToExternallySelectedPoint = false;\r\n    }\r\n    _resetExpandedCluster() {\r\n        var _a, _b;\r\n        (_b = (_a = this._expandedCluster) === null || _a === void 0 ? void 0 : _a.points) === null || _b === void 0 ? void 0 : _b.forEach(d => { delete d.properties.expandedClusterPoint; });\r\n        this._expandedCluster = null;\r\n    }\r\n    _getPointData(customBounds) {\r\n        const { config, datamodel: { data } } = this;\r\n        if (!data || !this._clusterIndex)\r\n            return [];\r\n        let geoJSONPoints = getClustersAndPoints(this._clusterIndex, this._map.leaflet, customBounds);\r\n        if (this._expandedCluster) {\r\n            // Remove expanded cluster from the data\r\n            geoJSONPoints = geoJSONPoints.filter(c => c.properties.cluster_id !== this._expandedCluster.cluster.properties.cluster_id);\r\n            // Add points from the expanded cluster\r\n            geoJSONPoints = geoJSONPoints.concat(this._expandedCluster.points);\r\n        }\r\n        const pointData = geoJSONPoints\r\n            // Todo: Remove explicitly set ClusterFeature<LeafletMapPointDatum<Datum>> type\r\n            .map((d, i) => {\r\n            return geoJsonPointToScreenPoint(d, i, this._map.leaflet, config);\r\n        });\r\n        // .sort((a, b) => getPointDisplayOrder(a, config.pointStatus, config.colorMap) - getPointDisplayOrder(b, config.pointStatus, config.colorMap))\r\n        return pointData;\r\n    }\r\n    _getMapZoomState() {\r\n        const leafletBounds = this._map.leaflet.getBounds();\r\n        const southWest = leafletBounds.getSouthWest();\r\n        const northEast = leafletBounds.getNorthEast();\r\n        return {\r\n            mapCenter: this._map.leaflet.getCenter(),\r\n            zoomLevel: this._map.leaflet.getZoom(),\r\n            bounds: { southWest, northEast },\r\n            userDriven: !this._eventInitiatedByComponent,\r\n        };\r\n    }\r\n    _onMapDragLeaflet() {\r\n        this._cancelBackgroundClick = true;\r\n    }\r\n    _onMapMove() {\r\n        var _a;\r\n        const { config } = this;\r\n        if (!this._map)\r\n            return;\r\n        this._hasBeenMoved = true;\r\n        this._renderDataAnimationFrameId = requestAnimationFrame(() => {\r\n            this._renderData(true);\r\n        });\r\n        (_a = config.onMapMoveZoom) === null || _a === void 0 ? void 0 : _a.call(config, this._getMapZoomState());\r\n    }\r\n    _onMapMoveStart() {\r\n        var _a;\r\n        const { config } = this;\r\n        if (!this._map)\r\n            return;\r\n        this._isMoving = true;\r\n        (_a = config.onMapMoveStart) === null || _a === void 0 ? void 0 : _a.call(config, this._getMapZoomState());\r\n    }\r\n    _onMapMoveEnd() {\r\n        var _a, _b;\r\n        const { config } = this;\r\n        if (!this._map)\r\n            return;\r\n        (_a = this._onMapMoveEndInternal) === null || _a === void 0 ? void 0 : _a.call(this, this._map.leaflet);\r\n        (_b = config.onMapMoveEnd) === null || _b === void 0 ? void 0 : _b.call(config, this._getMapZoomState());\r\n        constraintMapViewThrottled(this._map.leaflet);\r\n        const events = this._map.layer.getEvents();\r\n        if (events.zoomend) {\r\n            const zoomEndEvent = events.zoomend.bind(this._map.layer);\r\n            zoomEndEvent(null);\r\n        }\r\n        if (this._externallySelectedPoint || this._zoomingToExternallySelectedPoint) {\r\n            this._zoomToExternallySelectedPoint();\r\n        }\r\n        this._isMoving = false;\r\n        this._eventInitiatedByComponent = false;\r\n    }\r\n    _onMapZoomStart() {\r\n        var _a;\r\n        const { config } = this;\r\n        if (!this._map)\r\n            return;\r\n        this._isZooming = true;\r\n        (_a = config.onMapZoomStart) === null || _a === void 0 ? void 0 : _a.call(config, this._getMapZoomState());\r\n    }\r\n    _onMapZoomEnd() {\r\n        var _a;\r\n        const { config } = this;\r\n        if (!this._map)\r\n            return;\r\n        (_a = config.onMapZoomEnd) === null || _a === void 0 ? void 0 : _a.call(config, this._getMapZoomState());\r\n        this._isZooming = false;\r\n        if (!this._isMoving)\r\n            this._eventInitiatedByComponent = false;\r\n    }\r\n    _onMapZoom() {\r\n        var _a, _b;\r\n        const { config } = this;\r\n        if (!this._map)\r\n            return;\r\n        this._hasBeenZoomed = true;\r\n        if (!this._externallySelectedPoint)\r\n            this._resetExpandedCluster();\r\n        else if (!this._zoomingToExternallySelectedPoint) {\r\n            this._externallySelectedPoint = null;\r\n        }\r\n        (_a = config.tooltip) === null || _a === void 0 ? void 0 : _a.hide();\r\n        (_b = config.onMapMoveZoom) === null || _b === void 0 ? void 0 : _b.call(config, this._getMapZoomState());\r\n    }\r\n    _onBackgroundClick(el, event) {\r\n        var _a;\r\n        const { config } = this;\r\n        if (this._cancelBackgroundClick) {\r\n            this._cancelBackgroundClick = false;\r\n            return;\r\n        }\r\n        this._externallySelectedPoint = null;\r\n        this._resetExpandedCluster();\r\n        this._renderData();\r\n        (_a = config.onMapClick) === null || _a === void 0 ? void 0 : _a.call(config, this._getMapZoomState());\r\n    }\r\n    _onPointClick(d, event) {\r\n        const { config: { flyToDuration, clusterExpandOnClick } } = this;\r\n        this._externallySelectedPoint = null;\r\n        event.stopPropagation();\r\n        if (d.properties.cluster) {\r\n            const zoomLevel = this._map.leaflet.getZoom();\r\n            const coordinates = { lng: d.geometry.coordinates[0], lat: d.geometry.coordinates[1] };\r\n            if (clusterExpandOnClick && shouldClusterExpand(d, zoomLevel))\r\n                this._expandCluster(d);\r\n            else {\r\n                const newZoomLevel = getNextZoomLevelOnClusterClick(zoomLevel);\r\n                this._eventInitiatedByComponent = true;\r\n                this._map.leaflet.flyTo(coordinates, newZoomLevel, { duration: flyToDuration / 1000 });\r\n            }\r\n        }\r\n    }\r\n    _onPointMouseDown(d, event) {\r\n        this._cancelBackgroundClick = true;\r\n    }\r\n    _onPointMouseUp(d, event) {\r\n        this._cancelBackgroundClick = false;\r\n    }\r\n    zoomIn(increment = 1) {\r\n        var _a;\r\n        if (!((_a = this._map) === null || _a === void 0 ? void 0 : _a.leaflet))\r\n            return;\r\n        this.setZoom(this._map.leaflet.getZoom() + increment);\r\n    }\r\n    zoomOut(increment = 1) {\r\n        var _a;\r\n        if (!((_a = this._map) === null || _a === void 0 ? void 0 : _a.leaflet))\r\n            return;\r\n        this.setZoom(this._map.leaflet.getZoom() - increment);\r\n    }\r\n    setZoom(zoomLevel) {\r\n        var _a;\r\n        const leaflet = (_a = this._map) === null || _a === void 0 ? void 0 : _a.leaflet;\r\n        if (!leaflet)\r\n            return;\r\n        this._eventInitiatedByComponent = true;\r\n        leaflet.flyTo(leaflet.getCenter(), clamp(zoomLevel, leaflet.getMinZoom(), leaflet.getMaxZoom()), { duration: this.config.zoomDuration / 1000 });\r\n    }\r\n    fitView() {\r\n        this.fitToPoints();\r\n    }\r\n    destroy() {\r\n        var _a, _b;\r\n        constraintMapViewThrottled.cancel();\r\n        cancelAnimationFrame(this._renderDataAnimationFrameId);\r\n        cancelAnimationFrame(this._flyToBoundsAnimationFrameId);\r\n        const map = (_a = this._map) === null || _a === void 0 ? void 0 : _a.leaflet;\r\n        this._map = undefined;\r\n        map === null || map === void 0 ? void 0 : map.stop();\r\n        map === null || map === void 0 ? void 0 : map.remove();\r\n        this.g.remove();\r\n        this.resizeObserver.disconnect();\r\n        (_b = this.themeObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\r\n    }\r\n}\r\nLeafletMap.selectors = style;\r\nLeafletMap.cssVariables = variables;\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nLeafletMap.DEFAULT_CONTAINER_HEIGHT = 600;\n\nexport { LeafletMap };\n\n", "import { LeafletMapDefaultConfig } from '../leaflet-map/config.js';\n\n/* eslint-disable dot-notation */\r\nconst LeafletFlowMapDefaultConfig = Object.assign(Object.assign({}, LeafletMapDefaultConfig), { sourceLongitude: (f) => f.sourceLongitude, sourceLatitude: (f) => f.sourceLatitude, targetLongitude: (f) => f.targetLongitude, targetLatitude: (f) => f.targetLatitude, sourcePointRadius: 3, sourcePointColor: '#88919f', flowParticleColor: '#949dad', flowParticleRadius: 1.1, flowParticleSpeed: 0.07, flowParticleDensity: 0.6, onSourcePointClick: undefined, onSourcePointMouseEnter: undefined, onSourcePointMouseLeave: undefined });\n\nexport { LeafletFlowMapDefaultConfig };\n\n", "import { select } from 'd3-selection';\nimport { ComponentCore } from '../../core/component/index.js';\nimport { ComponentType } from '../../types/component.js';\nimport { ResizeObserver } from '../../utils/resize-observer.js';\nimport { throttle, getNumber } from '../../utils/data.js';\nimport { getDataLatLngBounds } from '../../utils/map.js';\nimport { getColor } from '../../utils/color.js';\nimport { LeafletMap } from '../leaflet-map/index.js';\nimport { LeafletFlowMapDefaultConfig } from './config.js';\n\nclass LeafletFlowMap extends ComponentCore {\r\n    constructor(container, config, data) {\r\n        var _a;\r\n        super(ComponentType.HTML);\r\n        this._defaultConfig = LeafletFlowMapDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.type = ComponentType.HTML;\r\n        this.flows = [];\r\n        this.points = [];\r\n        this.onCanvasMouseMoveBound = throttle(this.onCanvasMouseMove.bind(this), 60);\r\n        this.onCanvasClickBound = this.onCanvasClick.bind(this);\r\n        this.panningOffset = { x: 0, y: 0 };\r\n        this.particles = [];\r\n        this.leafletMap = new LeafletMap(container, config, (_a = data === null || data === void 0 ? void 0 : data.points) !== null && _a !== void 0 ? _a : []);\r\n        const rendererImportPromise = import('./renderer.js');\r\n        Promise.all([rendererImportPromise, this.leafletMap.getLeafletInstancePromise()])\r\n            .then((imports) => {\r\n            // eslint-disable-next-line @typescript-eslint/naming-convention\r\n            const [{ PointRenderer }, leaflet] = imports;\r\n            this.leafletMapInstance = leaflet;\r\n            const canvasContainer = this.leafletMapInstance.getPanes().overlayPane;\r\n            // Initialize renderer\r\n            const canvas = select(canvasContainer).insert('canvas', ':first-child');\r\n            this.canvasElement = canvas.node();\r\n            this.renderer = new PointRenderer(canvasContainer, container.offsetWidth, container.offsetHeight, this.canvasElement);\r\n            this.canvasElement.addEventListener('mousemove', this.onCanvasMouseMoveBound);\r\n            this.canvasElement.addEventListener('click', this.onCanvasClickBound);\r\n            this.leafletMap._onMapMoveEndInternal = this.onMapMove.bind(this);\r\n            // Update renderer size on container resize\r\n            this.resizeObserver = new ResizeObserver(() => {\r\n                this.renderer.setSize(container.offsetWidth, container.offsetHeight);\r\n            });\r\n            this.resizeObserver.observe(container);\r\n            if (config)\r\n                this.setConfig(config);\r\n            if (data)\r\n                this.setData(data);\r\n            this.animate();\r\n        });\r\n    }\r\n    setConfig(config) {\r\n        super.setConfig(config);\r\n        this.leafletMap.setConfig(Object.assign(Object.assign({}, config), { clusteringDistance: 0 }));\r\n    }\r\n    setData(data) {\r\n        super.setData(data);\r\n        this.flows = data.flows;\r\n        this.points = data.points;\r\n        this.initParticles();\r\n        this.leafletMap.setData(this.points);\r\n        this.render();\r\n    }\r\n    render() {\r\n        super.render();\r\n    }\r\n    initParticles() {\r\n        var _a;\r\n        this.clearParticles();\r\n        for (const flow of this.flows) {\r\n            const source = {\r\n                lat: getNumber(flow, this.config.sourceLatitude),\r\n                lon: getNumber(flow, this.config.sourceLongitude),\r\n            };\r\n            const target = {\r\n                lat: getNumber(flow, this.config.targetLatitude),\r\n                lon: getNumber(flow, this.config.targetLongitude),\r\n            };\r\n            // Add source particle, showing the origin of the flow\r\n            const sourcePointRadius = getNumber(flow, this.config.sourcePointRadius);\r\n            const sourcePointColor = getColor(flow, this.config.sourcePointColor);\r\n            this.addParticle(source, source, source, 0, sourcePointRadius, sourcePointColor);\r\n            // Add flow particles\r\n            const dist = Math.sqrt(Math.pow((target.lat - source.lat), 2) + Math.pow((target.lon - source.lon), 2));\r\n            const numParticles = Math.round(dist * getNumber(flow, this.config.flowParticleDensity));\r\n            const velocity = getNumber(flow, this.config.flowParticleSpeed);\r\n            const r = getNumber(flow, this.config.flowParticleRadius);\r\n            const color = getColor(flow, this.config.flowParticleColor);\r\n            for (let i = 0; i < numParticles; i += 1) {\r\n                const location = {\r\n                    lat: source.lat + (target.lat - source.lat) * i / numParticles,\r\n                    lon: source.lon + (target.lon - source.lon) * i / numParticles,\r\n                };\r\n                this.addParticle(source, target, location, velocity, r, color);\r\n            }\r\n        }\r\n        (_a = this.renderer) === null || _a === void 0 ? void 0 : _a.update(this.particles);\r\n    }\r\n    addParticle(source, target, location = source, velocity = 0.05, r = 0.75, color) {\r\n        const x = 0;\r\n        const y = 0;\r\n        this.particles.push({ x, y, source, target, location, velocity, r, color });\r\n    }\r\n    clearParticles() {\r\n        this.particles = [];\r\n    }\r\n    animate() {\r\n        const map = this.leafletMapInstance;\r\n        requestAnimationFrame(() => {\r\n            const zoomLevel = map === null || map === void 0 ? void 0 : map.getZoom();\r\n            for (const p of this.particles) {\r\n                const fullDist = Math.sqrt(Math.pow((p.target.lat - p.source.lat), 2) + Math.pow((p.target.lon - p.source.lon), 2));\r\n                const remainedDist = Math.sqrt(Math.pow((p.target.lat - p.location.lat), 2) + Math.pow((p.target.lon - p.location.lon), 2));\r\n                const angle = Math.atan2(p.target.lat - p.source.lat, p.target.lon - p.source.lon);\r\n                p.location.lat += p.velocity * Math.sin(angle);\r\n                p.location.lon += p.velocity * Math.cos(angle);\r\n                if ((((p.target.lat > p.source.lat) && (p.location.lat > p.target.lat)) || ((p.target.lon > p.source.lon) && (p.location.lon > p.target.lon))) ||\r\n                    (((p.target.lat < p.source.lat) && (p.location.lat < p.target.lat)) || ((p.target.lon < p.source.lon) && (p.location.lon < p.target.lon)))) {\r\n                    p.location.lat = p.source.lat;\r\n                    p.location.lon = p.source.lon;\r\n                }\r\n                const pos = map === null || map === void 0 ? void 0 : map.latLngToLayerPoint([p.location.lat, p.location.lon]);\r\n                const orthogonalArcShift = -(Math.pow(zoomLevel, 2) * fullDist / 8) * Math.cos(Math.PI / 2 * (fullDist / 2 - remainedDist) / (fullDist / 2)) || 0;\r\n                p.x = (pos === null || pos === void 0 ? void 0 : pos.x) - this.panningOffset.x;\r\n                p.y = (pos === null || pos === void 0 ? void 0 : pos.y) + orthogonalArcShift - this.panningOffset.y;\r\n            }\r\n            this.renderer.updatePointsPosition(this.particles);\r\n            this.renderer.draw();\r\n            this.animate();\r\n        });\r\n    }\r\n    getPointByScreenPos(x, y) {\r\n        const map = this.leafletMapInstance;\r\n        for (const flow of this.flows) {\r\n            const lat = getNumber(flow, this.config.sourceLatitude);\r\n            const lon = getNumber(flow, this.config.sourceLongitude);\r\n            const r = getNumber(flow, this.config.sourcePointRadius);\r\n            const pos = map === null || map === void 0 ? void 0 : map.latLngToLayerPoint([lat, lon]);\r\n            const posX = pos.x - this.panningOffset.x;\r\n            const posY = pos.y - this.panningOffset.y;\r\n            if ((Math.abs(x - posX) < r) && (Math.abs(y - posY) < r)) {\r\n                return [flow, posX, posY];\r\n            }\r\n        }\r\n        return [];\r\n    }\r\n    onCanvasMouseMove(event) {\r\n        var _a, _b;\r\n        const { config } = this;\r\n        this.canvasElement.style.removeProperty('cursor');\r\n        const [hoveredPoint, x, y] = this.getPointByScreenPos(event.offsetX, event.offsetY);\r\n        if (hoveredPoint)\r\n            this.canvasElement.style.cursor = 'default';\r\n        if (this.hoveredSourcePoint !== hoveredPoint) {\r\n            if (hoveredPoint)\r\n                (_a = config.onSourcePointMouseEnter) === null || _a === void 0 ? void 0 : _a.call(config, hoveredPoint, x, y, event);\r\n            if (this.hoveredSourcePoint)\r\n                (_b = config.onSourcePointMouseLeave) === null || _b === void 0 ? void 0 : _b.call(config, this.hoveredSourcePoint, event);\r\n            this.hoveredSourcePoint = hoveredPoint;\r\n        }\r\n    }\r\n    onCanvasClick(event) {\r\n        var _a;\r\n        const { config } = this;\r\n        const [clickedPoint, x, y] = this.getPointByScreenPos(event.offsetX, event.offsetY);\r\n        if (clickedPoint)\r\n            (_a = config.onSourcePointClick) === null || _a === void 0 ? void 0 : _a.call(config, clickedPoint, x, y, event);\r\n    }\r\n    onMapMove(leaflet) {\r\n        const shift = leaflet.containerPointToLayerPoint([0, 0]);\r\n        this.panningOffset.x = shift.x;\r\n        this.panningOffset.y = shift.y;\r\n        this.canvasElement.style.transform = `translate(${shift.x}px, ${shift.y}px)`;\r\n    }\r\n    destroy() {\r\n        var _a, _b, _c, _d;\r\n        (_a = this.resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n        (_b = this.renderer) === null || _b === void 0 ? void 0 : _b.destroy();\r\n        (_c = this.canvasElement) === null || _c === void 0 ? void 0 : _c.removeEventListener('mousemove', this.onCanvasMouseMoveBound);\r\n        (_d = this.canvasElement) === null || _d === void 0 ? void 0 : _d.removeEventListener('click', this.onCanvasClickBound);\r\n        super.destroy();\r\n    }\r\n    // Leaflet Map useful methods\r\n    selectPointById(id, centerPoint = false) { this.leafletMap.selectPointById(id, centerPoint); }\r\n    getSelectedPointId() { return this.leafletMap.getSelectedPointId(); }\r\n    unselectPoint() { this.leafletMap.unselectPoint(); }\r\n    zoomToPointById(id, selectNode = false, customZoomLevel) { this.leafletMap.zoomToPointById(id, selectNode, customZoomLevel); }\r\n    zoomIn(increment = 1) { this.leafletMap.zoomIn(increment); }\r\n    zoomOut(increment = 1) { this.leafletMap.zoomOut(increment); }\r\n    setZoom(zoomLevel) { this.leafletMap.setZoom(zoomLevel); }\r\n    fitView() {\r\n        const points = [];\r\n        for (const point of this.points) {\r\n            points.push({\r\n                lat: getNumber(point, this.config.pointLatitude),\r\n                lon: getNumber(point, this.config.pointLongitude),\r\n            });\r\n        }\r\n        for (const flow of this.flows) {\r\n            const source = {\r\n                lat: getNumber(flow, this.config.sourceLatitude),\r\n                lon: getNumber(flow, this.config.sourceLongitude),\r\n            };\r\n            const target = {\r\n                lat: getNumber(flow, this.config.targetLatitude),\r\n                lon: getNumber(flow, this.config.targetLongitude),\r\n            };\r\n            points.push(source);\r\n            points.push(target);\r\n        }\r\n        const boundsArray = getDataLatLngBounds(points, d => d.lat, d => d.lon, 0);\r\n        const bounds = {\r\n            northEast: { lat: boundsArray[0][0], lng: boundsArray[1][1] },\r\n            southWest: { lat: boundsArray[1][0], lng: boundsArray[0][1] },\r\n        };\r\n        this.leafletMap.fitToBounds(bounds);\r\n    }\r\n}\r\nLeafletFlowMap.selectors = LeafletMap.selectors;\n\nexport { LeafletFlowMap };\n\n", "import { ComponentDefaultConfig } from '../../core/component/config.js';\nimport { ChordLabelAlignment } from './types.js';\n\n// Core\r\nconst ChordDiagramDefaultConfig = Object.assign(Object.assign({}, ComponentDefaultConfig), { duration: 800, highlightedNodeId: undefined, highlightedLinkIds: [], linkColor: undefined, linkValue: (d) => d.value, nodeLevels: [], nodeWidth: 15, nodeColor: (d) => d.color, nodeLabel: (d) => { var _a; return (_a = d.label) !== null && _a !== void 0 ? _a : d.key; }, nodeLabelColor: undefined, nodeLabelAlignment: ChordLabelAlignment.Along, padAngle: 0.02, cornerRadius: 2, angleRange: [0, 2 * Math.PI], radiusScaleExponent: 2 });\n\nexport { ChordDiagramDefaultConfig };\n\n", "import { interpolate } from 'd3-interpolate';\nimport { getColor } from '../../../utils/color.js';\nimport { smartTransition } from '../../../utils/d3.js';\n\nfunction createNode(selection) {\r\n    selection\r\n        .style('opacity', 0)\r\n        .each((d, i, els) => {\r\n        const arcNode = els[i];\r\n        const angleCenter = (d.x0 + d.x1) / 2;\r\n        const angleHalfWidth = (d.x1 - d.x0) / 2;\r\n        arcNode._animState = {\r\n            x0: angleCenter - angleHalfWidth * 0.8,\r\n            x1: angleCenter + angleHalfWidth * 0.8,\r\n            y0: d.y0,\r\n            y1: d.y1,\r\n        };\r\n    });\r\n}\r\nfunction updateNode(selection, config, arcGen, duration) {\r\n    const nodeColor = (d) => getColor(d.data, config.nodeColor, d.height);\r\n    selection\r\n        .attr('id', d => d.uid)\r\n        .style('transition', `fill ${duration}ms`) // Animate color with CSS because we're using CSS-variables\r\n        .style('fill', nodeColor)\r\n        .style('stroke', nodeColor);\r\n    if (duration) {\r\n        const transition = smartTransition(selection, duration)\r\n            .style('opacity', 1);\r\n        transition.attrTween('d', (d, i, els) => {\r\n            const arcNode = els[i];\r\n            const nextAnimState = { x0: d.x0, x1: d.x1, y0: d.y0, y1: d.y1 };\r\n            const datum = interpolate(arcNode._animState, nextAnimState);\r\n            return (t) => {\r\n                arcNode._animState = datum(t);\r\n                return arcGen(arcNode._animState);\r\n            };\r\n        });\r\n    }\r\n    else {\r\n        selection.attr('d', d => arcGen(d))\r\n            .style('opacity', 1);\r\n    }\r\n}\r\nfunction removeNode(selection, duration) {\r\n    smartTransition(selection, duration)\r\n        .style('opacity', 0)\r\n        .remove();\r\n}\n\nexport { createNode, removeNode, updateNode };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst root = css `\n  label: chord-diagram-component;\n`;\r\nconst variables = injectGlobal `\n  :root {\n    --vis-chord-diagram-link-fill-color: #cad5f6;\n    --vis-chord-diagram-link-stroke-color: #777777;\n    --vis-chord-diagram-link-opacity: 0.5;\n    --vis-chord-diagram-link-stroke-opacity: 0.15;\n    --vis-chord-diagram-link-highlighted-opacity: 0.9;\n    --vis-chord-diagram-link-dimmed-opacity: 0.25;\n\n    --vis-chord-diagram-node-highlighted-opacity: 0.9;\n    --vis-chord-diagram-node-dimmed-opacity: 0.25;\n\n    --vis-chord-diagram-label-text-fill-color-bright: #ffffff;\n    --vis-chord-diagram-label-text-fill-color-dark: #a5abb2;\n    --vis-chord-diagram-label-text-font-size: 1em;\n\n    --vis-dark-chord-diagram-link-fill-color: #575c65;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-chord-diagram-link-fill-color: var(--vis-dark-chord-diagram-link-fill-color);\n  }\n`;\r\nconst background = css `\n  label: background;\n`;\r\nconst nodes = css `\n  label: nodes;\n`;\r\nconst links = css `\n  label: links;\n`;\r\nconst labels = css `\n  label: labels;\n`;\r\nconst node = css `\n  label: node;\n  stroke-width: 0;\n  fill: var(--vis-color-main);\n  stroke: var(--vis-color-main);\n  transition: .1s fill-opacity;\n`;\r\nconst highlightedNode = css `\n  label: highlighted;\n  fill-opacity: var(--vis-chord-diagram-node-highlighted-opacity);\n  stroke-width: 1.5;\n`;\r\nconst label = css `\n  label: label;\n`;\r\nconst labelText = css `\n  label: label-text;\n\n  dominant-baseline: middle;\n  user-select: none;\n  font-size: var(--vis-chord-diagram-label-text-font-size);\n  \n  > textPath {\n    dominant-baseline: central;\n  }\n`;\r\nconst labelExit = css `\n  label: label-exit;\n`;\r\nconst link = css `\n  label: link;\n\n  fill: var(--vis-chord-diagram-link-fill-color);\n  fill-opacity: var(--vis-chord-diagram-link-opacity);\n  stroke: var(--vis-chord-diagram-link-stroke-color);\n  stroke-opacity:  var(--vis-chord-diagram-link-stroke-opacity);\n  transition: .1s fill-opacity;\n`;\r\nconst highlightedLink = css `\n  label: highlighted;\n  fill-opacity: var(--vis-chord-diagram-link-highlighted-opacity);\n`;\r\nconst transparent = css `\n  label: transparent;\n\n  ${`.${link}`}:not(${`.${highlightedLink}`}) {\n    fill-opacity: var(--vis-chord-diagram-link-dimmed-opacity);\n  }\n\n  ${`.${node}`}:not(${`.${highlightedNode}`}) {\n    fill-opacity: var(--vis-chord-diagram-node-dimmed-opacity);\n  }\n`;\n\nexport { background, highlightedLink, highlightedNode, label, labelExit, labelText, labels, link, links, node, nodes, root, transparent, variables };\n\n", "import { select } from 'd3-selection';\nimport { color } from 'd3-color';\nimport { trimSVGText } from '../../../utils/text.js';\nimport { smartTransition } from '../../../utils/d3.js';\nimport { getValue, getString, getNumber } from '../../../utils/data.js';\nimport { getColor, hexToBrightness } from '../../../utils/color.js';\nimport { ChordLabelAlignment } from '../types.js';\nimport { labelText } from '../style.js';\n\nconst LABEL_PADDING = 3;\r\nfunction getLabelFillColor(d, config) {\r\n    var _a;\r\n    const nodeLabelAlignment = (_a = getValue(d.data, config.nodeLabelAlignment)) !== null && _a !== void 0 ? _a : ChordLabelAlignment.Along;\r\n    switch (nodeLabelAlignment) {\r\n        case ChordLabelAlignment.Perpendicular: {\r\n            return getColor(d.data, config.nodeColor, d.height);\r\n        }\r\n        case ChordLabelAlignment.Along: {\r\n            const c = getColor(d.data, config.nodeColor, d.height);\r\n            const colorParsed = color(c);\r\n            const brightness = colorParsed ? hexToBrightness(colorParsed.hex()) : 0;\r\n            return brightness > 0.65 ? 'var(--vis-chord-diagram-label-text-fill-color-dark)' : 'var(--vis-chord-diagram-label-text-fill-color-bright)';\r\n        }\r\n    }\r\n}\r\nfunction getLabelTextAnchor(d, config) {\r\n    var _a;\r\n    const nodeLabelAlignment = (_a = getValue(d.data, config.nodeLabelAlignment)) !== null && _a !== void 0 ? _a : ChordLabelAlignment.Along;\r\n    switch (nodeLabelAlignment) {\r\n        case ChordLabelAlignment.Perpendicular: {\r\n            const angleCenter = (d.x0 + d.x1) / 2;\r\n            const angleDegree = angleCenter * 180 / Math.PI;\r\n            return angleDegree < 180 ? 'start' : 'end';\r\n        }\r\n        case ChordLabelAlignment.Along: {\r\n            return null;\r\n        }\r\n    }\r\n}\r\nfunction getLabelTransform(d, config, radiusScale) {\r\n    var _a;\r\n    const nodeLabelAlignment = (_a = getValue(d.data, config.nodeLabelAlignment)) !== null && _a !== void 0 ? _a : ChordLabelAlignment.Along;\r\n    switch (nodeLabelAlignment) {\r\n        case ChordLabelAlignment.Perpendicular: {\r\n            const r = radiusScale(d.y1) + LABEL_PADDING;\r\n            const angleCenter = (d.x0 + d.x1) / 2;\r\n            const angle = angleCenter - Math.PI / 2;\r\n            const x = r * Math.cos(angle);\r\n            const y = r * Math.sin(angle);\r\n            return `translate(${x}, ${y})`;\r\n        }\r\n        case ChordLabelAlignment.Along:\r\n            return null;\r\n    }\r\n}\r\nfunction createLabel(selection, config, radiusScale) {\r\n    selection.style('opacity', 0)\r\n        .attr('transform', d => getLabelTransform(d, config, radiusScale));\r\n    selection.append('text')\r\n        .attr('class', labelText)\r\n        .style('fill', d => getColor(d.data, config.nodeColor, d.height));\r\n}\r\nfunction updateLabel(selection, config, width, radiusScale, duration) {\r\n    const { nodeLabel, nodeLabelColor, nodeWidth } = config;\r\n    smartTransition(selection, duration)\r\n        .attr('transform', d => getLabelTransform(d, config, radiusScale))\r\n        .style('opacity', 1);\r\n    const label = selection.select(`.${labelText}`);\r\n    label.selectAll('textPath').remove();\r\n    label.text(d => getString(d.data, nodeLabel))\r\n        .style('transition', `fill ${duration}ms`)\r\n        .style('fill', d => { var _a; return (_a = getColor(d.data, nodeLabelColor)) !== null && _a !== void 0 ? _a : getLabelFillColor(d, config); })\r\n        .style('text-anchor', d => getLabelTextAnchor(d, config))\r\n        .each((d, i, elements) => {\r\n        var _a;\r\n        const nodeLabelAlignment = (_a = getValue(d.data, config.nodeLabelAlignment)) !== null && _a !== void 0 ? _a : ChordLabelAlignment.Along;\r\n        const radianArcLength = d.x1 - d.x0 - getNumber(d.data, config.padAngle) * 2;\r\n        const radius = radiusScale(d.y1) - getNumber(d, config.nodeWidth) / 2;\r\n        const arcLength = radius * radianArcLength;\r\n        const maxWidth = (nodeLabelAlignment === ChordLabelAlignment.Along ? arcLength : width - LABEL_PADDING * 2);\r\n        const textElement = select(elements[i])\r\n            .call(trimSVGText, maxWidth)\r\n            .attr('dx', nodeLabelAlignment === ChordLabelAlignment.Along ? LABEL_PADDING : null)\r\n            .attr('dy', nodeLabelAlignment === ChordLabelAlignment.Along ? getNumber(d.data, nodeWidth) / 2 : null);\r\n        const textWidth = textElement.node().getComputedTextLength();\r\n        const labelText = textElement.text();\r\n        if (nodeLabelAlignment === ChordLabelAlignment.Along) {\r\n            textElement.text('');\r\n            if (textWidth <= maxWidth) {\r\n                textElement.append('textPath')\r\n                    .attr('href', `#${d.uid}`)\r\n                    .text(labelText);\r\n            }\r\n        }\r\n    });\r\n    smartTransition(label, duration)\r\n        .attr('transform', d => {\r\n        const nodeLabelAlignment = getValue(d.data, config.nodeLabelAlignment);\r\n        if (nodeLabelAlignment !== ChordLabelAlignment.Perpendicular)\r\n            return null;\r\n        const angleCenter = (d.x0 + d.x1) / 2;\r\n        const angleDegree = angleCenter * 180 / Math.PI;\r\n        return `rotate(${angleDegree < 180 ? angleDegree - 90 : angleDegree + 90})`;\r\n    });\r\n}\r\nfunction removeLabel(selection, duration) {\r\n    smartTransition(selection, duration)\r\n        .style('opacity', 0)\r\n        .remove();\r\n}\n\nexport { LABEL_PADDING, createLabel, removeLabel, updateLabel };\n\n", "import { group, index } from 'd3-array';\nimport { hierarchy } from 'd3-hierarchy';\nimport { pie } from 'd3-shape';\nimport { getNumber, groupBy } from '../../../utils/data.js';\n\nfunction transformData(node) {\r\n    const { height, depth } = node;\r\n    if (height > 0) {\r\n        const d = node.data;\r\n        const n = node;\r\n        n.data = { key: d[0], values: d[1], depth, height, ancestors: n.ancestors().map(d => d.data.key) };\r\n    }\r\n}\r\nfunction getHierarchyNodes(data, value, levels = []) {\r\n    const nodeLevels = levels.map(level => (d) => d[level]);\r\n    const nestedData = levels.length ? group(data, ...nodeLevels) : { key: 'root', children: data };\r\n    const root = hierarchy(nestedData)\r\n        .sum(d => getNumber(d, value))\r\n        .each(transformData);\r\n    return root;\r\n}\r\nfunction positionChildren(node, padding, scalingCoeff = 0.95) {\r\n    if (!node.children)\r\n        return;\r\n    // We need to ensure levels with empty links still take up full space\r\n    const containsLinks = node.value > 0;\r\n    const length = node.x1 - node.x0;\r\n    const scaledLength = length * (node.y0 === 0 ? 1 : scalingCoeff);\r\n    const delta = length - scaledLength;\r\n    const padAngle = containsLinks ? padding : scaledLength / node.children.length;\r\n    const positions = pie()\r\n        .startAngle(node.x0 + delta / 2)\r\n        .endAngle(node.x1 - delta / 2)\r\n        .padAngle(padAngle)\r\n        .value(d => containsLinks ? d.value : 1)\r\n        .sort((a, b) => node.children.indexOf(a) - node.children.indexOf(b))(node.children);\r\n    node.children.forEach((child, i) => {\r\n        const x0 = positions[i].startAngle;\r\n        const x1 = positions[i].endAngle;\r\n        const childDelta = (x1 - x0) * (1 - scalingCoeff);\r\n        const xmid = (x0 + x1) / 2;\r\n        child.x0 = containsLinks ? x0 + childDelta / 2 : xmid - padding / 2;\r\n        child.x1 = containsLinks ? x1 - childDelta / 2 : xmid + padding / 2;\r\n    });\r\n}\r\nfunction getRibbons(data, links, padding) {\r\n    const groupedBySource = groupBy(links, d => d.source._id);\r\n    const groupedByTarget = groupBy(links, d => d.target._id);\r\n    const leafNodes = data.leaves();\r\n    const leafNodesById = index(leafNodes, d => d.data._id);\r\n    const getNodesInRibbon = (source, target, partitionHeight, nodes = []) => {\r\n        nodes[source.height] = source;\r\n        nodes[partitionHeight * 2 - target.height] = target;\r\n        if (source.parent && target.parent)\r\n            getNodesInRibbon(source.parent, target.parent, partitionHeight, nodes);\r\n        return nodes;\r\n    };\r\n    const calculatePoints = (links, type, depth, maxDepth) => {\r\n        links.forEach(link => {\r\n            var _a;\r\n            if (!link._state.points)\r\n                link._state.points = [];\r\n            const sourceLeaf = leafNodesById.get(link.source._id);\r\n            const targetLeaf = leafNodesById.get(link.target._id);\r\n            const nodesInRibbon = getNodesInRibbon(type === 'out' ? sourceLeaf : targetLeaf, type === 'out' ? targetLeaf : sourceLeaf, maxDepth);\r\n            const currNode = nodesInRibbon[depth];\r\n            const len = currNode.x1 - currNode.x0 - padding;\r\n            const x0 = (_a = currNode._prevX1) !== null && _a !== void 0 ? _a : (currNode.x0 + padding / 2);\r\n            const x1 = x0 + len * link._state.value / currNode.value;\r\n            currNode._prevX1 = x1;\r\n            const pointIdx = type === 'out' ? depth : maxDepth * 2 - 1 - depth;\r\n            link._state.points[pointIdx] = { a0: x0, a1: x1, r: currNode.y1 };\r\n        });\r\n    };\r\n    leafNodes.forEach(leafNode => {\r\n        const outLinks = groupedBySource[leafNode.data._id] || [];\r\n        const inLinks = groupedByTarget[leafNode.data._id] || [];\r\n        for (let depth = 0; depth < leafNode.depth; depth += 1) {\r\n            calculatePoints(outLinks, 'out', depth, leafNode.depth);\r\n            calculatePoints(inLinks, 'in', depth, leafNode.depth);\r\n        }\r\n    });\r\n    return links.map(l => ({\r\n        source: leafNodesById.get(l.source._id),\r\n        target: leafNodesById.get(l.target._id),\r\n        data: l,\r\n        points: l._state.points,\r\n        _state: {},\r\n    }));\r\n}\n\nexport { getHierarchyNodes, getRibbons, positionChildren };\n\n", "export var abs = Math.abs;\nexport var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\nexport var epsilon = 1e-12;\n", "const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n", "export var slice = Array.prototype.slice;\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import {path} from \"d3-path\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {abs, cos, epsilon, halfPi, sin} from \"./math.js\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction defaultPadAngle() {\n  return 0;\n}\n\nfunction defaultArrowheadRadius() {\n  return 10;\n}\n\nfunction ribbon(headRadius) {\n  var source = defaultSource,\n      target = defaultTarget,\n      sourceRadius = defaultRadius,\n      targetRadius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      padAngle = defaultPadAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        s = source.apply(this, arguments),\n        t = target.apply(this, arguments),\n        ap = padAngle.apply(this, arguments) / 2,\n        argv = slice.call(arguments),\n        sr = +sourceRadius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        tr = +targetRadius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n\n    if (!context) context = buffer = path();\n\n    if (ap > epsilon) {\n      if (abs(sa1 - sa0) > ap * 2 + epsilon) sa1 > sa0 ? (sa0 += ap, sa1 -= ap) : (sa0 -= ap, sa1 += ap);\n      else sa0 = sa1 = (sa0 + sa1) / 2;\n      if (abs(ta1 - ta0) > ap * 2 + epsilon) ta1 > ta0 ? (ta0 += ap, ta1 -= ap) : (ta0 -= ap, ta1 += ap);\n      else ta0 = ta1 = (ta0 + ta1) / 2;\n    }\n\n    context.moveTo(sr * cos(sa0), sr * sin(sa0));\n    context.arc(0, 0, sr, sa0, sa1);\n    if (sa0 !== ta0 || sa1 !== ta1) {\n      if (headRadius) {\n        var hr = +headRadius.apply(this, arguments), tr2 = tr - hr, ta2 = (ta0 + ta1) / 2;\n        context.quadraticCurveTo(0, 0, tr2 * cos(ta0), tr2 * sin(ta0));\n        context.lineTo(tr * cos(ta2), tr * sin(ta2));\n        context.lineTo(tr2 * cos(ta1), tr2 * sin(ta1));\n      } else {\n        context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n        context.arc(0, 0, tr, ta0, ta1);\n      }\n    }\n    context.quadraticCurveTo(0, 0, sr * cos(sa0), sr * sin(sa0));\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  if (headRadius) ribbon.headRadius = function(_) {\n    return arguments.length ? (headRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : headRadius;\n  };\n\n  ribbon.radius = function(_) {\n    return arguments.length ? (sourceRadius = targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.sourceRadius = function(_) {\n    return arguments.length ? (sourceRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.targetRadius = function(_) {\n    return arguments.length ? (targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : targetRadius;\n  };\n\n  ribbon.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : padAngle;\n  };\n\n  ribbon.source = function(_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function(_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n  };\n\n  return ribbon;\n}\n\nexport default function() {\n  return ribbon();\n}\n\nexport function ribbonArrow() {\n  return ribbon(defaultArrowheadRadius);\n}\n", "import { select } from 'd3-selection';\nimport { ribbon } from 'd3-chord';\nimport { areaRadial } from 'd3-shape';\nimport { interpolatePath } from 'd3-interpolate-path';\nimport { Curve } from '../../../types/curve.js';\nimport { getColor } from '../../../utils/color.js';\nimport { smartTransition } from '../../../utils/d3.js';\nimport { convertLineToArc } from '../../../utils/path.js';\n\n// Generators\r\nfunction emptyPath() {\r\n    return 'M0,0 L0,0';\r\n}\r\n// Generators\r\nconst ribbonGen = ribbon()\r\n    .source(d => d[0])\r\n    .target(d => d[d.length - 1])\r\n    .startAngle(d => d.a0)\r\n    .endAngle(d => d.a1);\r\nconst areaGen = areaRadial()\r\n    .curve(Curve.catmullRom.alpha(0.5))\r\n    .startAngle((d, i, points) => i < points.length / 2 ? d.a1 : d.a0)\r\n    .endAngle((d, i, points) => i < points.length / 2 ? d.a0 : d.a1);\r\n// Creates a path from set of points\r\nfunction linkGen(points, radiusScale) {\r\n    var _a;\r\n    const link = (points.length === 2 ? ribbonGen : areaGen);\r\n    link.radius(d => radiusScale(d.r));\r\n    const linkPath = link(points);\r\n    if (points.length === 2)\r\n        return linkPath;\r\n    // Replace closePath with line to starting point\r\n    const area = linkPath.slice(0, -1);\r\n    const path = area.concat(`L${(_a = area.match(/M-?\\d*\\.?\\d*[,\\s*]-?\\d*\\.?\\d*/)) === null || _a === void 0 ? void 0 : _a[0].slice(1)}`);\r\n    // Convert line edges to arcs\r\n    const radius = Math.max(radiusScale(points[0].r), 0);\r\n    return convertLineToArc(path, radius);\r\n}\r\nfunction createLink(selection, radiusScale) {\r\n    selection\r\n        .attr('d', d => linkGen(d.points, radiusScale) || emptyPath())\r\n        .style('opacity', 0);\r\n}\r\nfunction updateLink(selection, config, radiusScale, duration) {\r\n    selection\r\n        .style('transition', `fill ${duration}ms`)\r\n        .style('fill', d => getColor(d.data, config.linkColor))\r\n        .style('stroke', d => getColor(d.data, config.linkColor));\r\n    const transition = smartTransition(selection, duration)\r\n        .style('opacity', 1);\r\n    if (duration) {\r\n        transition.attrTween('d', (d, i, el) => {\r\n            const previous = select(el[i]).attr('d');\r\n            const next = linkGen(d.points, radiusScale) || emptyPath();\r\n            return interpolatePath(previous, next);\r\n        });\r\n    }\r\n    else {\r\n        transition.attr('d', d => linkGen(d.points, radiusScale) || emptyPath());\r\n    }\r\n}\r\nfunction removeLink(selection, duration) {\r\n    smartTransition(selection, duration)\r\n        .style('opacity', 0)\r\n        .remove();\r\n}\n\nexport { createLink, emptyPath, removeLink, updateLink };\n\n", "import { max } from 'd3-array';\nimport { partition } from 'd3-hierarchy';\nimport { scalePow } from 'd3-scale';\nimport { arc } from 'd3-shape';\nimport { ComponentCore } from '../../core/component/index.js';\nimport { GraphDataModel } from '../../data-models/graph.js';\nimport { getValue, getString, getNumber, isNumber } from '../../utils/data.js';\nimport { estimateStringPixelLength } from '../../utils/text.js';\nimport { getCSSVariableValueInPixels } from '../../utils/misc.js';\nimport { ChordLabelAlignment } from './types.js';\nimport { ChordDiagramDefaultConfig } from './config.js';\nimport { createNode, updateNode, removeNode } from './modules/node.js';\nimport { LABEL_PADDING, createLabel, updateLabel, removeLabel } from './modules/label.js';\nimport { getHierarchyNodes, positionChildren, getRibbons } from './modules/layout.js';\nimport { createLink, updateLink, removeLink } from './modules/link.js';\nimport * as style from './style.js';\nimport { background, links, nodes, labels, transparent, link, highlightedLink, node, highlightedNode, label, labelExit } from './style.js';\n\nclass ChordDiagram extends ComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = ChordDiagramDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.datamodel = new GraphDataModel();\r\n        this.arcGen = arc();\r\n        this.radiusScale = scalePow();\r\n        this.events = {\r\n            [ChordDiagram.selectors.node]: {\r\n                mouseover: this._onNodeMouseOver.bind(this),\r\n                mouseout: this._onNodeMouseOut.bind(this),\r\n            },\r\n            [ChordDiagram.selectors.link]: {\r\n                mouseover: this._onLinkMouseOver.bind(this),\r\n                mouseout: this._onLinkMouseOut.bind(this),\r\n            },\r\n            [ChordDiagram.selectors.label]: {\r\n                mouseover: this._onNodeMouseOver.bind(this),\r\n                mouseout: this._onNodeMouseOut.bind(this),\r\n            },\r\n        };\r\n        this._nodes = [];\r\n        this._links = [];\r\n        if (config)\r\n            this.setConfig(config);\r\n        this.background = this.g.append('rect').attr('class', background);\r\n        this.linkGroup = this.g.append('g').attr('class', links);\r\n        this.nodeGroup = this.g.append('g').attr('class', nodes);\r\n        this.labelGroup = this.g.append('g').attr('class', labels);\r\n    }\r\n    get _forceHighlight() {\r\n        var _a;\r\n        return this.config.highlightedNodeId !== undefined || ((_a = this.config.highlightedLinkIds) === null || _a === void 0 ? void 0 : _a.length) > 0;\r\n    }\r\n    get bleed() {\r\n        const { config } = this;\r\n        const padding = LABEL_PADDING * 2;\r\n        let top = 0;\r\n        let bottom = 0;\r\n        let right = 0;\r\n        let left = 0;\r\n        this._nodes.forEach(n => {\r\n            var _a;\r\n            const nodeLabelAlignment = getValue(n.data, config.nodeLabelAlignment);\r\n            if (n.height === 0 && nodeLabelAlignment === ChordLabelAlignment.Perpendicular) {\r\n                const label = (_a = getString(n.data, config.nodeLabel)) !== null && _a !== void 0 ? _a : '';\r\n                const fontSize = getCSSVariableValueInPixels('var(--vis-chord-diagram-label-text-font-size)', this.element);\r\n                const labelWidth = estimateStringPixelLength(label, fontSize);\r\n                const [x, y] = this.arcGen.centroid(n);\r\n                if (x < 0)\r\n                    left = Math.max(left, labelWidth);\r\n                else\r\n                    right = Math.max(right, labelWidth);\r\n                if (y < 0)\r\n                    top = Math.max(top, labelWidth);\r\n                else\r\n                    bottom = Math.max(bottom, labelWidth);\r\n            }\r\n        });\r\n        left += padding;\r\n        right += padding;\r\n        bottom += padding;\r\n        top += padding;\r\n        return { top, bottom, left, right };\r\n    }\r\n    setSize(width, height, containerWidth, containerHeight) {\r\n        super.setSize(width, height, containerWidth, containerHeight);\r\n        // Setting radius for initial bleed calculation. This ensures the correct radius is set when render is called\r\n        this.radiusScale\r\n            .exponent(this.config.radiusScaleExponent)\r\n            .range([0, Math.min(width, height) / 2]);\r\n    }\r\n    setData(data) {\r\n        super.setData(data);\r\n        this._layoutData();\r\n    }\r\n    _layoutData() {\r\n        const { nodes } = this.datamodel;\r\n        let { links } = this.datamodel;\r\n        const { padAngle, linkValue, nodeLevels } = this.config;\r\n        nodes.forEach(n => { delete n._state.value; });\r\n        links.forEach(l => {\r\n            delete l._state.points;\r\n            l._state.value = getNumber(l, linkValue);\r\n            l.source._state.value = (l.source._state.value || 0) + getNumber(l, linkValue);\r\n            l.target._state.value = (l.target._state.value || 0) + getNumber(l, linkValue);\r\n        });\r\n        links = links.filter(d => d._state.value);\r\n        const root = getHierarchyNodes(nodes, d => { var _a; return (_a = d._state) === null || _a === void 0 ? void 0 : _a.value; }, nodeLevels);\r\n        const partitionData = partition().size([this.config.angleRange[1], 1])(root);\r\n        partitionData.each((n, i) => {\r\n            positionChildren(n, padAngle);\r\n            n.uid = `${this.uid.substr(0, 4)}-${i}`;\r\n            n.x0 = Number.isNaN(n.x0) ? 0 : n.x0;\r\n            n.x1 = Number.isNaN(n.x1) ? 0 : n.x1;\r\n            n._state = {};\r\n        });\r\n        const partitionDataWithRoot = partitionData.descendants();\r\n        this._rootNode = partitionDataWithRoot.find(d => d.depth === 0);\r\n        this._nodes = partitionDataWithRoot.filter(d => d.depth !== 0); // Filter out the root node\r\n        this._links = getRibbons(partitionData, links, padAngle);\r\n    }\r\n    _render(customDuration) {\r\n        var _a;\r\n        super._render(customDuration);\r\n        const { config, bleed } = this;\r\n        this._layoutData();\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        const size = Math.min(this._width, this._height);\r\n        const radius = size / 2 - max([bleed.top, bleed.bottom, bleed.left, bleed.right]);\r\n        const numLevels = 1 + ((_a = config.nodeLevels) === null || _a === void 0 ? void 0 : _a.length);\r\n        const maxSpace = config.nodeWidth * numLevels;\r\n        const nodeWidth = radius > maxSpace ? config.nodeWidth : Math.max(radius / numLevels, 0);\r\n        this.radiusScale.range([0, Math.max(radius, 0)]);\r\n        this.arcGen\r\n            .startAngle(d => d.x0 + config.padAngle / 2 - (d.value ? 0 : Math.PI / 360))\r\n            .endAngle(d => d.x1 - config.padAngle / 2 + (d.value ? 0 : Math.PI / 360))\r\n            .cornerRadius(d => getNumber(d.data, config.cornerRadius))\r\n            .innerRadius(d => Math.max(this.radiusScale(d.y1) - nodeWidth, 0))\r\n            .outerRadius(d => this.radiusScale(d.y1));\r\n        this.g.classed(transparent, this._forceHighlight);\r\n        this.background\r\n            .attr('width', this._width)\r\n            .attr('height', this._height)\r\n            .style('opacity', 0);\r\n        // Center the view\r\n        this.nodeGroup.attr('transform', `translate(${this._width / 2},${this._height / 2})`);\r\n        this.labelGroup.attr('transform', `translate(${this._width / 2},${this._height / 2})`);\r\n        this.linkGroup.attr('transform', `translate(${this._width / 2},${this._height / 2})`);\r\n        // Links\r\n        const linksSelection = this.linkGroup\r\n            .selectAll(`.${link}`)\r\n            .data(this._links, d => String(d.data._id));\r\n        const linksEnter = linksSelection.enter().append('path')\r\n            .attr('class', link)\r\n            .call(createLink, this.radiusScale);\r\n        const linksMerged = linksSelection\r\n            .merge(linksEnter)\r\n            .classed(highlightedLink, l => {\r\n            var _a, _b;\r\n            const linkId = (_a = l.data.id) !== null && _a !== void 0 ? _a : l.data._indexGlobal;\r\n            return (_b = config.highlightedLinkIds) === null || _b === void 0 ? void 0 : _b.includes(linkId);\r\n        });\r\n        linksMerged.call(updateLink, config, this.radiusScale, duration);\r\n        linksSelection.exit()\r\n            .call(removeLink, duration);\r\n        // Nodes\r\n        const nodesSelection = this.nodeGroup\r\n            .selectAll(`.${node}`)\r\n            .data(this._nodes, d => String(d.uid));\r\n        const nodesEnter = nodesSelection.enter().append('path')\r\n            .attr('class', node)\r\n            .call(createNode, config);\r\n        const nodesMerged = nodesSelection\r\n            .merge(nodesEnter)\r\n            .classed(highlightedNode, d => config.highlightedNodeId === d.data._id);\r\n        nodesMerged.call(updateNode, config, this.arcGen, duration, this.bleed);\r\n        nodesSelection.exit()\r\n            .call(removeNode, duration);\r\n        // Labels\r\n        const labelWidth = size - radius;\r\n        const labels = this.labelGroup\r\n            .selectAll(`.${label}`)\r\n            .data(this._nodes, d => String(d.uid));\r\n        const labelEnter = labels.enter().append('g')\r\n            .attr('class', label)\r\n            .call(createLabel, config, this.radiusScale);\r\n        const labelsMerged = labels.merge(labelEnter);\r\n        labelsMerged.call(updateLabel, config, labelWidth, this.radiusScale, duration);\r\n        labels.exit()\r\n            .attr('class', labelExit)\r\n            .call(removeLabel, duration);\r\n    }\r\n    _onNodeMouseOver(d) {\r\n        let ribbons;\r\n        if (d.children) {\r\n            const leaves = d.leaves();\r\n            ribbons = this._links.filter(l => leaves.find(leaf => l.source.data.id === leaf.data.id || l.target.data.id === leaf.data.id));\r\n        }\r\n        else {\r\n            const leaf = d;\r\n            ribbons = this._links.filter(l => l.source.data.id === leaf.data.id || l.target.data.id === leaf.data.id);\r\n        }\r\n        // Nodes without links should still be highlighted\r\n        if (!ribbons.length)\r\n            d._state.hovered = true;\r\n        this._highlightOnHover(ribbons);\r\n    }\r\n    _onNodeMouseOut() {\r\n        this._highlightOnHover();\r\n    }\r\n    _onLinkMouseOver(d) {\r\n        this._highlightOnHover([d]);\r\n    }\r\n    _onLinkMouseOut() {\r\n        this._highlightOnHover();\r\n    }\r\n    _highlightOnHover(links) {\r\n        if (this._forceHighlight)\r\n            return;\r\n        if (links) {\r\n            links.forEach(l => {\r\n                l._state.hovered = true;\r\n                const sourcePath = l.source.path(this._rootNode);\r\n                const targetPath = l.target.path(this._rootNode);\r\n                sourcePath.forEach(n => { if (n.depth)\r\n                    n._state.hovered = true; });\r\n                targetPath.forEach(n => { if (n.depth)\r\n                    n._state.hovered = true; });\r\n            });\r\n        }\r\n        else {\r\n            this._nodes.forEach(n => { delete n._state.hovered; });\r\n            this._links.forEach(l => { delete l._state.hovered; });\r\n        }\r\n        this.nodeGroup.selectAll(`.${node}`)\r\n            .classed(highlightedNode, d => d._state.hovered);\r\n        this.linkGroup.selectAll(`.${link}`)\r\n            .classed(highlightedLink, d => d._state.hovered);\r\n        this.g.classed(transparent, !!links);\r\n    }\r\n}\r\nChordDiagram.selectors = style;\n\nexport { ChordDiagram };\n\n", "import { isEqual } from '../../utils/data.js';\nimport { ComponentDefaultConfig } from '../../core/component/config.js';\nimport { TrimMode } from '../../types/text.js';\nimport { GraphLayoutType, GraphFitViewAlignment, GraphLinkStyle, GraphNodeShape, GraphNodeSelectionHighlightMode } from './types.js';\n\n// Utils\r\nconst GraphDefaultConfig = Object.assign(Object.assign({}, ComponentDefaultConfig), { duration: 1000, zoomScaleExtent: [0.35, 1.25], disableZoom: false, zoomEventFilter: undefined, disableDrag: false, disableBrush: false, zoomThrottledUpdateNodeThreshold: 100, layoutType: GraphLayoutType.Force, layoutAutofit: true, layoutAutofitTolerance: 8.0, layoutNonConnectedAside: false, fitViewPadding: 50, fitViewAlign: GraphFitViewAlignment.Center, layoutGroupOrder: [], layoutParallelNodeSpacing: undefined, layoutParallelSubGroupsPerRow: 1, layoutParallelNodesPerColumn: 6, layoutParallelGroupSpacing: undefined, layoutParallelSubGroupSpacing: 40, layoutParallelSortConnectionsByGroup: undefined, layoutNodeGroup: (n) => n.group, layoutParallelNodeSubGroup: (n) => n.subgroup, forceLayoutSettings: {\r\n        linkDistance: 60,\r\n        linkStrength: 0.45,\r\n        charge: -500,\r\n        forceXStrength: 0.15,\r\n        forceYStrength: 0.25,\r\n        numIterations: undefined,\r\n        fixNodePositionAfterSimulation: false,\r\n    }, dagreLayoutSettings: {\r\n        rankdir: 'BT',\r\n        ranker: 'longest-path',\r\n    }, layoutElkSettings: undefined, layoutElkNodeGroups: undefined, layoutElkGetNodeShape: undefined, linkFlowAnimDuration: 20000, linkFlowParticleSize: 2, linkFlowParticleSpeed: undefined, linkWidth: 1, linkStyle: GraphLinkStyle.Solid, linkBandWidth: 0, linkArrow: undefined, linkStroke: undefined, linkFlow: false, linkLabel: undefined, linkLabelShiftFromCenter: true, linkNeighborSpacing: 8, linkDisabled: false, linkCurvature: 0, linkHighlightOnHover: true, linkSourcePointOffset: undefined, linkTargetPointOffset: undefined, selectedLinkId: undefined, nodeSize: 30, nodeStrokeWidth: 3, nodeShape: GraphNodeShape.Circle, nodeGaugeValue: 0, nodeIcon: (n) => n.icon, nodeIconSize: undefined, nodeLabel: (n) => n.label, nodeLabelTrim: true, nodeLabelTrimLength: 15, nodeLabelTrimMode: TrimMode.Middle, nodeSubLabel: '', nodeSubLabelTrim: true, nodeSubLabelTrimLength: 15, nodeSubLabelTrimMode: TrimMode.Middle, nodeSideLabels: undefined, nodeBottomIcon: undefined, nodeDisabled: false, nodeFill: (n) => n.fill, nodeGaugeFill: undefined, nodeStroke: (n) => n.stroke, nodeEnterPosition: undefined, nodeEnterScale: 0.75, nodeExitPosition: undefined, nodeExitScale: 0.75, nodeSort: undefined, nodeSelectionHighlightMode: GraphNodeSelectionHighlightMode.GreyoutNonConnected, nodeGaugeAnimDuration: 1500, selectedNodeId: undefined, selectedNodeIds: undefined, panels: undefined, onNodeDragStart: undefined, onNodeDrag: undefined, onNodeDragEnd: undefined, onZoom: undefined, onZoomStart: undefined, onZoomEnd: undefined, onLayoutCalculated: undefined, onNodeSelectionBrush: undefined, onNodeSelectionDrag: undefined, onRenderComplete: undefined, shouldDataUpdate: (prevData, nextData) => {\r\n        return !isEqual(prevData, nextData);\r\n    } });\n\nexport { GraphDefaultConfig };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst nodes = css `\n  label: nodes;\n`;\r\nconst variables = injectGlobal `\n  :root {\n    /* Node Fill */\n    --vis-graph-node-stroke-color: rgb(206, 211, 222);\n    --vis-graph-node-fill-color: #fff;\n    --vis-graph-node-gauge-color: #adb4c2;\n    --vis-graph-node-selection-color: #acb3b8;\n\n    --vis-dark-graph-node-stroke-color: rgba(30,30,30,.25);\n    --vis-dark-graph-node-fill-color: #494b56;\n    --vis-dark-graph-node-gauge-color: #989aa3;\n    --vis-dark-graph-node-selection-color: #494b56;\n\n    /* Node Central Icon */\n    --vis-graph-node-icon-fill-color-bright: #ffffff;\n    --vis-graph-node-icon-fill-color-dark: var(--vis-color-grey);\n    --vis-graph-node-icon-fill-color: #9ea7b8;\n\n    --vis-dark-graph-node-icon-fill-color: var(--vis-graph-node-icon-fill-color-bright);\n\n    /* Node Bottom Icon */\n    --vis-graph-node-bottom-icon-font-size: 14pt;\n    --vis-graph-node-bottom-icon-fill-color: #a0a6ad;\n    --vis-graph-node-bottom-icon-stroke-color: #fff;\n    --vis-graph-node-bottom-icon-stroke-width: 2px;\n\n    --vis-dark-graph-node-bottom-icon-fill-color: #a0a6ad;\n    --vis-dark-graph-node-bottom-icon-stroke-color: #fff;\n\n    /* Node Label */\n    --vis-graph-node-label-font-size: 9pt;\n    --vis-graph-node-label-background: #ffffff;\n    --vis-graph-node-label-text-color: #0F1E57;\n    --vis-graph-node-sublabel-text-color: #989aa3;\n    --vis-graph-node-sublabel-font-size: 8pt;\n    // Undefined by default to allow proper fallback to var(--vis-font-family)\n    /* --vis-graph-node-label-font-family: */\n\n    --vis-dark-graph-node-label-background: var(--vis-color-grey);\n    --vis-dark-graph-node-label-text-color: #ffffff;\n    --vis-dark-graph-node-sublabel-text-color: #989aa3;\n\n    /* Node Side Labels (circular labels)*/\n    --vis-graph-node-side-label-background-fill-color: #a0a9af;\n    --vis-graph-node-side-label-background-stroke-color: #ffffff;\n    --vis-graph-node-side-label-fill-color-bright: #ffffff;\n    --vis-graph-node-side-label-fill-color-dark: #494b56;\n\n    --vis-dark-graph-node-side-label-background-fill-color: #989aa3;\n    --vis-dark-graph-node-side-label-background-stroke-color: var(--vis-color-grey);\n    --vis-dark-graph-node-side-label-fill-color-bright: #f1f4f7;\n    --vis-dark-graph-node-side-label-fill-color-dark: var(--vis-color-grey);\n\n    /* Greyout */\n    --vis-graph-node-greyout-opacity: 0.9;\n    --vis-graph-node-greyout-filter: none;\n    --vis-graph-node-greyout-color: #ebeff7;\n    --vis-graph-node-icon-greyout-color: #c6cad1;\n    --vis-graph-node-side-label-background-greyout-color: #f1f4f7;\n\n    --vis-dark-graph-node-greyout-color: #494b56;\n    --vis-dark-graph-node-icon-greyout-color: var(--vis-color-grey);\n    --vis-dark-graph-node-side-label-background-greyout-color: #494B56;\n\n    /* Brushed */\n    --vis-graph-brushed-node-stroke-color: var(--vis-color-main);\n    --vis-graph-brushed-node-label-text-color: var(--vis-color-main);\n    --vis-graph-brushed-node-icon-fill-color: var(--vis-color-main);\n    \n    /* Misc */\n    --vis-graph-node-dominant-baseline: middle;\n  }\n\n  body.theme-dark ${`.${nodes}`} {\n    --vis-graph-node-stroke-color: var(--vis-dark-graph-node-stroke-color);\n    --vis-graph-node-fill-color: var(--vis-dark-graph-node-fill-color);\n    --vis-graph-node-gauge-color: var(--vis-dark-graph-node-gauge-color);\n    --vis-graph-node-selection-color: var(--vis-dark-graph-node-selection-color);\n\n    --vis-graph-node-icon-fill-color: var(--vis-dark-graph-node-icon-fill-color);\n\n    --vis-graph-node-bottom-icon-fill-color: var(--vis-dark-graph-node-bottom-icon-fill-color);\n    --vis-graph-node-bottom-icon-stroke-color: var(--vis-dark-graph-node-bottom-icon-stroke-color);\n\n    --vis-graph-node-label-background: var(--vis-dark-graph-node-label-background);\n    --vis-graph-node-label-text-color: var(--vis-dark-graph-node-label-text-color);\n    --vis-graph-node-sublabel-text-color: var(--vis-dark-graph-node-sublabel-text-color);\n\n    --vis-graph-node-side-label-background-fill-color: var(--vis-dark-graph-node-side-label-background-fill-color);\n    --vis-graph-node-side-label-background-stroke-color: var(--vis-dark-graph-side-label-background-stroke-color);\n    --vis-graph-node-side-label-fill-color-bright: var(--vis-dark-graph-node-side-label-fill-color-bright);\n    --vis-graph-node-side-label-fill-color-dark: var(vis-dark-graph-node-side-label-fill-color-dark);\n\n    --vis-graph-node-greyout-color: var(--vis-dark-graph-node-greyout-color);\n    --vis-graph-node-icon-greyout-color: var(--vis-dark-graph-node-icon-greyout-color);\n    --vis-graph-node-side-label-background-greyout-color: var(--vis-dark-graph-node-side-label-background-greyout-color);\n  }\n`;\r\nconst brushable = css `\n  label: brushable;\n`;\r\nconst node = css `\n  label: node-shape;\n\n  stroke: var(--vis-graph-node-stroke-color);\n  fill: var(--vis-graph-node-fill-color);\n\n  :not(.${brushable}) {\n    transition: .4s fill, 4s stroke;\n  }\n`;\r\nconst nodeIcon = css `\n  label: icon;\n\n  font-family: var(--vis-graph-icon-font-family), var(--vis-font-family);\n  dominant-baseline: var(--vis-graph-node-dominant-baseline);\n  text-anchor: middle;\n  pointer-events: none;\n  fill: var(--vis-graph-node-icon-fill-color);\n\n  :not(.${brushable}) {\n    transition: .4s all;\n  }\n`;\r\nconst nodeBottomIcon = css `\n  label: node-bottom-icon;\n  font-family: var(--vis-graph-icon-font-family), var(--vis-font-family);\n  font-size: var(--vis-graph-node-bottom-icon-font-size);\n  dominant-baseline: var(--vis-graph-node-dominant-baseline);\n  text-anchor: middle;\n  pointer-events: none;\n  fill: var(--vis-graph-node-bottom-icon-fill-color);\n  stroke: var(--vis-graph-node-bottom-icon-stroke-color);\n  stroke-width: var(--vis-graph-node-bottom-icon-stroke-width);\n\n  :not(.${brushable}) {\n    transition: .4s all;\n  }\n`;\r\nconst nodeIsDragged = css `\n  label: dragged;\n`;\r\nconst label = css `\n  label: label;\n\n  text-anchor: middle;\n  font-weight: 300;\n  font-size: var(--vis-graph-node-label-font-size);\n`;\r\nconst labelBackground = css `\n  label: background;\n\n  opacity: 0.9;\n  -webkit-backdrop-filter: blur(2px);\n  backdrop-filter: blur(2px);\n  fill: var(--vis-graph-node-label-background);\n`;\r\nconst labelText = css `\n  label: label-text;\n`;\r\nconst labelTextContent = css `\n  label: label-text-content;\n\n  fill: var(--vis-graph-node-label-text-color);\n  font-family: var(--vis-graph-node-label-font-family, var(--vis-font-family));\n`;\r\nconst subLabelTextContent = css `\n  label: sublabel-text-content;\n\n  fill: var(--vis-graph-node-sublabel-text-color);\n  font-family: var(--vis-graph-node-label-font-family, var(--vis-font-family));\n  font-size: var(--vis-graph-node-sublabel-font-size);\n`;\r\nconst sideLabelsGroup = css `\n  label: side-labels-group;\n`;\r\nconst sideLabelBackground = css `\n  label: side-label-background;\n\n  stroke-opacity: 0.8;\n  stroke: var(--vis-graph-node-side-label-background-stroke-color);\n  fill: var(--vis-graph-node-side-label-background-fill-color);\n`;\r\nconst sideLabel = css `\n  label: side-label;\n\n  font-family: var(--vis-graph-icon-font-family), var(--vis-font-family);\n  dominant-baseline: var(--vis-graph-node-dominant-baseline);\n  text-anchor: middle;\n  font-size: 16px;\n  fill: var(--vis-graph-node-side-label-fill-color-bright);\n`;\r\nconst sideLabelGroup = css `\n  label: side-label-group;\n  cursor: default;\n`;\r\nconst gNode = css `\n  label: g-node;\n\n  transition: .25s opacity;\n`;\r\nconst draggable = css `\n  label: draggable;\n\n  &:hover {\n    cursor: grab;\n  }\n\n  &${`.${nodeIsDragged}`} {\n    cursor: grabbing;\n  }\n`;\r\nconst gNodeExit = css `\n  label: g-node-exit;\n  pointer-events: none;\n`;\r\nconst nodeSelectionActive = css `\n  label: active;\n`;\r\nconst nodeSelection = css `\n  label: node-selection;\n\n  fill: none;\n  stroke-width: 1;\n  stroke-dasharray: 3 3;\n  opacity: 0;\n  transition: 350ms cubic-bezier(0.165, 0.840, 0.440, 1.000);\n  transform: scale(.5);\n  fill: var(--vis-graph-node-selection-color);\n  fill-opacity: 0.1;\n  stroke: var(--vis-graph-node-selection-color);\n  stroke-opacity: 0.75;\n\n  &${`.${nodeSelectionActive}`} {\n    opacity: 1;\n    transform: scale(1.2);\n  }\n`;\r\nconst nodeGauge = css `\n  label: node-gauge;\n\n  fill: var(--vis-graph-node-gauge-color);\n  transition: .4s fill;\n`;\r\nconst nodePolygon = css `\n  label: polygon;\n\n  ${`.${nodeGauge}`} {\n    fill-opacity: 0;\n    stroke-linecap: round;\n    pointer-events: none;\n  }\n`;\r\nconst customNode = css `\n  label: custom-node;\n\n  stroke-width: 0;\n`;\r\nconst greyedOutNode = css `\n  label: greyed-out;\n  opacity: var(--vis-graph-node-greyout-opacity);\n  filter: var(--vis-graph-node-greyout-filter);\n\n  ${`.${node}`} {\n    fill: var(--vis-graph-node-greyout-color) !important;\n    stroke: var(--vis-graph-node-greyout-color) !important;\n  }\n\n  ${`.${nodeIcon}`} {\n     fill: var(--vis-graph-node-icon-greyout-color) !important;\n  }\n\n  ${`.${nodeGauge}`} {\n    fill: var(--vis-graph-node-greyout-color) !important;\n    stroke: var(--vis-graph-node-greyout-color) !important;\n  }\n\n  ${`.${label}`} {\n    opacity: 0.5;\n  }\n\n  ${`.${sideLabelBackground}`} {\n     fill: var(--vis-graph-node-side-label-background-greyout-color) !important;\n     stroke-opacity: 0.5;\n   }\n\n   ${`.${sideLabel}`} {\n    fill: var(--vis-graph-node-side-label-fill-color-bright) !important;\n    opacity: 0.25;\n  }\n`;\r\nconst brushed = css `\n  label: brushed-node;\n\n  ${`.${node}`} {\n    stroke: var(--vis-graph-brushed-node-stroke-color);\n  }\n  ${`.${nodeIcon}`} {\n    fill: var(--vis-graph-brushed-node-icon-fill-color);\n  }\n  ${`.${labelTextContent}`} {\n    fill: var(--vis-graph-brushed-node-label-text-color);\n  }\n`;\n\nexport { brushable, brushed, customNode, draggable, gNode, gNodeExit, greyedOutNode, label, labelBackground, labelText, labelTextContent, node, nodeBottomIcon, nodeGauge, nodeIcon, nodeIsDragged, nodePolygon, nodeSelection, nodeSelectionActive, nodes, sideLabel, sideLabelBackground, sideLabelGroup, sideLabelsGroup, subLabelTextContent, variables };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst links = css `\n  label: links;\n`;\r\nconst variables = injectGlobal `\n  :root {\n    --vis-graph-link-stroke-color: #e6e9f3;\n    --vis-graph-link-stroke-opacity: 1.0;\n    --vis-graph-link-greyout-opacity: 0.3;\n    --vis-graph-link-dashed-stroke-dasharray: 6 6;\n\n    --vis-graph-link-label-font-size: 9pt;\n    --vis-graph-link-label-background: #e6e9f3;\n    --vis-graph-link-label-text-color-dark: #18181B;\n    --vis-graph-link-label-text-color-bright: #fff;\n    --vis-graph-link-label-text-color: var(--vis-graph-link-label-text-color-dark);\n\n    --vis-graph-link-band-opacity: 0.35;\n    --vis-graph-link-support-stroke-width: 10px;\n    --vis-graph-link-flow-opacity: 1;\n\n    --vis-dark-graph-link-stroke-color: #494b56;\n    --vis-dark-graph-link-label-background: #3f3f45;\n    --vis-dark-graph-link-label-text-color: var(--vis-graph-link-label-text-color-bright);\n\n\n    --vis-graph-link-dominant-baseline: middle;\n  }\n\n  body.theme-dark ${`.${links}`} {\n    --vis-graph-link-stroke-color: var(--vis-dark-graph-link-stroke-color);\n    --vis-graph-link-label-stroke-color: var(--vis-dark-graph-link-label-stroke-color);\n    --vis-graph-link-label-text-color: var(--vis-dark-graph-link-label-text-color);\n    --vis-graph-link-label-background: var(--vis-dark-graph-link-label-background);\n  }\n`;\r\nconst linkSupport = css `\n  label: link-support;\n\n  fill: none;\n  stroke-linecap: round;\n  stroke-width: var(--vis-graph-link-support-stroke-width);\n  stroke-opacity: 0;\n  stroke: var(--vis-graph-link-stroke-color);\n  transition: stroke-opacity 0.2s;\n`;\r\nconst link = css `\n  label: link;\n\n  fill: none;\n  stroke: var(--vis-graph-link-stroke-color);\n  stroke-opacity: var(--vis-graph-link-stroke-opacity);\n  transition: stroke 800ms;\n  stroke-linecap: round;\n  pointer-events: none;\n`;\r\nconst linkDashed = css `\n  label: dashed;\n\n  ${`.${link}`} {\n    stroke-dasharray: var(--vis-graph-link-dashed-stroke-dasharray);\n  }\n`;\r\nconst linkArrow = css `\n  label: link-arrow;\n  fill: var(--vis-graph-link-stroke-color);\n`;\r\nconst gLink = css `\n  label: g-link;\n`;\r\nconst gLinkExit = css `\n  label: g-link-exit;\n  pointer-events: none;\n`;\r\nconst greyedOutLink = css `\n  label: greyed-out;\n  opacity: var(--vis-graph-link-greyout-opacity);\n`;\r\nconst linkBand = css `\n  label: link-band;\n\n  stroke-opacity: var(--vis-graph-link-band-opacity);\n  pointer-events: none;\n  stroke: var(--vis-graph-node-stroke-color);\n  fill: none;\n`;\r\nconst flowGroup = css `\n  label: flow-group;\n  \n  pointer-events: none;\n`;\r\nconst flowCircle = css `\n  label: flow-circle;\n\n  fill: var(--vis-graph-link-stroke-color);\n  opacity: var(--vis-graph-link-flow-opacity);\n`;\r\nconst linkLabelGroup = css `\n  label: label-group;\n`;\r\nconst linkLabelBackground = css `\n  label: label-background;\n\n  fill: var(--vis-graph-link-label-background);\n`;\r\nconst linkLabelContent = css `\n  label: label-content;\n\n  font-size: var(--vis-graph-link-label-font-size);\n  font-family: var(--vis-font-family);\n  fill: var(--vis-graph-link-label-text-color);\n  text-anchor: middle;\n  dominant-baseline: var(--vis-graph-link-dominant-baseline);\n  user-select: none;\n`;\n\nexport { flowCircle, flowGroup, gLink, gLinkExit, greyedOutLink, link, linkArrow, linkBand, linkDashed, linkLabelBackground, linkLabelContent, linkLabelGroup, linkSupport, links, variables };\n\n", "import { injectGlobal, css } from '@emotion/css';\nimport { UNOVIS_ICON_FONT_FAMILY_DEFAULT } from '../../styles/index.js';\nimport { label, nodeGauge, node, nodeSelection, nodeSelectionActive } from './modules/node/style.js';\nimport { gLink, flowCircle } from './modules/link/style.js';\n\nconst variables = injectGlobal `\n  :root {\n    --vis-graph-icon-font-family: ${UNOVIS_ICON_FONT_FAMILY_DEFAULT};\n\n    /* Brush */\n    --vis-graph-brush-selection-opacity: 0.2;\n  }\n`;\r\n// General\r\nconst root = css `\n  label: graph-component;\n`;\r\nconst background = css `\n  label: background;\n`;\r\nconst graphGroup = css `\n  label: graph-group;\n`;\r\nconst brush = css `\n  label: brush;\n\n  :not(.active) {\n    display: none;\n  }\n\n  .active {\n    .selection {\n      fill-opacity: 0;\n      stroke: none;\n    }\n\n    .handle {\n      display: none;\n    }\n  }\n`;\r\nconst zoomOutLevel1 = css `\n  label: zoom-out-level-1;\n\n  ${`.${label}`} {\n    rect {\n      stroke: none;\n    }\n  }\n`;\r\nconst zoomOutLevel2 = css `\n  label: zoom-out-level-2;\n\n  ${`.${label}`} {\n    visibility: visible;\n  }\n\n  ${`.${nodeGauge}`} {\n    visibility: visible;\n  }\n\n  ${`.${node}`} {\n    stroke-width: 4px;\n  }\n\n  rect${`.${node}`} {\n    stroke-width: 2px;\n  }\n\n  ${`.${gLink}`} {\n    animation: none;\n    stroke-dasharray: none;\n  }\n\n  ${`.${flowCircle}`} {\n    display: none;\n  }\n\n  ${`.${nodeSelection}`} {\n    &${`.${nodeSelectionActive}`} {\n      transform: scale(1.15);\n    }\n  }\n`;\n\nexport { background, brush, graphGroup, root, variables, zoomOutLevel1, zoomOutLevel2 };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst panels = css `\n  label: panels;\n`;\r\nconst variables = injectGlobal `\n  :root {\n    --vis-graph-panel-border-color: #E6E9F3;\n    --vis-graph-panel-border-opacity: 0.9;\n    --vis-graph-panel-fill-color: #ffffff;\n\n    --vis-graph-panel-label-color: #6c778c;\n    --vis-graph-panel-label-background: #ffffff;\n\n    // Undefined by default to allow proper fallback to var(--vis-font-family)\n    /* --vis-graph-panel-label-font-family: */\n    --vis-graph-panel-label-font-size: 10pt;\n    --vis-graph-panel-label-font-weight: 300;\n\n    --vis-graph-panel-dashed-outline-color: #b7b7b7;\n\n    --vis-graph-panel-side-icon-symbol-color: #9ea7b8;\n    --vis-graph-panel-side-icon-shape-fill-color: #ffffff;\n\n    --vis-dark-graph-panel-border-color: var(--vis-color-grey);\n    --vis-dark-graph-panel-fill-color: #292b34;\n    --vis-dark-graph-panel-label-color: #E6E9F3;\n    --vis-dark-graph-panel-label-background: var(--vis-color-grey);\n    --vis-dark-graph-panel-side-icon-symbol-color: #ffffff;\n    --vis-dark-graph-panel-side-icon-shape-fill-color: #6c778c;\n    --vis-dark-graph-panel-border-color: #a0a6ad;\n  }\n\n  body.theme-dark ${`.${panels}`} {\n    --vis-graph-panel-border-color: var(--vis-dark-graph-panel-border-color);\n    --vis-graph-panel-fill-color: var(--vis-dark-graph-panel-fill-color);\n    --vis-graph-panel-label-color: var(--vis-dark-graph-panel-label-color);\n    --vis-graph-panel-label-background: var(--vis-dark-graph-panel-label-background);\n    --vis-graph-panel-side-icon-symbol-color: var(--vis-dark-graph-panel-side-icon-symbol-color);\n    --vis-graph-panel-side-icon-shape-fill-color: var(--vis-dark-graph-panel-side-icon-shape-fill-color);\n    --vis-graph-panel-border-color:  var(--vis-dark-graph-panel-border-color);\n  }\n`;\r\nconst gPanel = css `\n  label: g-panel;\n`;\r\nconst panel = css `\n  label: panel;\n\n  stroke: var(--vis-graph-panel-border-color);\n  stroke-opacity: var(--vis-graph-panel-border-opacity);\n  fill: var(--vis-graph-panel-fill-color);\n`;\r\nconst label = css `\n  label: label;\n\n  fill: var(--vis-graph-panel-label-color);\n`;\r\nconst background = css `\n  label: background;\n\n  opacity: 0.9;\n  -webkit-backdrop-filter: blur(2px);\n  backdrop-filter: blur(2px);\n  fill: var(--vis-graph-panel-label-background);\n  stroke: none;\n`;\r\nconst labelText = css `\n  label: label-text;\n\n  text-anchor: middle;\n  font-size: var(--vis-graph-panel-label-font-size);\n  font-weight: var(--vis-graph-panel-label-font-weight);;\n  cursor: default;\n  stroke: none;\n  font-family: var(--vis-graph-panel-label-font-family, var(--vis-font-family));\n`;\r\nconst panelSelectionActive = css `\n  label: active;\n`;\r\nconst panelSelection = css `\n  label: panel-selection-outline;\n\n  opacity: 0;\n  stroke-width: 1;\n  stroke-dasharray: 3 3;\n  fill: var(--vis-graph-node-selection-color);\n  fill-opacity: 0.1;\n  stroke: var(--vis-graph-panel-dashed-outline-color);\n  stroke-opacity: 0;\n\n  &${`.${panelSelectionActive}`} {\n    opacity: 1;\n    stroke-opacity: 0.75;\n  }\n`;\r\nconst greyout = css `\n  label: greyout;\n  opacity: 0.4;\n`;\r\nconst sideIconGroup = css `\n  label: side-icon-group;\n`;\r\nconst sideIconShape = css `\n  label: side-icon-shape;\n\n  fill: var(--vis-graph-panel-side-icon-shape-fill-color);\n  stroke-width: 2px;\n`;\r\nconst customSideIcon = css `\n  label: side-icon-custom;\n`;\r\nconst sideIconSymbol = css `\n  label: side-label-icon-text;\n  font-family: var(--vis-graph-icon-font-family), var(--vis-font-family);\n  fill: var(--vis-graph-panel-side-icon-symbol-color);\n  stroke: none;\n  dominant-baseline: middle;\n  text-anchor: middle;\n  pointer-events: none;\n  cursor: default;\n`;\n\nexport { background, customSideIcon, gPanel, greyout, label, labelText, panel, panelSelection, panelSelectionActive, panels, sideIconGroup, sideIconShape, sideIconSymbol, variables };\n\n", "import striptags from 'striptags';\nimport { allowedSvgTextTags } from './text.js';\n\nconst allowedSvgTags = [\r\n    'svg', 'g', 'path', 'rect', 'circle', 'ellipse', 'line', 'polyline', 'polygon',\r\n    'defs', 'clipPath', 'use', 'symbol', 'image', 'marker', 'style', 'mask',\r\n    ...allowedSvgTextTags,\r\n];\r\nfunction getTransformValues(svgElement) {\r\n    // Get the transform attribute value from the SVG element\r\n    const transformAttribute = svgElement.getAttribute('transform');\r\n    // Regular expressions to extract translate and scale values from the transform attribute\r\n    const translateRegex = /translate\\(\\s*(-?[\\d.]+)\\s*,?\\s*(-?[\\d.]+)?\\s*\\)/;\r\n    const scaleRegex = /scale\\(\\s*(-?[\\d.]+)\\s*,?\\s*(-?[\\d.]+)?\\s*\\)/;\r\n    // Initialize default values\r\n    const transformValues = {\r\n        translate: { x: 0, y: 0 },\r\n        scale: { x: 1, y: 1 },\r\n    };\r\n    if (transformAttribute) {\r\n        // Extract translate values\r\n        const translateMatches = transformAttribute.match(translateRegex);\r\n        if (translateMatches) {\r\n            transformValues.translate.x = parseFloat(translateMatches[1]);\r\n            transformValues.translate.y = translateMatches[2] ? parseFloat(translateMatches[2]) : 0;\r\n        }\r\n        // Extract scale values\r\n        const scaleMatches = transformAttribute.match(scaleRegex);\r\n        if (scaleMatches) {\r\n            transformValues.scale.x = parseFloat(scaleMatches[1]);\r\n            transformValues.scale.y = scaleMatches[2] ? parseFloat(scaleMatches[2]) : transformValues.scale.x;\r\n        }\r\n    }\r\n    return transformValues;\r\n}\r\nfunction transformValuesToString(transformValues) {\r\n    const translateString = `translate(${transformValues.translate.x} ${transformValues.translate.y})`;\r\n    // Only include scaleString when both scale values are not 1\r\n    const shouldIncludeScaleString = transformValues.scale.x !== 1 || transformValues.scale.y !== 1;\r\n    const scaleString = shouldIncludeScaleString ? `scale(${transformValues.scale.x} ${transformValues.scale.y})` : '';\r\n    // Combine the translate and scale strings into a single transform attribute string\r\n    const transformString = scaleString\r\n        ? `${translateString} ${scaleString}`\r\n        : translateString;\r\n    return transformString;\r\n}\r\nfunction sanitizeSvgString(svgString, allowedTags = allowedSvgTags) {\r\n    return striptags(svgString, allowedTags);\r\n}\r\nfunction isStringSvg(input) {\r\n    /* Since a general-purpose regex for this can be complex and potentially vulnerable\r\n    * to ReDoS attacks, we'll create a simpler, safer regex that looks for a few common\r\n    * SVG elements or attributes.\r\n    */\r\n    const svgElementsRegex = new RegExp(`<(${allowedSvgTags.join('|')})\\\\b`, 'i');\r\n    const svgAttributesRegex = /\\b(d|fill|stroke|transform|viewBox)=/i;\r\n    return svgElementsRegex.test(input) || svgAttributesRegex.test(input);\r\n}\n\nexport { allowedSvgTags, getTransformValues, isStringSvg, sanitizeSvgString, transformValuesToString };\n\n", "import { interpolate } from 'd3-interpolate';\nimport { max, mean } from 'd3-array';\nimport { scoreRectPath } from '../../../../utils/path.js';\nimport { getNumber, getString, isEmpty, isNil } from '../../../../utils/data.js';\nimport { getHexValue, hexToBrightness, getColor } from '../../../../utils/color.js';\nimport { GraphNodeShape } from '../../types.js';\n\nconst NODE_SIZE = 30;\r\nconst LABEL_RECT_HORIZONTAL_PADDING = 10;\r\nconst LABEL_RECT_VERTICAL_PADDING = 4;\r\nfunction getNodeSize(d, nodeSizeAccessor, index) {\r\n    return getNumber(d, nodeSizeAccessor, index) || NODE_SIZE;\r\n}\r\nfunction _setInitialAnimState(el, index) {\r\n    el._animState = {\r\n        endAngle: 0,\r\n        nodeIndex: index,\r\n    };\r\n}\r\n// Animate the arc around node with keeping\r\n// the current anim state info\r\nfunction arcTween(d, config, arcConstructor, el) {\r\n    var _a;\r\n    const { nodeStrokeWidth, nodeSize, nodeGaugeValue } = config;\r\n    if (!el._animState)\r\n        _setInitialAnimState(el, d._index);\r\n    const i = interpolate(el._animState, {\r\n        endAngle: 2 * Math.PI * ((_a = getNumber(d, nodeGaugeValue, d._index)) !== null && _a !== void 0 ? _a : 0) / 100,\r\n        nodeIndex: d._index,\r\n        nodeSize: getNodeSize(d, nodeSize, d._index),\r\n        borderWidth: getNumber(d, nodeStrokeWidth, d._index),\r\n    });\r\n    el._animState = i(0);\r\n    return (t) => {\r\n        el._animState = i(t);\r\n        return arcConstructor(el._animState);\r\n    };\r\n}\r\nfunction polyTween(d, config, polygonConstructor, el) {\r\n    var _a;\r\n    const { nodeShape, nodeGaugeValue } = config;\r\n    const nodeSize = getNodeSize(d, config.nodeSize, d._index);\r\n    let n;\r\n    switch (getString(d, nodeShape, d._index)) {\r\n        case GraphNodeShape.Square:\r\n            n = 4;\r\n            break;\r\n        case GraphNodeShape.Triangle:\r\n            n = 3;\r\n            break;\r\n        case GraphNodeShape.Hexagon:\r\n        default:\r\n            n = 6;\r\n    }\r\n    if (!el._animState)\r\n        _setInitialAnimState(el, d._index);\r\n    const i = interpolate(el._animState, {\r\n        endAngle: 2 * Math.PI * ((_a = getNumber(d, nodeGaugeValue, d._index)) !== null && _a !== void 0 ? _a : 0) / 100,\r\n        nodeIndex: d._index,\r\n    });\r\n    el._animState = i(0);\r\n    return (t) => {\r\n        el._animState = i(t);\r\n        return n === 4 ? scoreRectPath({\r\n            x: -nodeSize / 2,\r\n            y: -nodeSize / 2,\r\n            w: nodeSize,\r\n            h: nodeSize,\r\n            r: 5,\r\n            score: el._animState.endAngle / (2 * Math.PI),\r\n        }) : polygonConstructor(nodeSize, n, el._animState.endAngle, true);\r\n    };\r\n}\r\nfunction setLabelRect(labelSelection, label, selector) {\r\n    // Set label background rectangle size by text size\r\n    const labelIsEmpty = isEmpty(label);\r\n    const labelTextSelection = labelSelection.select(`.${selector}`);\r\n    const labelTextBBox = labelTextSelection.node().getBBox();\r\n    const backgroundRect = labelSelection.select('rect')\r\n        .attr('visibility', labelIsEmpty ? 'hidden' : null)\r\n        .attr('rx', 4)\r\n        .attr('ry', 4)\r\n        .attr('x', -labelTextBBox.width / 2 - LABEL_RECT_HORIZONTAL_PADDING)\r\n        .attr('y', '-0.64em')\r\n        .attr('width', labelTextBBox.width + 2 * LABEL_RECT_HORIZONTAL_PADDING)\r\n        .attr('height', labelTextBBox.height + 2 * LABEL_RECT_VERTICAL_PADDING)\r\n        .style('transform', `translateY(${-LABEL_RECT_VERTICAL_PADDING}px)`);\r\n    return backgroundRect;\r\n}\r\nfunction getX(node) {\r\n    return node._state && !isNil(node._state.fx) ? node._state.fx : node.x;\r\n}\r\nfunction getY(node) {\r\n    return node._state && !isNil(node._state.fy) ? node._state.fy : node.y;\r\n}\r\nfunction configuredNodeSize(nodeSizeAccessor) {\r\n    return typeof nodeSizeAccessor === 'number' ? nodeSizeAccessor : NODE_SIZE;\r\n}\r\nfunction getMaxNodeSize(data, nodeSize) {\r\n    return max(data || [], (d, i) => getNodeSize(d, nodeSize, i)) || NODE_SIZE;\r\n}\r\nfunction getAverageNodeSize(data, nodeSize) {\r\n    return mean(data || [], (d, i) => getNodeSize(d, nodeSize, i)) || NODE_SIZE;\r\n}\r\nfunction getSideLabelTextColor(label, context) {\r\n    if (!label.color)\r\n        return null;\r\n    const hex = getHexValue(label.color, context);\r\n    const brightness = hexToBrightness(hex);\r\n    return brightness > 0.65 ? 'var(--vis-graph-node-side-label-fill-color-dark)' : 'var(--vis-graph-node-side-label-fill-color-bright)';\r\n}\r\nfunction getNodeColor(d, colorAccessor, index) {\r\n    var _a;\r\n    return (_a = getColor(d, colorAccessor, index, true)) !== null && _a !== void 0 ? _a : null;\r\n}\r\nfunction getNodeIconColor(d, colorAccessor, index, context) {\r\n    const nodeColor = getNodeColor(d, colorAccessor, index);\r\n    if (!nodeColor)\r\n        return null;\r\n    const hex = getHexValue(nodeColor, context);\r\n    const brightness = hexToBrightness(hex);\r\n    return brightness > 0.65 ? 'var(--vis-graph-node-icon-fill-color-dark)' : 'var(--vis-graph-node-icon-fill-color-bright)';\r\n}\r\nfunction isInternalHref(str) {\r\n    return /^#[^]+/.test(str);\r\n}\n\nexport { LABEL_RECT_HORIZONTAL_PADDING, LABEL_RECT_VERTICAL_PADDING, NODE_SIZE, arcTween, configuredNodeSize, getAverageNodeSize, getMaxNodeSize, getNodeColor, getNodeIconColor, getNodeSize, getSideLabelTextColor, getX, getY, isInternalHref, polyTween, setLabelRect };\n\n", "import { select } from 'd3-selection';\nimport { polygon } from '../../../utils/path.js';\nimport { getString } from '../../../utils/data.js';\nimport { isStringSvg, sanitizeSvgString } from '../../../utils/svg.js';\nimport { GraphNodeShape } from '../types.js';\nimport { getNodeSize } from './node/helper.js';\n\nfunction appendShape(selection, shapeAccessor, shapeSelector, customShapeSelector, index, insertSelector = ':last-child') {\r\n    selection.each((d, i, elements) => {\r\n        const element = select(elements[i]);\r\n        const shape = getString(d, shapeAccessor, index);\r\n        let shapeElement;\r\n        const isCustomShape = isStringSvg(shape);\r\n        if (isCustomShape) {\r\n            shapeElement = element.insert('g', insertSelector)\r\n                .html(sanitizeSvgString(shape));\r\n        }\r\n        else {\r\n            switch (shape) {\r\n                case GraphNodeShape.Square:\r\n                    shapeElement = element.insert('rect', insertSelector)\r\n                        .attr('rx', 5)\r\n                        .attr('ry', 5);\r\n                    break;\r\n                case GraphNodeShape.Hexagon:\r\n                case GraphNodeShape.Triangle:\r\n                    shapeElement = element.insert('path', insertSelector);\r\n                    break;\r\n                case GraphNodeShape.Circle:\r\n                default:\r\n                    shapeElement = element.insert('circle', insertSelector);\r\n            }\r\n        }\r\n        shapeElement.classed(customShapeSelector, isCustomShape);\r\n        return shapeElement.attr('class', shapeSelector);\r\n    });\r\n}\r\nfunction updateShape(selection, shape, size, index) {\r\n    if (selection.size() === 0)\r\n        return;\r\n    const d = selection.datum();\r\n    const nodeSize = getNodeSize(d, size, index);\r\n    selection.filter('circle')\r\n        .attr('r', nodeSize / 2);\r\n    selection.filter('rect')\r\n        .attr('width', nodeSize)\r\n        .attr('height', nodeSize)\r\n        .attr('x', -nodeSize / 2)\r\n        .attr('y', -nodeSize / 2);\r\n    selection.filter('path')\r\n        .attr('d', () => {\r\n        let n;\r\n        switch (getString(d, shape, index)) {\r\n            case GraphNodeShape.Square:\r\n                n = 4;\r\n                break;\r\n            case GraphNodeShape.Triangle:\r\n                n = 3;\r\n                break;\r\n            case GraphNodeShape.Hexagon:\r\n            default:\r\n                n = 6;\r\n        }\r\n        return polygon(nodeSize, n);\r\n    });\r\n    selection.filter('g')\r\n        .filter(() => !isStringSvg(getString(d, shape, index)))\r\n        .html(getString(d, shape, index));\r\n    selection.filter('g')\r\n        .each((d, i, elements) => {\r\n        const el = select(elements[i]);\r\n        const bBox = el.node().getBBox();\r\n        el.attr('transform', `translate(${-bBox.width / 2},${-bBox.height / 2})`);\r\n    });\r\n}\n\nexport { appendShape, updateShape };\n\n", "var ZoomLevel;\r\n(function (ZoomLevel) {\r\n    ZoomLevel[ZoomLevel[\"Level0\"] = 1] = \"Level0\";\r\n    ZoomLevel[ZoomLevel[\"Level1\"] = 0.6] = \"Level1\";\r\n    ZoomLevel[ZoomLevel[\"Level2\"] = 0.4] = \"Level2\";\r\n    ZoomLevel[ZoomLevel[\"Level3\"] = 0.2] = \"Level3\";\r\n})(ZoomLevel || (ZoomLevel = {}));\n\nexport { ZoomLevel };\n\n", "import { select } from 'd3-selection';\nimport { arc } from 'd3-shape';\nimport { trimString } from '../../../../utils/text.js';\nimport { polygon } from '../../../../utils/path.js';\nimport { smartTransition } from '../../../../utils/d3.js';\nimport { getValue, getNumber, getString, getBoolean, throttle } from '../../../../utils/data.js';\nimport { getColor } from '../../../../utils/color.js';\nimport { isStringSvg } from '../../../../utils/svg.js';\nimport { GraphNodeShape } from '../../types.js';\nimport { getX, getY, getSideLabelTextColor, getNodeSize, getNodeColor, polyTween, arcTween, getNodeIconColor, isInternalHref, setLabelRect, LABEL_RECT_VERTICAL_PADDING } from './helper.js';\nimport { appendShape, updateShape } from '../shape.js';\nimport { ZoomLevel } from '../zoom-levels.js';\nimport { zoomOutLevel2, zoomOutLevel1 } from '../../style.js';\nimport { node, customNode, nodeSelection, nodeGauge, nodeIcon, sideLabelsGroup, nodeBottomIcon, label, labelBackground, labelText, labelTextContent, subLabelTextContent, greyedOutNode, draggable, nodeSelectionActive, sideLabel, sideLabelBackground, nodeIsDragged, nodePolygon, sideLabelGroup } from './style.js';\n\nconst SIDE_LABEL_DEFAULT_RADIUS = 10;\r\nfunction createNodes(selection, config, duration, scale = 1) {\r\n    selection.each((d, i, elements) => {\r\n        const element = elements[i];\r\n        const group = select(element);\r\n        group\r\n            .attr('transform', (d, i) => {\r\n            var _a, _b, _c;\r\n            const configuredPosition = getValue(d, config.nodeEnterPosition, i);\r\n            const scale = (_a = getNumber(d, config.nodeEnterScale, i)) !== null && _a !== void 0 ? _a : 0;\r\n            const x = (_b = configuredPosition === null || configuredPosition === void 0 ? void 0 : configuredPosition[0]) !== null && _b !== void 0 ? _b : getX(d);\r\n            const y = (_c = configuredPosition === null || configuredPosition === void 0 ? void 0 : configuredPosition[1]) !== null && _c !== void 0 ? _c : getY(d);\r\n            return `translate(${x}, ${y}) scale(${scale})`;\r\n        })\r\n            .attr('opacity', 0);\r\n        // If there's a custom render function, use it\r\n        if (config.nodeEnterCustomRenderFunction) {\r\n            config.nodeEnterCustomRenderFunction(d, group, config, duration, scale);\r\n        }\r\n        else { // Default node rendering\r\n            const shape = getString(d, config.nodeShape, d._index);\r\n            // Todo: The 'nodeShape'  and `nodeIcon` storing logic below it a temporary solution,\r\n            // we need a cleaner implementation\r\n            element.nodeShape = shape;\r\n            appendShape(group, shape, node, customNode, d._index);\r\n            appendShape(group, shape, nodeSelection, customNode, d._index);\r\n            group.append('path').attr('class', nodeGauge);\r\n            group.append('g').attr('class', nodeIcon);\r\n            group.append('g')\r\n                .attr('class', sideLabelsGroup);\r\n            group.append('text')\r\n                .attr('class', nodeBottomIcon);\r\n        }\r\n        // Label\r\n        const label$1 = group.append('g').attr('class', label);\r\n        label$1.append('rect').attr('class', labelBackground);\r\n        const labelText$1 = label$1.append('text')\r\n            .attr('class', labelText)\r\n            .attr('dy', '0.32em');\r\n        labelText$1.append('tspan').attr('class', labelTextContent);\r\n        labelText$1.append('tspan')\r\n            .attr('class', subLabelTextContent)\r\n            .attr('dy', '1.1em')\r\n            .attr('x', '0');\r\n    });\r\n}\r\n/** Updates the nodes partially according to their `_state` */\r\nfunction updateNodesPartial(selection, config, duration, scale = 1) {\r\n    const { nodeDisabled } = config;\r\n    if (config.nodePartialUpdateCustomRenderFunction || config.nodeEnterCustomRenderFunction) {\r\n        // Handle custom rendering behavior\r\n        selection.each((d, i, elements) => {\r\n            var _a;\r\n            const g = select(elements[i]);\r\n            (_a = config.nodePartialUpdateCustomRenderFunction) === null || _a === void 0 ? void 0 : _a.call(config, d, g, config, duration, scale);\r\n        });\r\n    }\r\n    else {\r\n        // Default rendering\r\n        selection.each((d, i, elements) => {\r\n            const group = select(elements[i]);\r\n            const isGreyout = getBoolean(d, nodeDisabled, d._index) || d._state.greyout;\r\n            group.classed(greyedOutNode, isGreyout && !d._state.brushed)\r\n                .classed(draggable, !config.disableDrag);\r\n            const nodeSelectionOutline = group.selectAll(`.${nodeSelection}`);\r\n            nodeSelectionOutline.classed(nodeSelectionActive, d._state.selected || d._state.brushed);\r\n            group.selectAll(`.${sideLabel}`)\r\n                .style('fill', (l) => isGreyout ? null : getSideLabelTextColor(l, selection.node()));\r\n            group.selectAll(`.${sideLabelBackground}`)\r\n                .style('fill', (l) => isGreyout ? null : l.color);\r\n        });\r\n    }\r\n}\r\nfunction updateNodePositions(selection, duration) {\r\n    return smartTransition(selection, duration)\r\n        .attr('transform', d => `translate(${getX(d)}, ${getY(d)}) scale(1)`)\r\n        .attr('opacity', 1);\r\n}\r\nfunction updateNodes(selection, config, duration, scale = 1) {\r\n    const { nodeGaugeAnimDuration, nodeStrokeWidth, nodeShape, nodeSize, nodeGaugeValue, nodeGaugeFill, nodeIcon: nodeIcon$1, nodeIconSize, nodeLabel, nodeLabelTrim, nodeLabelTrimMode, nodeLabelTrimLength, nodeSubLabel, nodeSubLabelTrim, nodeSubLabelTrimMode, nodeSubLabelTrimLength, nodeSideLabels, nodeStroke, nodeFill, nodeBottomIcon: nodeBottomIcon$1, } = config;\r\n    const nodeGroupsUpdate = updateNodePositions(selection, duration);\r\n    // If there's a custom render function, use it\r\n    if (config.nodeUpdateCustomRenderFunction) {\r\n        selection.each((d, i, elements) => {\r\n            const g = select(elements[i]);\r\n            config.nodeUpdateCustomRenderFunction(d, g, config, duration, scale);\r\n        });\r\n        updateNodesPartial(selection, config, duration, scale);\r\n        return nodeGroupsUpdate;\r\n    }\r\n    // Default node rendering\r\n    // Re-create nodes to update shapes if they were changed\r\n    selection.each((d, i, elements) => {\r\n        const element = elements[i];\r\n        const group = select(element);\r\n        const shape = getString(d, nodeShape, d._index);\r\n        if (element.nodeShape !== shape) {\r\n            group.select(`.${node}`).remove();\r\n            appendShape(group, nodeShape, node, customNode, d._index, `.${nodeSelection}`);\r\n            group.select(`.${nodeSelection}`).remove();\r\n            appendShape(group, shape, nodeSelection, null, d._index, `.${nodeGauge}`);\r\n            element.nodeShape = shape;\r\n        }\r\n    });\r\n    // Update nodes themselves\r\n    selection.each((d, i, elements) => {\r\n        var _a, _b, _c;\r\n        const groupElement = elements[i];\r\n        const group = select(groupElement);\r\n        const node$1 = group.select(`.${node}`);\r\n        const nodeArc = group.select(`.${nodeGauge}`);\r\n        const icon = group.select(`.${nodeIcon}`);\r\n        const sideLabelsGroup$1 = group.select(`.${sideLabelsGroup}`);\r\n        const label$1 = group.select(`.${label}`);\r\n        const labelTextContent$1 = label$1.select(`.${labelTextContent}`);\r\n        const sublabelTextContent = label$1.select(`.${subLabelTextContent}`);\r\n        const bottomIcon = group.select(`.${nodeBottomIcon}`);\r\n        const nodeSelectionOutline = group.select(`.${nodeSelection}`);\r\n        const nodeSizeValue = getNodeSize(d, nodeSize, d._index);\r\n        const arcGenerator = arc()\r\n            .innerRadius(state => state.nodeSize / 2 - state.borderWidth / 2)\r\n            .outerRadius(state => state.nodeSize / 2 + state.borderWidth / 2)\r\n            .startAngle(0 * (Math.PI / 180))\r\n            // eslint-disable-next-line dot-notation\r\n            .endAngle(a => a['endAngle']);\r\n        group\r\n            .classed(zoomOutLevel2, scale < ZoomLevel.Level2)\r\n            .classed(nodeIsDragged, (d) => d._state.isDragged);\r\n        // Update Group\r\n        group\r\n            .classed(nodePolygon, () => {\r\n            const shape = getString(d, nodeShape, d._index);\r\n            return shape === GraphNodeShape.Triangle || shape === GraphNodeShape.Hexagon || shape === GraphNodeShape.Square;\r\n        });\r\n        // Update Node\r\n        node$1\r\n            .call(updateShape, nodeShape, nodeSize, d._index)\r\n            .attr('stroke-width', (_a = getNumber(d, nodeStrokeWidth, d._index)) !== null && _a !== void 0 ? _a : 0)\r\n            .style('fill', getNodeColor(d, nodeFill, d._index))\r\n            .style('stroke', (_b = getColor(d, nodeStroke, d._index, true)) !== null && _b !== void 0 ? _b : null);\r\n        const nodeBBox = node$1.node().getBBox();\r\n        nodeArc\r\n            .attr('stroke-width', getNumber(d, nodeStrokeWidth, d._index))\r\n            .style('display', !getNumber(d, nodeGaugeValue, d._index) ? 'none' : null)\r\n            .style('fill', getNodeColor(d, nodeGaugeFill, d._index))\r\n            .style('stroke', getNodeColor(d, nodeGaugeFill, d._index))\r\n            .style('stroke-opacity', d => getString(d, nodeShape, d._index) === GraphNodeShape.Circle ? 0 : null);\r\n        nodeArc\r\n            .transition()\r\n            .duration(nodeGaugeAnimDuration)\r\n            .attrTween('d', (d, j, arr) => {\r\n            switch (getString(d, nodeShape, d._index)) {\r\n                case GraphNodeShape.Circle: return arcTween(d, config, arcGenerator, arr[j]);\r\n                case GraphNodeShape.Hexagon: return polyTween(d, config, polygon, arr[j]);\r\n                case GraphNodeShape.Square: return polyTween(d, config, polygon, arr[j]);\r\n                case GraphNodeShape.Triangle: return polyTween(d, config, polygon, arr[j]);\r\n                default: return null;\r\n            }\r\n        });\r\n        // Set Node Selection\r\n        updateShape(nodeSelectionOutline, nodeShape, nodeSize, d._index);\r\n        // Update Node Icon\r\n        const prevNodeIconValue = groupElement.nodeIcon;\r\n        const nodeIconValue = getString(d, nodeIcon$1, d._index);\r\n        const nodeIconSizeValue = (_c = getNumber(d, nodeIconSize, d._index)) !== null && _c !== void 0 ? _c : 2.5 * Math.sqrt(nodeSizeValue);\r\n        const nodeIconColor = getNodeIconColor(d, nodeFill, d._index, selection.node());\r\n        const shouldRenderUseElement = isInternalHref(nodeIconValue);\r\n        if (prevNodeIconValue !== nodeIconValue) {\r\n            // If the icon has changed, we remove all children and re-render\r\n            icon.selectAll('*').remove();\r\n            // If the icon is a href, we need to append a <use> element. If it's a text we append the `<text>` element.\r\n            icon.append(shouldRenderUseElement ? 'use' : 'text');\r\n            groupElement.nodeIcon = nodeIconValue;\r\n        }\r\n        if (shouldRenderUseElement) {\r\n            icon.select('use')\r\n                .attr('href', nodeIconValue)\r\n                .attr('x', -nodeIconSizeValue / 2)\r\n                .attr('y', -nodeIconSizeValue / 2)\r\n                .attr('width', nodeIconSizeValue)\r\n                .attr('height', nodeIconSizeValue)\r\n                .style('fill', nodeIconColor);\r\n        }\r\n        else {\r\n            icon.select('text')\r\n                .style('font-size', `${nodeIconSizeValue}px`)\r\n                .attr('dy', '0.1em')\r\n                .style('fill', nodeIconColor)\r\n                .html(nodeIconValue);\r\n        }\r\n        // Side Labels\r\n        const sideLabelsData = getValue(d, nodeSideLabels, d._index) || [];\r\n        const sideLabels = sideLabelsGroup$1.selectAll('g').data(sideLabelsData);\r\n        const sideLabelsEnter = sideLabels.enter().append('g')\r\n            .attr('class', sideLabelGroup);\r\n        sideLabelsEnter.append('circle')\r\n            .attr('class', sideLabelBackground)\r\n            .attr('r', l => { var _a; return (_a = l.radius) !== null && _a !== void 0 ? _a : SIDE_LABEL_DEFAULT_RADIUS; });\r\n        sideLabelsEnter.append('text')\r\n            .attr('class', sideLabel);\r\n        const sideLabelsUpdate = sideLabels.merge(sideLabelsEnter)\r\n            .style('cursor', l => { var _a; return (_a = l.cursor) !== null && _a !== void 0 ? _a : null; });\r\n        // Side label text\r\n        sideLabelsUpdate.select(`.${sideLabel}`).html(d => d.text)\r\n            .attr('dy', '0.1em')\r\n            .style('fill', l => { var _a; return (_a = l.textColor) !== null && _a !== void 0 ? _a : getSideLabelTextColor(l, selection.node()); })\r\n            .style('font-size', l => { var _a, _b; return (_a = l.fontSize) !== null && _a !== void 0 ? _a : `${(2 + ((_b = l.radius) !== null && _b !== void 0 ? _b : SIDE_LABEL_DEFAULT_RADIUS)) / Math.pow(l.text.toString().length, 0.3)}px`; });\r\n        // Side label circle background\r\n        sideLabelsUpdate.select(`.${sideLabelBackground}`)\r\n            .style('fill', l => l.color);\r\n        sideLabelsUpdate.attr('transform', (l, j) => {\r\n            var _a;\r\n            if (sideLabelsData.length === 1)\r\n                return `translate(${nodeSizeValue / 2.5}, ${-nodeSizeValue / 2.5})`;\r\n            const r = 1.05 * nodeSizeValue / 2;\r\n            const angle = j * 1.15 * 2 * Math.atan2((_a = l.radius) !== null && _a !== void 0 ? _a : SIDE_LABEL_DEFAULT_RADIUS, r) - Math.PI / 3;\r\n            return `translate(${r * Math.cos(angle)}, ${r * Math.sin(angle)})`;\r\n        });\r\n        sideLabels.exit().remove();\r\n        // Set label and sub-label text\r\n        const labelText$1 = getString(d, nodeLabel, d._index);\r\n        const sublabelText = getString(d, nodeSubLabel, d._index);\r\n        const labelTextTrimmed = getBoolean(d, nodeLabelTrim, d._index)\r\n            ? trimString(labelText$1, getNumber(d, nodeLabelTrimLength, d._index), getValue(d, nodeLabelTrimMode, d._index))\r\n            : labelText$1;\r\n        const sublabelTextTrimmed = getBoolean(d, nodeSubLabelTrim, d._index)\r\n            ? trimString(sublabelText, getNumber(d, nodeSubLabelTrimLength, d._index), getValue(d, nodeSubLabelTrimMode, d._index))\r\n            : sublabelText;\r\n        labelTextContent$1.text(labelTextTrimmed);\r\n        sublabelTextContent.text(sublabelTextTrimmed);\r\n        group\r\n            .on('mouseenter', () => {\r\n            labelTextContent$1.text(labelText$1);\r\n            sublabelTextContent.text(sublabelText);\r\n            setLabelRect(label$1, labelText$1, labelText);\r\n            group.raise();\r\n        })\r\n            .on('mouseleave', () => {\r\n            labelTextContent$1.text(labelTextTrimmed);\r\n            sublabelTextContent.text(sublabelTextTrimmed);\r\n            setLabelRect(label$1, labelTextTrimmed, labelText);\r\n        });\r\n        // Position label\r\n        const labelFontSize = parseFloat(window.getComputedStyle(groupElement).getPropertyValue('--vis-graph-node-label-font-size')) || 12;\r\n        const labelMargin = LABEL_RECT_VERTICAL_PADDING + 1.25 * Math.pow(labelFontSize, 1.03);\r\n        const nodeHeight = isStringSvg((getString(d, nodeShape, d._index))) ? nodeBBox.height : nodeSizeValue;\r\n        label$1.attr('transform', `translate(0, ${nodeHeight / 2 + labelMargin})`);\r\n        if (scale >= ZoomLevel.Level3)\r\n            setLabelRect(label$1, getString(d, nodeLabel, d._index), labelText);\r\n        // Bottom Icon\r\n        bottomIcon.html(getString(d, nodeBottomIcon$1, d._index))\r\n            .attr('transform', `translate(0, ${nodeHeight / 2})`);\r\n    });\r\n    updateNodesPartial(selection, config, duration, scale);\r\n    return nodeGroupsUpdate;\r\n}\r\nfunction removeNodes(selection, config, duration, scale = 1) {\r\n    smartTransition(selection, duration / 2)\r\n        .attr('opacity', 0)\r\n        .attr('transform', (d, i) => {\r\n        var _a, _b, _c;\r\n        const configuredPosition = getValue(d, config.nodeExitPosition, i);\r\n        const scale = (_a = getNumber(d, config.nodeExitScale, i)) !== null && _a !== void 0 ? _a : 0;\r\n        const x = (_b = configuredPosition === null || configuredPosition === void 0 ? void 0 : configuredPosition[0]) !== null && _b !== void 0 ? _b : getX(d);\r\n        const y = (_c = configuredPosition === null || configuredPosition === void 0 ? void 0 : configuredPosition[1]) !== null && _c !== void 0 ? _c : getY(d);\r\n        return `translate(${x}, ${y}) scale(${scale})`;\r\n    })\r\n        .remove();\r\n    // If there's a custom render function, use it\r\n    if (config.nodeExitCustomRenderFunction) {\r\n        selection.each((d, i, elements) => {\r\n            const g = select(elements[i]);\r\n            config.nodeExitCustomRenderFunction(d, g, config, duration, scale);\r\n        });\r\n    }\r\n}\r\nfunction setLabelBackgroundRect(selection, config) {\r\n    const { nodeLabel } = config;\r\n    selection.each((d, i, elements) => {\r\n        const group = select(elements[i]);\r\n        const label$1 = group.select(`.${label}`);\r\n        setLabelRect(label$1, getString(d, nodeLabel, i), labelText);\r\n    });\r\n}\r\nconst setLabelBackgroundRectThrottled = throttle(setLabelBackgroundRect, 1000);\r\nfunction zoomNodes(selection, config, scale) {\r\n    if (config.nodeOnZoomCustomRenderFunction || config.nodeEnterCustomRenderFunction) {\r\n        // Handle custom rendering behavior\r\n        selection.each((d, i, elements) => {\r\n            var _a;\r\n            const g = select(elements[i]);\r\n            (_a = config.nodeOnZoomCustomRenderFunction) === null || _a === void 0 ? void 0 : _a.call(config, d, g, config, scale);\r\n        });\r\n    }\r\n    else {\r\n        // Default rendering\r\n        selection.classed(zoomOutLevel1, scale < ZoomLevel.Level1);\r\n        selection.classed(zoomOutLevel2, scale < ZoomLevel.Level2);\r\n        selection.selectAll(`${sideLabelBackground}`)\r\n            .attr('transform', `scale(${1 / Math.pow(scale, 0.35)})`);\r\n        selection.selectAll(`.${sideLabel}`)\r\n            .attr('transform', `scale(${1 / Math.pow(scale, 0.45)})`);\r\n        if (scale >= ZoomLevel.Level3)\r\n            selection.call(setLabelBackgroundRectThrottled, config);\r\n    }\r\n}\r\nconst zoomNodesThrottled = throttle(zoomNodes, 500);\n\nexport { createNodes, removeNodes, updateNodePositions, updateNodes, updateNodesPartial, zoomNodes, zoomNodesThrottled };\n\n", "import { select } from 'd3-selection';\nimport { range, sum } from 'd3-array';\nimport toPx from 'to-px';\nimport { getBoolean, ensureArray, getValue, getNumber, throttle } from '../../../../utils/data.js';\nimport { smartTransition } from '../../../../utils/d3.js';\nimport { getCSSVariableValueInPixels } from '../../../../utils/misc.js';\nimport { estimateStringPixelLength } from '../../../../utils/text.js';\nimport { GraphLinkStyle } from '../../types.js';\nimport { getX, getY, isInternalHref } from '../node/helper.js';\nimport { getLinkBandWidth, getLinkColor, getLinkShiftTransform, getLinkStrokeWidth, getLinkArrowStyle, LINK_MARKER_WIDTH, getLinkLabelTextColor } from './helper.js';\nimport { ZoomLevel } from '../zoom-levels.js';\nimport { zoomOutLevel2 } from '../../style.js';\nimport { linkSupport, link, linkBand, linkArrow, flowGroup, flowCircle, greyedOutLink, linkDashed, linkLabelGroup, linkLabelBackground, linkLabelContent } from './style.js';\n\nfunction createLinks(selection) {\r\n    selection.attr('opacity', 0);\r\n    selection.append('path')\r\n        .attr('class', linkSupport);\r\n    selection.append('path')\r\n        .attr('class', link);\r\n    selection.append('path')\r\n        .attr('class', linkBand);\r\n    selection.append('use')\r\n        .attr('class', linkArrow);\r\n    selection.append('g')\r\n        .attr('class', flowGroup)\r\n        .style('opacity', 0)\r\n        .selectAll(`.${flowCircle}`)\r\n        .data(range(0, 6)).enter()\r\n        .append('circle')\r\n        .attr('class', flowCircle);\r\n}\r\n/** Updates the links partially according to their `_state` */\r\nfunction updateLinksPartial(selection, config, scale) {\r\n    const isGreyedOut = (d, i) => getBoolean(d, config.linkDisabled, i) || d._state.greyout;\r\n    selection\r\n        .classed(greyedOutLink, (d, i) => isGreyedOut(d, i));\r\n    selection.each((d, i, elements) => {\r\n        const element = elements[i];\r\n        const group = select(element);\r\n        group.select(`.${link}`);\r\n        group.select(`.${linkBand}`);\r\n        const linkSupport$1 = group.select(`.${linkSupport}`);\r\n        linkSupport$1\r\n            .style('stroke-opacity', (d._state.hovered || d._state.selected) ? 0.2 : 0)\r\n            .style('stroke-width', d._state.selected\r\n            ? getLinkBandWidth(d, scale, config) + 5\r\n            : d._state.hovered ? getLinkBandWidth(d, scale, config) + 10 : null);\r\n    });\r\n}\r\nfunction updateLinkLines(selection, config, duration, scale = 1, getLinkArrowDefId, linkPathLengthMap) {\r\n    return selection.each((d, i, elements) => {\r\n        var _a;\r\n        const element = elements[i];\r\n        const linkGroup = select(element);\r\n        const link$1 = linkGroup.select(`.${link}`);\r\n        const linkBand$1 = linkGroup.select(`.${linkBand}`);\r\n        const linkSupport$1 = linkGroup.select(`.${linkSupport}`);\r\n        const linkArrow$1 = linkGroup.select(`.${linkArrow}`);\r\n        const linkColor = getLinkColor(d, config);\r\n        const linkShiftTransform = getLinkShiftTransform(d, config.linkNeighborSpacing);\r\n        const linkLabelData = ensureArray(getValue(d, config.linkLabel, d._indexGlobal));\r\n        const offsetSource = getValue(d, config.linkSourcePointOffset, i);\r\n        const offsetTarget = getValue(d, config.linkTargetPointOffset, i);\r\n        const x1 = getX(d.source) + ((offsetSource === null || offsetSource === void 0 ? void 0 : offsetSource[0]) || 0);\r\n        const y1 = getY(d.source) + ((offsetSource === null || offsetSource === void 0 ? void 0 : offsetSource[1]) || 0);\r\n        const x2 = getX(d.target) + ((offsetTarget === null || offsetTarget === void 0 ? void 0 : offsetTarget[0]) || 0);\r\n        const y2 = getY(d.target) + ((offsetTarget === null || offsetTarget === void 0 ? void 0 : offsetTarget[1]) || 0);\r\n        const curvature = (_a = getNumber(d, config.linkCurvature, i)) !== null && _a !== void 0 ? _a : 0;\r\n        const cp1x = x1 + (x2 - x1) * 0.5 * curvature;\r\n        const cp1y = y1 + (y2 - y1) * 0.0 * curvature;\r\n        const cp2x = x1 + (x2 - x1) * 0.5 * curvature;\r\n        const cp2y = y1 + (y2 - y1) * 1.0 * curvature;\r\n        const pathData = `M${x1},${y1} C${cp1x},${cp1y} ${cp2x},${cp2y} ${x2},${y2}`;\r\n        const linkPathElement = linkSupport$1.attr('d', pathData).node();\r\n        const cachedLinkPathLength = linkPathLengthMap.get(pathData);\r\n        const pathLength = cachedLinkPathLength !== null && cachedLinkPathLength !== void 0 ? cachedLinkPathLength : linkPathElement.getTotalLength();\r\n        if (!cachedLinkPathLength)\r\n            linkPathLengthMap.set(pathData, pathLength);\r\n        linkSupport$1\r\n            .style('stroke', linkColor)\r\n            .attr('transform', linkShiftTransform);\r\n        link$1\r\n            .attr('class', link)\r\n            .style('stroke-width', getLinkStrokeWidth(d, scale, config))\r\n            .style('stroke', linkColor)\r\n            .attr('transform', linkShiftTransform);\r\n        smartTransition(link$1, duration)\r\n            .attr('d', pathData);\r\n        linkBand$1\r\n            .attr('class', linkBand)\r\n            .attr('transform', linkShiftTransform)\r\n            .style('stroke-width', getLinkBandWidth(d, scale, config))\r\n            .style('stroke', linkColor);\r\n        smartTransition(linkBand$1, duration)\r\n            .attr('d', pathData);\r\n        // Arrow\r\n        const linkArrowStyle = getLinkArrowStyle(d, config);\r\n        if (linkArrowStyle) {\r\n            const arrowPos = pathLength * (linkLabelData.length ? 0.65 : 0.5);\r\n            const p1 = linkPathElement.getPointAtLength(arrowPos);\r\n            const p2 = linkPathElement.getPointAtLength(arrowPos + 1); // A point very close to p1\r\n            // Calculate the angle for the arrowhead\r\n            const angle = Math.atan2(p2.y - p1.y, p2.x - p1.x) * (180 / Math.PI);\r\n            const arrowWasShownBefore = linkArrow$1.attr('href');\r\n            linkArrow$1\r\n                .attr('href', `#${getLinkArrowDefId(linkArrowStyle)}`);\r\n            smartTransition(linkArrow$1, arrowWasShownBefore ? duration : 0)\r\n                .attr('fill', linkColor)\r\n                .attr('transform', `translate(${p1.x}, ${p1.y}) rotate(${angle})`);\r\n        }\r\n        else {\r\n            linkArrow$1.attr('href', null);\r\n        }\r\n    });\r\n}\r\nfunction updateLinks(selection, config, duration, scale = 1, getLinkArrowDefId, linkPathLengthMap) {\r\n    const { linkStyle, linkFlow, linkLabel, linkLabelShiftFromCenter } = config;\r\n    if (!selection.size())\r\n        return;\r\n    selection\r\n        .classed(linkDashed, d => getValue(d, linkStyle, d._indexGlobal) === GraphLinkStyle.Dashed);\r\n    // Update line and arrow positions\r\n    updateLinkLines(selection, config, duration, scale, getLinkArrowDefId, linkPathLengthMap);\r\n    // Update labels and link flow (particles) groups\r\n    selection.each((d, i, elements) => {\r\n        const element = elements[i];\r\n        const linkGroup = select(element);\r\n        const flowGroup$1 = linkGroup.select(`.${flowGroup}`);\r\n        const linkSupport$1 = linkGroup.select(`.${linkSupport}`);\r\n        const linkPathElement = linkSupport$1.node();\r\n        const linkColor = getLinkColor(d, config);\r\n        const linkShiftTransform = getLinkShiftTransform(d, config.linkNeighborSpacing);\r\n        const linkLabelData = ensureArray(getValue(d, linkLabel, d._indexGlobal));\r\n        const linkFlowParticleSize = getNumber(d, config.linkFlowParticleSize, d._indexGlobal);\r\n        // Particle Flow\r\n        flowGroup$1\r\n            .attr('transform', linkShiftTransform)\r\n            .style('display', getBoolean(d, linkFlow, d._indexGlobal) ? null : 'none');\r\n        flowGroup$1\r\n            .selectAll(`.${flowCircle}`)\r\n            .attr('r', linkFlowParticleSize / Math.sqrt(scale))\r\n            .style('fill', linkColor);\r\n        smartTransition(flowGroup$1, duration)\r\n            .style('opacity', scale < ZoomLevel.Level2 ? 0 : 1);\r\n        // Labels\r\n        // Preparing the labels before rendering to be able to center them\r\n        const linkLabelsDataPrepared = linkLabelData.map((linkLabelDatum) => {\r\n            var _a, _b, _c;\r\n            const text = ((_a = linkLabelDatum.text) === null || _a === void 0 ? void 0 : _a.toString()) || '';\r\n            const shouldRenderUseElement = isInternalHref(text);\r\n            const fontSizePx = (_b = toPx(linkLabelDatum.fontSize)) !== null && _b !== void 0 ? _b : getCSSVariableValueInPixels('var(--vis-graph-link-label-font-size)', linkGroup.node());\r\n            const shouldBeRenderedAsCircle = text.length <= 2 || shouldRenderUseElement;\r\n            const paddingVertical = 4;\r\n            const paddingHorizontal = shouldBeRenderedAsCircle ? paddingVertical : 8;\r\n            const estimatedWidthPx = estimateStringPixelLength(text, fontSizePx);\r\n            return Object.assign(Object.assign({}, linkLabelDatum), { _shouldRenderUseElement: shouldRenderUseElement, _fontSizePx: fontSizePx, _shouldBeRenderedAsCircle: shouldBeRenderedAsCircle, _paddingVertical: paddingVertical, _paddingHorizontal: paddingHorizontal, _estimatedWidthPx: estimatedWidthPx, _borderRadius: (_c = linkLabelDatum.radius) !== null && _c !== void 0 ? _c : (shouldBeRenderedAsCircle ? fontSizePx : 4), _backgroundWidth: (shouldBeRenderedAsCircle ? fontSizePx : estimatedWidthPx) + paddingHorizontal * 2, _backgroundHeight: fontSizePx + paddingVertical * 2 });\r\n        });\r\n        const linkLabelGroups = linkGroup\r\n            .selectAll(`.${linkLabelGroup}`)\r\n            .data(linkLabelsDataPrepared, (d) => d.text);\r\n        const linkLabelGroupsEnter = linkLabelGroups.enter().append('g').attr('class', linkLabelGroup);\r\n        linkLabelGroupsEnter.each((linkLabelDatum, i, elements) => {\r\n            var _a;\r\n            const linkLabelGroup = select(elements[i]);\r\n            linkLabelGroup.append('rect').attr('class', linkLabelBackground);\r\n            const linkLabelText = linkLabelDatum ? (_a = linkLabelDatum.text) === null || _a === void 0 ? void 0 : _a.toString() : undefined;\r\n            const shouldRenderUseElement = isInternalHref(linkLabelText);\r\n            linkLabelGroup.select(`.${linkLabelContent}`).remove();\r\n            linkLabelGroup\r\n                .append(shouldRenderUseElement ? 'use' : 'text')\r\n                .attr('class', linkLabelContent);\r\n        });\r\n        linkLabelGroupsEnter.style('opacity', 0);\r\n        const linkLabelGroupsMerged = linkLabelGroups.merge(linkLabelGroupsEnter);\r\n        const linkLabelMargin = 1;\r\n        let linkLabelShiftCumulative = -sum(linkLabelsDataPrepared, d => d._backgroundWidth + linkLabelMargin) / 2; // Centering the labels\r\n        const cachedLinkPathLength = linkPathLengthMap.get(linkPathElement.getAttribute('d'));\r\n        const pathLength = cachedLinkPathLength !== null && cachedLinkPathLength !== void 0 ? cachedLinkPathLength : linkPathElement.getTotalLength();\r\n        const linkArrowStyle = getLinkArrowStyle(d, config);\r\n        linkLabelGroupsMerged.each((linkLabelDatum, i, elements) => {\r\n            var _a, _b;\r\n            const element = elements[i];\r\n            const linkLabelGroup = select(element);\r\n            const linkLabelText = (_a = linkLabelDatum.text) === null || _a === void 0 ? void 0 : _a.toString();\r\n            const linkLabelContent$1 = linkLabelGroup.select(`.${linkLabelContent}`);\r\n            const linkMarkerWidth = linkArrowStyle ? LINK_MARKER_WIDTH * 2 : 0;\r\n            const linkLabelShift = getBoolean(d, linkLabelShiftFromCenter, d._indexGlobal) ? -linkMarkerWidth + 4 : 0;\r\n            const linkLabelPos = linkPathElement.getPointAtLength(pathLength / 2 + linkLabelShift + linkLabelShiftCumulative + linkLabelDatum._backgroundWidth / 2);\r\n            const linkLabelTranslate = `translate(${linkLabelPos.x}, ${linkLabelPos.y})`;\r\n            const linkLabelBackground$1 = linkLabelGroup.select(`.${linkLabelBackground}`);\r\n            // If the label was not displayed before, we set the initial transform\r\n            if (!linkLabelGroup.attr('transform')) {\r\n                linkLabelGroup.attr('transform', `${linkLabelTranslate} scale(0)`);\r\n            }\r\n            const linkLabelColor = (_b = linkLabelDatum.textColor) !== null && _b !== void 0 ? _b : getLinkLabelTextColor(linkLabelDatum);\r\n            if (linkLabelDatum._shouldRenderUseElement) {\r\n                linkLabelContent$1\r\n                    .attr('href', linkLabelText)\r\n                    .attr('x', -linkLabelDatum._fontSizePx / 2)\r\n                    .attr('y', -linkLabelDatum._fontSizePx / 2)\r\n                    .attr('width', linkLabelDatum._fontSizePx)\r\n                    .attr('height', linkLabelDatum._fontSizePx)\r\n                    .style('fill', linkLabelColor);\r\n            }\r\n            else {\r\n                linkLabelContent$1\r\n                    .text(linkLabelText)\r\n                    .attr('dy', '0.1em')\r\n                    .style('font-size', linkLabelDatum._fontSizePx)\r\n                    .style('fill', linkLabelColor);\r\n            }\r\n            linkLabelGroup.attr('hidden', null)\r\n                .style('cursor', linkLabelDatum.cursor);\r\n            smartTransition(linkLabelGroup, duration)\r\n                .attr('transform', `${linkLabelTranslate} scale(1)`)\r\n                .style('opacity', 1);\r\n            linkLabelBackground$1\r\n                .attr('x', -linkLabelDatum._backgroundWidth / 2)\r\n                .attr('y', -linkLabelDatum._backgroundHeight / 2)\r\n                .attr('width', linkLabelDatum._backgroundWidth)\r\n                .attr('height', linkLabelDatum._backgroundHeight)\r\n                .attr('rx', linkLabelDatum._borderRadius)\r\n                .style('fill', linkLabelDatum.color);\r\n            linkLabelShiftCumulative += linkLabelDatum._backgroundWidth + linkLabelMargin;\r\n        });\r\n        smartTransition(linkLabelGroups.exit(), duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n    });\r\n    // Pointer Events\r\n    if (duration > 0) {\r\n        selection.attr('pointer-events', 'none');\r\n        const t = smartTransition(selection, duration);\r\n        t\r\n            .attr('opacity', 1)\r\n            .on('end interrupt', (d, i, elements) => {\r\n            select(elements[i])\r\n                .attr('pointer-events', 'stroke')\r\n                .attr('opacity', 1);\r\n        });\r\n    }\r\n    else {\r\n        selection.attr('opacity', 1);\r\n    }\r\n    updateLinksPartial(selection, config, scale);\r\n}\r\nfunction removeLinks(selection, config, duration) {\r\n    smartTransition(selection, duration / 2)\r\n        .attr('opacity', 0)\r\n        .remove();\r\n}\r\nfunction animateLinkFlow(selection, config, scale, linkPathLengthMap) {\r\n    const { linkFlow } = config;\r\n    if (scale < ZoomLevel.Level2)\r\n        return;\r\n    selection.each((d, i, elements) => {\r\n        const element = elements[i];\r\n        const linkGroup = select(element);\r\n        const flowGroup$1 = linkGroup.select(`.${flowGroup}`);\r\n        const linkPathElement = linkGroup.select(`.${link}`).node();\r\n        const cachedLinkPathLength = linkPathLengthMap.get(linkPathElement.getAttribute('d'));\r\n        const pathLength = cachedLinkPathLength !== null && cachedLinkPathLength !== void 0 ? cachedLinkPathLength : linkPathElement.getTotalLength();\r\n        if (!getBoolean(d, linkFlow, d._indexGlobal) || !pathLength)\r\n            return;\r\n        const t = d._state.flowAnimDistanceRelative;\r\n        const circles = flowGroup$1.selectAll(`.${flowCircle}`);\r\n        circles\r\n            .attr('transform', index => {\r\n            const tt = (t + (+index) / (circles.size() - 1)) % 1;\r\n            const p = linkPathElement.getPointAtLength(tt * pathLength);\r\n            return `translate(${p.x}, ${p.y})`;\r\n        });\r\n    });\r\n}\r\nfunction zoomLinks(selection, config, scale) {\r\n    selection.classed(zoomOutLevel2, scale < ZoomLevel.Level2);\r\n    selection.select(`.${flowGroup}`)\r\n        .style('opacity', scale < ZoomLevel.Level2 ? 0 : 1);\r\n    selection.each((l, i, els) => {\r\n        const r = getNumber(l, config.linkFlowParticleSize, l._indexGlobal) / Math.sqrt(scale);\r\n        select(els[i]).selectAll(`.${flowCircle}`).attr('r', r);\r\n    });\r\n    const linkElements = selection.selectAll(`.${link}`);\r\n    linkElements\r\n        .style('stroke-width', d => getLinkStrokeWidth(d, scale, config));\r\n    const linkBandElements = selection.selectAll(`.${linkBand}`);\r\n    linkBandElements\r\n        .style('stroke-width', d => getLinkBandWidth(d, scale, config));\r\n}\r\nconst zoomLinksThrottled = throttle(zoomLinks, 500);\n\nexport { animateLinkFlow, createLinks, removeLinks, updateLinkLines, updateLinks, updateLinksPartial, zoomLinks, zoomLinksThrottled };\n\n", "import { getNumber, getValue } from '../../../../utils/data.js';\nimport { getColor, hexToBrightness } from '../../../../utils/color.js';\nimport { color } from 'd3-color';\nimport { GraphLinkArrowStyle } from '../../types.js';\nimport { getY, getX } from '../node/helper.js';\n\n// Utils\r\nconst getPolylineData = (d) => `${d.x1},${d.y1} ${(d.x1 + d.x2) / 2},${(d.y1 + d.y2) / 2} ${d.x2},${d.y2}`;\r\nconst LINK_MARKER_WIDTH = 9;\r\nconst LINK_MARKER_HEIGHT = 7;\r\nfunction getLinkShift(link, spacing) {\r\n    const sourceNode = link.source;\r\n    const targetNode = link.target;\r\n    const angle = Math.atan2(getY(targetNode) - getY(sourceNode), getX(targetNode) - getX(sourceNode)) - Math.PI / 2;\r\n    const dx = Math.cos(angle) * spacing * link._direction * (link._index - (link._neighbours - 1) / 2);\r\n    const dy = Math.sin(angle) * spacing * link._direction * (link._index - (link._neighbours - 1) / 2);\r\n    return { dx, dy };\r\n}\r\nfunction getLinkShiftTransform(link, spacing) {\r\n    const { dx, dy } = getLinkShift(link, spacing);\r\n    return `translate(${dx}, ${dy})`;\r\n}\r\nfunction getLinkStrokeWidth(d, scale, config) {\r\n    const m = getNumber(d, config.linkWidth, d._indexGlobal);\r\n    return m / Math.pow(scale, 0.5);\r\n}\r\nfunction getLinkBandWidth(d, scale, config) {\r\n    const { nodeSize, linkBandWidth } = config;\r\n    const sourceNodeSize = getNumber(d.source, nodeSize, d.source._index);\r\n    const targetNodeSize = getNumber(d.target, nodeSize, d.target._index);\r\n    const minNodeSize = Math.min(sourceNodeSize, targetNodeSize);\r\n    return Math.min(minNodeSize, getNumber(d, linkBandWidth, d._indexGlobal) / Math.pow(scale || 1, 0.5)) || 0;\r\n}\r\nfunction getLinkColor(link, config) {\r\n    var _a;\r\n    const { linkStroke } = config;\r\n    const c = (_a = getColor(link, linkStroke, link._indexGlobal, true)) !== null && _a !== void 0 ? _a : 'var(--vis-graph-link-stroke-color)';\r\n    return c || null;\r\n}\r\nfunction getLinkArrowStyle(d, config) {\r\n    const linkArrowValue = getValue(d, config.linkArrow, d._indexGlobal);\r\n    if (!linkArrowValue)\r\n        return undefined;\r\n    else if (linkArrowValue === GraphLinkArrowStyle.Double)\r\n        return linkArrowValue;\r\n    else\r\n        return GraphLinkArrowStyle.Single;\r\n}\r\nfunction getArrowPath() {\r\n    return `M${-LINK_MARKER_WIDTH / 2},${-LINK_MARKER_HEIGHT / 2} V${LINK_MARKER_HEIGHT / 2} L${LINK_MARKER_WIDTH / 2},0 Z`;\r\n}\r\nfunction getDoubleArrowPath() {\r\n    return `M${-LINK_MARKER_WIDTH / 2},0 L${LINK_MARKER_WIDTH / 2},${-LINK_MARKER_HEIGHT / 2} L${LINK_MARKER_WIDTH * 1.5},0 L${LINK_MARKER_WIDTH / 2},${LINK_MARKER_HEIGHT / 2} Z`;\r\n}\r\nfunction getLinkLabelTextColor(label) {\r\n    if (!label.color)\r\n        return null;\r\n    const hex = color(label.color).hex();\r\n    const brightness = hexToBrightness(hex);\r\n    return brightness > 0.65 ? 'var(--vis-graph-link-label-text-color-dark)' : 'var(--vis-graph-link-label-text-color-bright)';\r\n}\n\nexport { LINK_MARKER_HEIGHT, LINK_MARKER_WIDTH, getArrowPath, getDoubleArrowPath, getLinkArrowStyle, getLinkBandWidth, getLinkColor, getLinkLabelTextColor, getLinkShift, getLinkShiftTransform, getLinkStrokeWidth, getPolylineData };\n\n", "import { Position } from '../../../../types/position.js';\nimport { isPlainObject, getBoolean } from '../../../../utils/data.js';\nimport { getNodeSize, getX, getY } from '../node/helper.js';\nimport { node } from '../node/style.js';\n\nconst DEFAULT_PADDING = 15;\r\nconst DEFAULT_LABEL_MARGIN = 16;\r\nconst OUTLINE_SELECTION_PADDING = 5;\r\nconst DEFAULT_SIDE_LABEL_SIZE = 25;\r\nfunction getPanelPadding(padding) {\r\n    var _a, _b, _c, _d;\r\n    const isPaddingAnObject = isPlainObject(padding);\r\n    return {\r\n        left: (_a = (isPaddingAnObject ? padding.left : padding)) !== null && _a !== void 0 ? _a : DEFAULT_PADDING,\r\n        right: (_b = (isPaddingAnObject ? padding.right : padding)) !== null && _b !== void 0 ? _b : DEFAULT_PADDING,\r\n        top: (_c = (isPaddingAnObject ? padding.top : padding)) !== null && _c !== void 0 ? _c : DEFAULT_PADDING,\r\n        bottom: (_d = (isPaddingAnObject ? padding.bottom : padding)) !== null && _d !== void 0 ? _d : DEFAULT_PADDING,\r\n    };\r\n}\r\nfunction initPanels(panelsConfig) {\r\n    const panels = (panelsConfig !== null && panelsConfig !== void 0 ? panelsConfig : []).map(p => (Object.assign(Object.assign({}, p), { _padding: getPanelPadding(p.padding) })));\r\n    return panels;\r\n}\r\nfunction setPanelForNodes(panels, nodes, config) {\r\n    if (!panels)\r\n        return;\r\n    // For each node store its related panels\r\n    nodes.forEach(node => {\r\n        // Find all panels to which node belong\r\n        const nodePanels = panels.filter(panel => panel.nodes && panel.nodes.includes(node._id));\r\n        node._panels = nodePanels;\r\n    });\r\n}\r\nfunction setPanelBBox(panelConfig, panelNodes, nodeSizeAccessor, nodeDisabledAccessor) {\r\n    const selection = panelNodes.select(`.${node}`);\r\n    if (selection.empty())\r\n        return;\r\n    const labelApprxHeight = 40;\r\n    const labelApprxWidth = 110;\r\n    const labelMargin = 10;\r\n    let box;\r\n    selection.each((d, i) => {\r\n        const nodeSize = getNodeSize(d, nodeSizeAccessor, i);\r\n        const w = Math.max(nodeSize, labelApprxWidth);\r\n        const h = nodeSize + labelMargin + labelApprxHeight;\r\n        // const nodeBBox = node.getBBox()\r\n        const yShift = 10; // This is hard to calculate, so we just use an approximation\r\n        const coords = {\r\n            x1: getX(d) - w / 2,\r\n            y1: getY(d) - h / 2 + yShift,\r\n            x2: getX(d) + w / 2,\r\n            y2: getY(d) + h / 2 + yShift,\r\n        };\r\n        if (!box) {\r\n            box = Object.assign({}, coords);\r\n        }\r\n        else {\r\n            if (box.x1 > coords.x1)\r\n                box.x1 = coords.x1;\r\n            if (box.y1 > coords.y1)\r\n                box.y1 = coords.y1;\r\n            if (box.x2 < coords.x2)\r\n                box.x2 = coords.x2;\r\n            if (box.y2 < coords.y2)\r\n                box.y2 = coords.y2;\r\n        }\r\n    });\r\n    panelConfig._x = box.x1 - panelConfig._padding.left;\r\n    panelConfig._y = box.y1 - panelConfig._padding.top;\r\n    panelConfig._width = box.x2 - box.x1 + panelConfig._padding.left + panelConfig._padding.right;\r\n    panelConfig._height = box.y2 - box.y1 + panelConfig._padding.top + panelConfig._padding.bottom;\r\n    panelConfig._disabled = selection.data()\r\n        .map((node, i) => getBoolean(node, nodeDisabledAccessor, node._index) || node._state.greyout)\r\n        .every(d => d);\r\n}\r\nfunction setPanelNumNodes(panelConfig, panelNodes) {\r\n    panelConfig._numNodes = panelNodes.size();\r\n}\r\nfunction updatePanelBBoxSize(nodesSelection, panels, config) {\r\n    const { layoutNonConnectedAside } = config;\r\n    if (!panels)\r\n        return;\r\n    panels.forEach(panelConfig => {\r\n        const panelNodes = nodesSelection.filter(node => {\r\n            return (!layoutNonConnectedAside || node._isConnected) && panelConfig.nodes.includes(node._id);\r\n        });\r\n        setPanelBBox(panelConfig, panelNodes, config.nodeSize, config.nodeDisabled);\r\n    });\r\n}\r\nfunction updatePanelNumNodes(nodesSelection, panels, config) {\r\n    const { layoutNonConnectedAside } = config;\r\n    if (!panels)\r\n        return;\r\n    panels.forEach(panelConfig => {\r\n        const panelNodes = nodesSelection.filter(node => {\r\n            return (!layoutNonConnectedAside || node._isConnected) && panelConfig.nodes.includes(node._id);\r\n        });\r\n        setPanelNumNodes(panelConfig, panelNodes);\r\n    });\r\n}\r\nfunction getLabelTranslateTransform(panel) {\r\n    const x = panel._width / 2;\r\n    const dy = DEFAULT_LABEL_MARGIN + (panel.dashedOutline ? OUTLINE_SELECTION_PADDING : 0);\r\n    const y = panel.labelPosition === Position.Bottom\r\n        ? panel._height + dy\r\n        : -dy;\r\n    return `translate(${x}, ${y})`;\r\n}\n\nexport { DEFAULT_LABEL_MARGIN, DEFAULT_PADDING, DEFAULT_SIDE_LABEL_SIZE, OUTLINE_SELECTION_PADDING, getLabelTranslateTransform, getPanelPadding, initPanels, setPanelBBox, setPanelForNodes, setPanelNumNodes, updatePanelBBoxSize, updatePanelNumNodes };\n\n", "import { select } from 'd3-selection';\nimport { trimString } from '../../../../utils/text.js';\nimport { smartTransition } from '../../../../utils/d3.js';\nimport { setLabelRect } from '../node/helper.js';\nimport { getLabelTranslateTransform, OUTLINE_SELECTION_PADDING, DEFAULT_SIDE_LABEL_SIZE } from './helper.js';\nimport { panelSelection, panel, label, background, labelText, sideIconGroup, sideIconShape, customSideIcon, sideIconSymbol, panelSelectionActive } from './style.js';\nimport { appendShape, updateShape } from '../shape.js';\n\nfunction createPanels(selection) {\r\n    selection\r\n        .attr('transform', d => `translate(${d._x}, ${d._y})`)\r\n        .style('opacity', 0);\r\n    selection.append('rect').attr('class', panelSelection)\r\n        .attr('rx', 9)\r\n        .attr('ry', 9)\r\n        .attr('width', d => d._width)\r\n        .attr('height', d => d._height);\r\n    selection.append('rect').attr('class', panel)\r\n        .attr('rx', 7)\r\n        .attr('ry', 7)\r\n        .attr('width', d => d._width)\r\n        .attr('height', d => d._height);\r\n    const panelLabel = selection.append('g').attr('class', label)\r\n        .attr('transform', getLabelTranslateTransform);\r\n    panelLabel.append('rect').attr('class', background);\r\n    panelLabel.append('text').attr('class', labelText)\r\n        .attr('dy', '0.32em');\r\n    const sideIcon = selection.append('g')\r\n        .attr('class', sideIconGroup)\r\n        .attr('transform', (d, i, elements) => {\r\n        const dx = -OUTLINE_SELECTION_PADDING;\r\n        const dy = -OUTLINE_SELECTION_PADDING;\r\n        return `translate(${d._width + dx}, ${-dy})`;\r\n    });\r\n    appendShape(sideIcon, (d) => d.sideIconShape, sideIconShape, customSideIcon);\r\n    sideIcon.append('text').attr('class', sideIconSymbol);\r\n}\r\nfunction updatePanels(selection, config, duration) {\r\n    smartTransition(selection, duration)\r\n        .attr('transform', d => `translate(${d._x}, ${d._y})`)\r\n        .style('opacity', d => d._disabled ? 0.4 : 1);\r\n    const panels = selection.selectAll(`.${panel}`).data(d => [d]);\r\n    smartTransition(panels, duration)\r\n        .attr('width', d => d._width)\r\n        .attr('height', d => d._height)\r\n        .style('stroke', d => d.borderColor)\r\n        .style('fill', d => d.fillColor)\r\n        .style('stroke-width', d => d.borderWidth);\r\n    const panelSelection$1 = selection.select(`.${panelSelection}`)\r\n        .classed(panelSelectionActive, d => d.dashedOutline);\r\n    smartTransition(panelSelection$1, duration)\r\n        .attr('x', d => -OUTLINE_SELECTION_PADDING)\r\n        .attr('y', d => -OUTLINE_SELECTION_PADDING)\r\n        .attr('width', d => d._width + OUTLINE_SELECTION_PADDING * 2)\r\n        .attr('height', d => d._height + OUTLINE_SELECTION_PADDING * 2);\r\n    const sideIcon = selection.select(`.${sideIconGroup}`);\r\n    sideIcon.select(`.${sideIconShape}`)\r\n        .call(updateShape, (d) => d.sideIconShape, (d) => { var _a; return (_a = d.sideIconShapeSize) !== null && _a !== void 0 ? _a : DEFAULT_SIDE_LABEL_SIZE; })\r\n        .style('stroke', d => d.sideIconShapeStroke)\r\n        .style('cursor', d => { var _a; return (_a = d.sideIconCursor) !== null && _a !== void 0 ? _a : null; })\r\n        .style('opacity', d => d.sideIconShape ? 1 : 0);\r\n    sideIcon.select(`.${sideIconSymbol}`)\r\n        .html(d => d.sideIconSymbol)\r\n        .attr('dy', 1)\r\n        .style('fill', d => d.sideIconSymbolColor)\r\n        .style('font-size', d => { var _a, _b; return (_a = d.sideIconFontSize) !== null && _a !== void 0 ? _a : (((_b = d.sideIconShapeSize) !== null && _b !== void 0 ? _b : DEFAULT_SIDE_LABEL_SIZE) / 2.5); });\r\n    smartTransition(sideIcon, duration)\r\n        .attr('transform', d => {\r\n        const dx = -OUTLINE_SELECTION_PADDING;\r\n        const dy = -OUTLINE_SELECTION_PADDING;\r\n        return `translate(${d._width + dx}, ${-dy})`;\r\n    });\r\n    const panelLabel = selection.select(`.${label}`);\r\n    panelLabel.select(`.${labelText}`)\r\n        .text(d => trimString(d.label, d.labelTrimLength, d.labelTrimMode));\r\n    smartTransition(panelLabel, duration)\r\n        .attr('transform', getLabelTranslateTransform);\r\n    panelLabel\r\n        .on('mouseover', (event, d) => {\r\n        const label = select(event.currentTarget);\r\n        const labelContent = d.label;\r\n        label.select('text').text(labelContent);\r\n        setLabelRect(label, labelContent, labelText);\r\n    })\r\n        .on('mouseleave', (event, d) => {\r\n        const label = select(event.currentTarget);\r\n        const labelContent = trimString(d.label, d.labelTrimLength, d.labelTrimMode);\r\n        label.select('text').text(labelContent);\r\n        setLabelRect(label, labelContent, labelText);\r\n    });\r\n}\r\nfunction removePanels(selection, config, duration) {\r\n    smartTransition(selection, duration / 2)\r\n        .style('opacity', 0)\r\n        .remove();\r\n}\n\nexport { createPanels, removePanels, updatePanels };\n\n", "import { isPlainObject, merge, getValue } from '../../../utils/data.js';\n\n// Utils\r\nconst DEFAULT_ELK_SETTINGS = {\r\n    hierarchyHandling: 'INCLUDE_CHILDREN',\r\n    'nodePlacement.strategy': 'NETWORK_SIMPLEX',\r\n    'elk.padding': '[top=15.0,left=15.0,bottom=15.0,right=15.0]',\r\n    'spacing.nodeNodeBetweenLayers': '50',\r\n    'spacing.edgeNodeBetweenLayers': '50',\r\n    'spacing.nodeNode': '10',\r\n};\r\nfunction positionNonConnectedNodes(nodes, y, spacing, width, xStart = 0) {\r\n    nodes.forEach((d, i) => {\r\n        const x = spacing / 2 + i * spacing;\r\n        const rowIdx = width ? Math.floor(x / width) : 0;\r\n        d.y = (y + rowIdx * spacing) || 0;\r\n        d.x = width ? x % width + xStart : x + xStart;\r\n    });\r\n}\r\nfunction toElkHierarchy(d, layoutOptions) {\r\n    if (!(d instanceof Map))\r\n        return d;\r\n    const hierarchyNode = Array.from(d.entries()).map(([key, value]) => {\r\n        const children = toElkHierarchy(value, layoutOptions);\r\n        if (key) {\r\n            const layoutOps = isPlainObject(layoutOptions) ? merge(DEFAULT_ELK_SETTINGS, layoutOptions) : merge(DEFAULT_ELK_SETTINGS, getValue(key, layoutOptions));\r\n            return {\r\n                id: key,\r\n                layoutOptions: layoutOps,\r\n                children,\r\n            };\r\n        }\r\n        else {\r\n            return children;\r\n        }\r\n    }).flat();\r\n    return hierarchyNode;\r\n}\r\nfunction adjustElkHierarchyCoordinates(node) {\r\n    var _a, _b;\r\n    const parentX = node.x;\r\n    const parentY = node.y;\r\n    (_a = node.edges) === null || _a === void 0 ? void 0 : _a.forEach(edge => {\r\n        var _a, _b;\r\n        (_a = edge.sections) === null || _a === void 0 ? void 0 : _a.forEach(section => {\r\n            var _a;\r\n            section.startPoint.x += parentX;\r\n            section.startPoint.y += parentY;\r\n            section.endPoint.x += parentX;\r\n            section.endPoint.y += parentY;\r\n            (_a = section.bendPoints) === null || _a === void 0 ? void 0 : _a.forEach(bendPoint => {\r\n                bendPoint.x += parentX;\r\n                bendPoint.y += parentY;\r\n            });\r\n        });\r\n        (_b = edge.labels) === null || _b === void 0 ? void 0 : _b.forEach(label => {\r\n            label.x += parentX;\r\n            label.y += parentY;\r\n        });\r\n    });\r\n    (_b = node.children) === null || _b === void 0 ? void 0 : _b.forEach(child => {\r\n        child.x += parentX;\r\n        child.y += parentY;\r\n        adjustElkHierarchyCoordinates(child);\r\n    });\r\n}\n\nexport { DEFAULT_ELK_SETTINGS, adjustElkHierarchyCoordinates, positionNonConnectedNodes, toElkHierarchy };\n\n", "import { __awaiter } from 'tslib';\nimport { max, min, group } from 'd3-array';\nimport { unique, getString, sortBy, groupBy, without, isArray, clamp, getNumber, isNil, isFunction, merge, getValue } from '../../../utils/data.js';\nimport { getMaxNodeSize, configuredNodeSize, getAverageNodeSize, getNodeSize } from './node/helper.js';\nimport { positionNonConnectedNodes, toElkHierarchy, DEFAULT_ELK_SETTINGS, adjustElkHierarchyCoordinates } from './layout-helpers.js';\n\nfunction applyLayoutCircular(datamodel, config, width, height) {\r\n    const { nonConnectedNodes, connectedNodes, nodes } = datamodel;\r\n    const { layoutNonConnectedAside, nodeSize } = config;\r\n    const activeWidth = width;\r\n    const activeHeight = height;\r\n    // Handle layout nodes\r\n    const layoutNodes = layoutNonConnectedAside ? connectedNodes : nodes;\r\n    const maxNodeSize = getMaxNodeSize(layoutNodes, nodeSize);\r\n    const yRatio = activeHeight / maxNodeSize;\r\n    const yScaling = yRatio < layoutNodes.length / 2 ? layoutNodes.length / 2 / yRatio : 1;\r\n    const xRatio = activeWidth / maxNodeSize;\r\n    const xScaling = xRatio < layoutNodes.length / 2 ? layoutNodes.length / 2 / xRatio : 1;\r\n    const scaling = Math.max(xScaling, yScaling);\r\n    layoutNodes.forEach((d, i) => {\r\n        const rX = scaling * activeWidth / 2;\r\n        const rY = scaling * activeHeight / 2; // maxNodeSize * layoutNodes.length / 4\r\n        const angle = 2 * i * Math.PI / layoutNodes.length;\r\n        d.x = activeWidth / 2 + rX * Math.cos(angle);\r\n        d.y = activeHeight / 2 + rY * Math.sin(angle);\r\n    });\r\n    // Handle non-connected nodes\r\n    if (layoutNonConnectedAside) {\r\n        const maxSize = getMaxNodeSize(nonConnectedNodes, nodeSize);\r\n        const maxY = max(connectedNodes.map(d => d.y));\r\n        const maxX = max(connectedNodes.map(d => d.x));\r\n        const minX = min(connectedNodes.map(d => d.x));\r\n        const graphWidth = maxX - minX;\r\n        positionNonConnectedNodes(nonConnectedNodes, maxY + maxSize * 3, maxSize * 2.25, Math.max(graphWidth, width), minX);\r\n    }\r\n}\r\nfunction applyLayoutParallel(datamodel, config, width, height, orientation) {\r\n    var _a, _b, _c, _d;\r\n    const { nonConnectedNodes, connectedNodes, nodes } = datamodel;\r\n    const { layoutNonConnectedAside, layoutGroupOrder, layoutParallelSortConnectionsByGroup, layoutParallelNodesPerColumn, layoutParallelSubGroupsPerRow, nodeSize, layoutNodeGroup, layoutParallelNodeSubGroup, layoutParallelGroupSpacing, layoutParallelNodeSpacing, layoutParallelSubGroupSpacing, } = config;\r\n    const activeWidth = width - configuredNodeSize(nodeSize);\r\n    const activeHeight = height - configuredNodeSize(nodeSize) - (nonConnectedNodes.length ? configuredNodeSize(nodeSize) * 5 : 0);\r\n    // Handle connected nodes\r\n    const layoutNodes = layoutNonConnectedAside ? connectedNodes : nodes;\r\n    const groupNames = unique(layoutNodes.map(d => getString(d, layoutNodeGroup, d._index)));\r\n    const groupNamesSorted = sortBy(groupNames, d => layoutGroupOrder.indexOf(d));\r\n    const groups = groupNamesSorted.map(groupName => {\r\n        const groupNodes = layoutNodes.filter(d => getString(d, layoutNodeGroup, d._index) === groupName);\r\n        const groupedBySubgroup = groupBy(groupNodes, d => getString(d, layoutParallelNodeSubGroup, d._index));\r\n        const subgroups = Object.keys(groupedBySubgroup).map(name => ({\r\n            nodes: groupedBySubgroup[name],\r\n            name,\r\n        }));\r\n        return {\r\n            name: groupName,\r\n            nodes: groupNodes,\r\n            subgroups,\r\n        };\r\n    });\r\n    // Sort\r\n    const group = groups.find(g => g.name === layoutParallelSortConnectionsByGroup);\r\n    if (group) {\r\n        const sortMap = {};\r\n        let idx = 0;\r\n        group.subgroups.forEach(subgroup => {\r\n            subgroup.nodes.forEach(node => {\r\n                node.links.forEach(link => {\r\n                    const linkTargetId = link === null || link === void 0 ? void 0 : link.target._id;\r\n                    sortMap[linkTargetId] = idx;\r\n                    idx = idx + 1;\r\n                });\r\n            });\r\n        });\r\n        without(groups, group).forEach(g => {\r\n            g.subgroups.forEach(subgroup => {\r\n                subgroup.nodes.sort((a, b) => {\r\n                    return (sortMap[a._id] || 0) - (sortMap[b._id] || 0);\r\n                });\r\n            });\r\n        });\r\n    }\r\n    const maxN = max(groups, d => { var _a; return (_a = d.nodes) === null || _a === void 0 ? void 0 : _a.length; });\r\n    const labelApprxHeight = 40;\r\n    const labelMargin = 10;\r\n    const subgroupSpacing = layoutParallelSubGroupSpacing !== null && layoutParallelSubGroupSpacing !== void 0 ? layoutParallelSubGroupSpacing : 0;\r\n    const maxNodeSize = getMaxNodeSize(layoutNodes, nodeSize);\r\n    const configuredNodeSpacing = isArray(layoutParallelNodeSpacing) ? layoutParallelNodeSpacing : [layoutParallelNodeSpacing, layoutParallelNodeSpacing];\r\n    if (orientation === 'horizontal') {\r\n        const minHorizontalSpacing = 2 * maxNodeSize + labelMargin;\r\n        const maxHorizontalSpacing = 3.5 * maxNodeSize + labelMargin;\r\n        const horizontalNodeSpacing = (_a = configuredNodeSpacing[0]) !== null && _a !== void 0 ? _a : clamp(activeWidth / (maxN - 1), minHorizontalSpacing, maxHorizontalSpacing);\r\n        const maxVerticalStep = maxNodeSize * 4 + labelApprxHeight;\r\n        const minVerticalStep = maxNodeSize * 1.5 + labelApprxHeight;\r\n        const groupSpacing = layoutParallelGroupSpacing !== null && layoutParallelGroupSpacing !== void 0 ? layoutParallelGroupSpacing : clamp(activeHeight / (groups.length - 1), minVerticalStep, maxVerticalStep);\r\n        const verticalNodeSpacing = (_b = configuredNodeSpacing[1]) !== null && _b !== void 0 ? _b : maxNodeSize + labelApprxHeight + labelMargin;\r\n        let y0 = (groups.length < 2) ? height / 2 : 0;\r\n        groups.forEach(group => {\r\n            let x0 = 0;\r\n            let dy = 0;\r\n            let subgroupMaxWidth = 0;\r\n            let groupWidth = 0;\r\n            let groupHeight = 0;\r\n            let k = 0;\r\n            group.subgroups.forEach(subgroup => {\r\n                const subgroupRows = Math.ceil(subgroup.nodes.length / layoutParallelNodesPerColumn);\r\n                let n = 0;\r\n                let x = x0;\r\n                let y = y0 + dy;\r\n                subgroup.nodes.forEach(d => {\r\n                    x = x + horizontalNodeSpacing;\r\n                    d.x = x;\r\n                    d.y = y;\r\n                    groupWidth = Math.max(groupWidth, x);\r\n                    n = n + 1;\r\n                    if (n >= layoutParallelNodesPerColumn) {\r\n                        n = 0;\r\n                        y += verticalNodeSpacing;\r\n                        x = x0;\r\n                    }\r\n                });\r\n                const subgroupWidth = Math.min(subgroup.nodes.length, layoutParallelNodesPerColumn) * horizontalNodeSpacing;\r\n                const subgroupHeight = subgroupRows * verticalNodeSpacing;\r\n                subgroupMaxWidth = Math.max(subgroupMaxWidth, subgroupWidth);\r\n                dy = dy + subgroupHeight + subgroupSpacing;\r\n                k = k + 1;\r\n                if (k >= layoutParallelSubGroupsPerRow) {\r\n                    k = 0;\r\n                    dy = 0;\r\n                    x0 = x0 + subgroupMaxWidth + subgroupSpacing;\r\n                    subgroupMaxWidth = 0;\r\n                }\r\n                groupHeight = Math.max(groupHeight, y);\r\n                // x0 += Math.min(subgroup.nodes.length, layoutParallelNodesPerColumn) * horizontalStep + subgroupMargin\r\n            });\r\n            // Center group horizontally\r\n            group.subgroups.forEach(subgroup => {\r\n                subgroup.nodes.forEach(d => {\r\n                    d.x -= groupWidth / 2;\r\n                });\r\n            });\r\n            groupWidth = 0;\r\n            // Update y0 for the next group\r\n            y0 = groupHeight + groupSpacing;\r\n        });\r\n    }\r\n    else {\r\n        const groupSpacingMin = 6 * maxNodeSize + labelMargin;\r\n        const groupSpacingMax = 10 * maxNodeSize + labelMargin;\r\n        const groupSpacing = (layoutParallelGroupSpacing !== null && layoutParallelGroupSpacing !== void 0 ? layoutParallelGroupSpacing : clamp(activeWidth / (maxN - 1), groupSpacingMin, groupSpacingMax));\r\n        const minVerticalSpacing = maxNodeSize * 2.0 + labelApprxHeight;\r\n        const maxVerticalSpacing = maxNodeSize * 1.5 + labelApprxHeight;\r\n        const verticalNodeSpacing = (_c = configuredNodeSpacing[1]) !== null && _c !== void 0 ? _c : clamp(activeHeight / (groups.length - 1), maxVerticalSpacing, minVerticalSpacing);\r\n        const horizontalNodeSpacing = (_d = configuredNodeSpacing[0]) !== null && _d !== void 0 ? _d : maxNodeSize * 2.0;\r\n        let x0 = (groups.length < 2) ? width / 2 : 0;\r\n        groups.forEach(group => {\r\n            let y0 = 0;\r\n            let dx = 0; // Horizontal shift inside the group (column)\r\n            let subgroupMaxHeight = 0;\r\n            let groupWidth = 0;\r\n            let groupHeight = 0;\r\n            let k = 0;\r\n            group.subgroups.forEach(subgroup => {\r\n                const subgroupColumns = Math.ceil(subgroup.nodes.length / layoutParallelNodesPerColumn);\r\n                let n = 0;\r\n                let y = y0;\r\n                let x = x0 + dx;\r\n                subgroup.nodes.forEach(d => {\r\n                    y = y + verticalNodeSpacing;\r\n                    d.x = x;\r\n                    d.y = y;\r\n                    groupHeight = Math.max(groupHeight, y);\r\n                    n = n + 1;\r\n                    if (n >= layoutParallelNodesPerColumn) {\r\n                        n = 0;\r\n                        x += horizontalNodeSpacing;\r\n                        y = y0;\r\n                    }\r\n                });\r\n                const subgroupHeight = Math.min(subgroup.nodes.length, layoutParallelNodesPerColumn) * verticalNodeSpacing;\r\n                const subgroupWidth = subgroupColumns * horizontalNodeSpacing;\r\n                subgroupMaxHeight = Math.max(subgroupMaxHeight, subgroupHeight);\r\n                dx = dx + subgroupWidth + subgroupSpacing;\r\n                k = k + 1;\r\n                if (k >= layoutParallelSubGroupsPerRow) {\r\n                    k = 0;\r\n                    dx = 0;\r\n                    y0 = y0 + subgroupMaxHeight + subgroupSpacing;\r\n                    subgroupMaxHeight = 0;\r\n                }\r\n                groupWidth = Math.max(groupWidth, x);\r\n            });\r\n            // Center group vertically\r\n            group.subgroups.forEach(subgroup => {\r\n                subgroup.nodes.forEach(d => {\r\n                    d.y -= groupHeight / 2;\r\n                });\r\n            });\r\n            groupHeight = 0;\r\n            // Update x0 for the next group\r\n            x0 = groupWidth + groupSpacing;\r\n        });\r\n    }\r\n    // Handle non-connected nodes\r\n    if (layoutNonConnectedAside) {\r\n        const maxSize = getMaxNodeSize(nonConnectedNodes, nodeSize);\r\n        const maxY = max(connectedNodes.map(d => d.y)) || 0;\r\n        const maxX = max(connectedNodes.map(d => d.x)) || 0;\r\n        const minX = min(connectedNodes.map(d => d.x)) || 0;\r\n        const graphWidth = (maxX - minX) || width;\r\n        positionNonConnectedNodes(nonConnectedNodes, maxY + maxSize * 3, maxSize * 2.25, Math.max(graphWidth, width));\r\n    }\r\n}\r\nfunction applyLayoutDagre(datamodel, config, width) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const { nonConnectedNodes, connectedNodes, nodes, links } = datamodel;\r\n        const { nodeSize, layoutNonConnectedAside, dagreLayoutSettings, nodeStrokeWidth, nodeLabel } = config;\r\n        // eslint-disable-next-line @typescript-eslint/naming-convention,@typescript-eslint/ban-ts-comment\r\n        // @ts-ignore\r\n        // eslint-disable-next-line @typescript-eslint/naming-convention\r\n        const { Graph } = yield import('@unovis/graphlibrary');\r\n        // eslint-disable-next-line @typescript-eslint/naming-convention,@typescript-eslint/ban-ts-comment\r\n        // @ts-ignore\r\n        // eslint-disable-next-line @typescript-eslint/naming-convention\r\n        const { layout } = yield import('@unovis/dagre-layout');\r\n        // https://github.com/dagrejs/dagre/wiki\r\n        const dagreGraph = new Graph();\r\n        // Set an object for the graph label\r\n        dagreGraph.setGraph(dagreLayoutSettings);\r\n        // Default to assigning a new object as a label for each new edge.\r\n        dagreGraph.setDefaultEdgeLabel(() => ({}));\r\n        // Add nodes to the graph. The first argument is the node id. The second is\r\n        // metadata about the node. In this case we're going to add labels to each of\r\n        // our nodes.\r\n        const labelApprxHeight = 40;\r\n        const nds = (layoutNonConnectedAside ? connectedNodes : nodes);\r\n        nds.forEach(node => {\r\n            dagreGraph.setNode(`${node._index}`, {\r\n                label: getString(node, nodeLabel, node._index),\r\n                width: getNumber(node, nodeSize, node._index) * 1.5 + getNumber(node, nodeStrokeWidth, node._index),\r\n                height: labelApprxHeight + getNumber(node, nodeSize, node._index) * 1.5,\r\n                originalNode: node,\r\n            });\r\n        });\r\n        // Add edges to the graph.\r\n        links.forEach(link => {\r\n            dagreGraph.setEdge(`${link.source._index}`, `${link.target._index}`);\r\n        });\r\n        // Calculate the layout\r\n        layout(dagreGraph);\r\n        // Apply coordinates to the graph\r\n        dagreGraph.nodes().forEach(d => {\r\n            const node = dagreGraph.node(d);\r\n            node.originalNode.x = node.x; // width * d.x / dagreGraph._label.width\r\n            node.originalNode.y = node.y; // height * d.y / dagreGraph._label.height\r\n        });\r\n        // Handle non-connected nodes\r\n        if (layoutNonConnectedAside) {\r\n            const maxNodeSize = getMaxNodeSize(nonConnectedNodes, nodeSize);\r\n            const maxY = max(connectedNodes.map(d => d.y));\r\n            const maxX = max(connectedNodes.map(d => d.x));\r\n            const minX = min(connectedNodes.map(d => d.x));\r\n            const graphWidth = maxX - minX;\r\n            positionNonConnectedNodes(nonConnectedNodes, maxY + maxNodeSize * 3, maxNodeSize * 2.25, Math.max(graphWidth, width), 0);\r\n        }\r\n    });\r\n}\r\nfunction applyLayoutConcentric(datamodel, config, width, height) {\r\n    var _a, _b;\r\n    const { nonConnectedNodes, connectedNodes, nodes } = datamodel;\r\n    const { layoutNonConnectedAside, layoutGroupOrder, nodeSize, layoutNodeGroup } = config;\r\n    const layoutNodes = layoutNonConnectedAside ? connectedNodes : nodes;\r\n    const groupNames = unique(layoutNodes.map(d => getString(d, layoutNodeGroup, d._index)));\r\n    const groupNamesSorted = sortBy(groupNames, d => layoutGroupOrder.indexOf(d));\r\n    const groups = groupNamesSorted.map(groupName => ({\r\n        name: groupName,\r\n        nodes: layoutNodes.filter(d => getString(d, layoutNodeGroup, d._index) === groupName),\r\n    }));\r\n    // Handle connected nodes\r\n    let r = 2 * getAverageNodeSize((_b = (_a = groups[0]) === null || _a === void 0 ? void 0 : _a.nodes) !== null && _b !== void 0 ? _b : [], nodeSize);\r\n    const widthToHeightRatio = width / height;\r\n    groups.forEach((group, i) => {\r\n        const avgNodeSize = getAverageNodeSize(group.nodes, nodeSize);\r\n        const requiredRadius = 1.1 * avgNodeSize * group.nodes.length / Math.PI;\r\n        if (r < requiredRadius)\r\n            r = requiredRadius;\r\n        group.nodes.forEach((node, j) => {\r\n            // If the first (central) group has only one node\r\n            if (i === 0 && group.nodes.length === 1) {\r\n                node.x = width / 2;\r\n                node.y = height / 2;\r\n            }\r\n            else {\r\n                let dAngle = 0;\r\n                if (i === 0 && group.nodes.length === 3)\r\n                    dAngle = Math.PI / 6;\r\n                if (i === 0 && group.nodes.length === 4)\r\n                    dAngle = Math.PI / 4;\r\n                const angle = 2 * j * Math.PI / group.nodes.length + i * Math.PI / 12 + dAngle;\r\n                node.x = width / 2 + r * Math.cos(angle) * widthToHeightRatio;\r\n                node.y = height / 2 + r * Math.sin(angle);\r\n            }\r\n        });\r\n        const groupSpacing = avgNodeSize * 3;\r\n        r += groupSpacing;\r\n    });\r\n    // Handle non-connected nodes\r\n    if (layoutNonConnectedAside) {\r\n        const maxSize = getMaxNodeSize(nonConnectedNodes, nodeSize);\r\n        const maxY = max(connectedNodes.map(d => d.y));\r\n        const maxX = max(connectedNodes.map(d => d.x));\r\n        const minX = min(connectedNodes.map(d => d.x));\r\n        const graphWidth = maxX - minX;\r\n        positionNonConnectedNodes(nonConnectedNodes, maxY + maxSize * 3, maxSize * 2.25, graphWidth, minX);\r\n    }\r\n}\r\nfunction applyLayoutForce(datamodel, config, width) {\r\n    var _a;\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const { layoutNonConnectedAside, forceLayoutSettings, nodeSize } = config;\r\n        const { forceSimulation, forceLink, forceManyBody, forceX, forceY, forceCollide } = yield import('d3-force');\r\n        const { nonConnectedNodes, connectedNodes, nodes, links } = datamodel;\r\n        // Apply fx and fy to nodes if present before running the simulation\r\n        if (forceLayoutSettings.fixNodePositionAfterSimulation) {\r\n            nodes.forEach((d) => {\r\n                d.fx = isNil(d._state.fx) ? undefined : d._state.fx;\r\n                d.fy = isNil(d._state.fy) ? undefined : d._state.fy;\r\n            });\r\n        }\r\n        else {\r\n            nodes.forEach((d) => {\r\n                delete d._state.fx;\r\n                delete d._state.fy;\r\n            });\r\n        }\r\n        const simulation = forceSimulation(layoutNonConnectedAside ? connectedNodes : nodes)\r\n            .force('link', forceLink(links)\r\n            .id((d) => String(d._id))\r\n            .distance((l, i) => isFunction(forceLayoutSettings.linkDistance) ? forceLayoutSettings.linkDistance(l, i) : forceLayoutSettings.linkDistance)\r\n            .strength((l, i) => isFunction(forceLayoutSettings.linkStrength) ? forceLayoutSettings.linkStrength(l, i) : forceLayoutSettings.linkStrength))\r\n            .force('charge', forceManyBody().strength((d, i) => {\r\n            if (isFunction(forceLayoutSettings.charge)) {\r\n                return forceLayoutSettings.charge(d, i);\r\n            }\r\n            else {\r\n                const linkCount = links.reduce((count, l) => count + Number((l.source === d) || (l.target === d)), 0);\r\n                return forceLayoutSettings.charge * Math.sqrt(linkCount);\r\n            }\r\n        }))\r\n            .force('x', forceX().strength(forceLayoutSettings.forceXStrength))\r\n            .force('y', forceY().strength(forceLayoutSettings.forceYStrength))\r\n            .force('collide', forceCollide().radius((d, i) => getNodeSize(d, nodeSize, i)).iterations(1))\r\n            .stop();\r\n        // See https://bl.ocks.org/mbostock/1667139, https://github.com/d3/d3-force/blob/master/README.md#simulation_tick\r\n        const numIterations = (_a = forceLayoutSettings.numIterations) !== null && _a !== void 0 ? _a : Math.ceil(Math.log(simulation.alphaMin()) / Math.log(1 - simulation.alphaDecay()));\r\n        for (let i = 0, n = numIterations; i < n; ++i) {\r\n            simulation.tick();\r\n        }\r\n        // Fix node positions to `_state` if requested.\r\n        // And remove fx and fy from the node datum if present to make sure the nodes are not fixed\r\n        // if the layout was changed to a different layout and then back to force\r\n        if (forceLayoutSettings.fixNodePositionAfterSimulation) {\r\n            nodes.forEach((d) => {\r\n                delete d.fx;\r\n                delete d.fy;\r\n                d._state.fx = d.x;\r\n                d._state.fy = d.y;\r\n            });\r\n        }\r\n        // Handle non-connected nodes\r\n        if (layoutNonConnectedAside) {\r\n            const maxSize = getMaxNodeSize(nonConnectedNodes, nodeSize);\r\n            const maxY = max(connectedNodes.map(d => d.y));\r\n            const maxX = max(connectedNodes.map(d => d.x));\r\n            const minX = min(connectedNodes.map(d => d.x));\r\n            const graphWidth = maxX - minX;\r\n            positionNonConnectedNodes(nonConnectedNodes, maxY + maxSize * 6, maxSize * 2.25, Math.max(graphWidth, width), minX);\r\n        }\r\n    });\r\n}\r\nfunction applyELKLayout(datamodel, config, width) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const ELK = (yield import('elkjs/lib/elk.bundled.js')).default;\r\n        const elk = new ELK();\r\n        const labelApprxHeight = 30;\r\n        const nodes = datamodel.nodes.map((n, i) => (Object.assign(Object.assign(Object.assign({}, n), { id: n._id, width: getNumber(n, config.nodeSize, n._index) + getNumber(n, config.nodeStrokeWidth, n._index), height: getNumber(n, config.nodeSize, n._index) + labelApprxHeight }), (config.layoutElkGetNodeShape ? config.layoutElkGetNodeShape(n, i) : {}))));\r\n        let elkNodes;\r\n        if (config.layoutElkNodeGroups) {\r\n            const groupingFunctions = config.layoutElkNodeGroups\r\n                .map(accessor => (d) => getString(d, accessor, d._index));\r\n            const grouped = group(nodes, ...groupingFunctions);\r\n            elkNodes = toElkHierarchy(grouped, config.layoutElkSettings);\r\n        }\r\n        else {\r\n            elkNodes = nodes;\r\n        }\r\n        const rootNodeId = 'root';\r\n        const elkGraph = {\r\n            id: rootNodeId,\r\n            layoutOptions: merge(DEFAULT_ELK_SETTINGS, getValue(rootNodeId, config.layoutElkSettings)),\r\n            children: elkNodes,\r\n            edges: datamodel.links.map(l => ({\r\n                id: l._id,\r\n                sources: [l.source._id],\r\n                targets: [l.target._id],\r\n            })),\r\n        };\r\n        const layout = yield elk.layout(elkGraph);\r\n        adjustElkHierarchyCoordinates(layout);\r\n        nodes.forEach((node, i) => {\r\n            const found = datamodel.nodes.find(n => n._id === node.id);\r\n            if (!found)\r\n                return;\r\n            found.x = node.x + node.width / 2;\r\n            found.y = node.y + node.height / 2;\r\n        });\r\n        // Handle non-connected nodes\r\n        if (config.layoutNonConnectedAside) {\r\n            const maxSize = getMaxNodeSize(datamodel.nonConnectedNodes, config.nodeSize);\r\n            const maxY = max(datamodel.connectedNodes.map(d => d.y)) || 0;\r\n            const maxX = max(datamodel.connectedNodes.map(d => d.x)) || 0;\r\n            const minX = min(datamodel.connectedNodes.map(d => d.x)) || 0;\r\n            const graphWidth = (maxX - minX) || width;\r\n            positionNonConnectedNodes(datamodel.nonConnectedNodes, maxY + maxSize * 3, maxSize * 2.25, Math.max(graphWidth, width));\r\n        }\r\n    });\r\n}\n\nexport { applyELKLayout, applyLayoutCircular, applyLayoutConcentric, applyLayoutDagre, applyLayoutForce, applyLayoutParallel };\n\n", "import { __awaiter } from 'tslib';\nimport { min, max } from 'd3-array';\nimport { select, pointer } from 'd3-selection';\nimport { brush as brush$1 } from 'd3-brush';\nimport { zoom, zoomIdentity, zoomTransform } from 'd3-zoom';\nimport { drag } from 'd3-drag';\nimport { interval } from 'd3-timer';\nimport { ComponentCore } from '../../core/component/index.js';\nimport { GraphDataModel } from '../../data-models/graph.js';\nimport { isNumber, isFunction, clamp, getBoolean, getNumber, shallowDiff, isPlainObject, isEqual } from '../../utils/data.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { GraphLayoutType, GraphFitViewAlignment, GraphNodeSelectionHighlightMode, GraphLinkArrowStyle } from './types.js';\nimport { GraphDefaultConfig } from './config.js';\nimport { background, graphGroup, brush, root } from './style.js';\nimport * as style from './modules/node/style.js';\nimport { nodes, gNode, gNodeExit, brushed, brushable, node, nodeGauge, sideLabelGroup, label, greyedOutNode } from './modules/node/style.js';\nimport { links, gLink, gLinkExit, linkSupport, link, linkLabelGroup, greyedOutLink } from './modules/link/style.js';\nimport { panels, gPanel, panel, panelSelection, label as label$1, labelText, sideIconGroup, sideIconShape, sideIconSymbol } from './modules/panel/style.js';\nimport { createNodes, updateNodes, removeNodes, updateNodesPartial, zoomNodesThrottled, zoomNodes, updateNodePositions } from './modules/node/index.js';\nimport { getMaxNodeSize, getX, getY, getNodeSize } from './modules/node/helper.js';\nimport { createLinks, updateLinks, removeLinks, updateLinksPartial, animateLinkFlow, zoomLinksThrottled, zoomLinks, updateLinkLines } from './modules/link/index.js';\nimport { getArrowPath, getDoubleArrowPath } from './modules/link/helper.js';\nimport { removePanels, createPanels, updatePanels } from './modules/panel/index.js';\nimport { updatePanelNumNodes, updatePanelBBoxSize, initPanels, setPanelForNodes } from './modules/panel/helper.js';\nimport { applyLayoutCircular, applyELKLayout, applyLayoutConcentric, applyLayoutForce, applyLayoutDagre, applyLayoutParallel } from './modules/layout.js';\n\nclass Graph extends ComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = GraphDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.datamodel = new GraphDataModel();\r\n        this._isFirstRender = true;\r\n        this._shouldRecalculateLayout = false;\r\n        this._shouldSetPanels = false;\r\n        this._isAutoFitDisabled = false;\r\n        this._isDragging = false;\r\n        // A map for storing link total path lengths to optimize rendering performance\r\n        this._linkPathLengthMap = new Map();\r\n        this._linkFlowFrameElapsed = 0;\r\n        this.events = {\r\n            [Graph.selectors.background]: {\r\n                click: this._onBackgroundClick.bind(this),\r\n            },\r\n            [Graph.selectors.node]: {\r\n                click: this._onNodeClick.bind(this),\r\n                mouseover: this._onNodeMouseOver.bind(this),\r\n                mouseout: this._onNodeMouseOut.bind(this),\r\n            },\r\n            [Graph.selectors.link]: {\r\n                click: this._onLinkClick.bind(this),\r\n                mouseover: this._onLinkMouseOver.bind(this),\r\n                mouseout: this._onLinkMouseOut.bind(this),\r\n            },\r\n        };\r\n        if (config)\r\n            this.setConfig(config);\r\n        this._backgroundRect = this.g.append('rect').attr('class', background);\r\n        this._graphGroup = this.g.append('g').attr('class', graphGroup);\r\n        this._brush = this.g.append('g').attr('class', brush);\r\n        this._zoomBehavior = zoom()\r\n            .scaleExtent(this.config.zoomScaleExtent)\r\n            .on('zoom', (e) => this._onZoom(e.transform, e))\r\n            .on('start', (e) => this._onZoomStart(e.transform, e))\r\n            .on('end', (e) => this._onZoomEnd(e.transform, e));\r\n        this._brushBehavior = brush$1()\r\n            .on('start brush end', this._onBrush.bind(this))\r\n            .filter(event => event.shiftKey)\r\n            .keyModifiers(false);\r\n        this._panelsGroup = this._graphGroup.append('g').attr('class', panels);\r\n        this._linksGroup = this._graphGroup.append('g').attr('class', links);\r\n        this._nodesGroup = this._graphGroup.append('g').attr('class', nodes);\r\n        this._defs = this._graphGroup.append('defs');\r\n        this._getLinkArrowDefId = this._getLinkArrowDefId.bind(this);\r\n    }\r\n    get selectedNode() {\r\n        var _a;\r\n        return (_a = this._selectedNodes) === null || _a === void 0 ? void 0 : _a[0];\r\n    }\r\n    get selectedNodes() {\r\n        return this._selectedNodes;\r\n    }\r\n    get selectedLink() {\r\n        return this._selectedLink;\r\n    }\r\n    setData(data) {\r\n        const { config } = this;\r\n        if (!config.shouldDataUpdate(this.datamodel.data, data, this.datamodel))\r\n            return;\r\n        this.datamodel.nodeSort = config.nodeSort;\r\n        this.datamodel.data = data;\r\n        this._shouldRecalculateLayout = true;\r\n        if (config.layoutAutofit)\r\n            this._shouldFitLayout = true;\r\n        this._shouldSetPanels = true;\r\n        this._addSVGDefs();\r\n    }\r\n    setConfig(config) {\r\n        super.setConfig(config);\r\n        const hasLayoutConfigurationChanged = this._shouldLayoutRecalculate();\r\n        // If the data has changed (see above in `setData`) or the layout configuration has changed, we need to recalculate the layout\r\n        this._shouldRecalculateLayout = this._shouldRecalculateLayout || hasLayoutConfigurationChanged;\r\n        // If the `config.layoutAutofit` is true and data has changed (see above in `setData`),\r\n        // or the layout configuration has changed, we need to fit the layout\r\n        this._shouldFitLayout = this._shouldFitLayout || hasLayoutConfigurationChanged;\r\n        if (this._shouldFitLayout)\r\n            this._isAutoFitDisabled = false;\r\n        this._shouldSetPanels = true;\r\n    }\r\n    get bleed() {\r\n        const padding = this.config.fitViewPadding; // Extra padding to take into account labels and selection outlines\r\n        return isNumber(padding)\r\n            ? { top: padding, bottom: padding, left: padding, right: padding }\r\n            : padding;\r\n    }\r\n    _render(customDuration) {\r\n        const { config: { disableBrush, disableZoom, duration, layoutAutofit, zoomEventFilter }, datamodel } = this;\r\n        if (!datamodel.nodes && !datamodel.links)\r\n            return;\r\n        const animDuration = isNumber(customDuration) ? customDuration : duration;\r\n        this._backgroundRect\r\n            .attr('width', this._width)\r\n            .attr('height', this._height)\r\n            .attr('opacity', 0);\r\n        if ((this._prevWidth !== this._width || this._prevHeight !== this._height) && layoutAutofit) {\r\n            // Fit layout on resize\r\n            this._shouldFitLayout = true;\r\n            this._prevWidth = this._width;\r\n            this._prevHeight = this._height;\r\n        }\r\n        // Handle brush behavior\r\n        if (!disableBrush) {\r\n            this._brushBehavior.extent([[0, 0], [this._width, this._height]]);\r\n            this._brush.call(this._brushBehavior);\r\n            // Activate the brush when the shift key is pressed\r\n            select(window)\r\n                .on('keydown.unovis-graph', e => e.key === 'Shift' && this._activateBrush())\r\n                .on('keyup.unovis-graph', e => e.key === 'Shift' && this._clearBrush());\r\n            this._zoomBehavior.filter(event => !event.shiftKey);\r\n        }\r\n        else {\r\n            this._brush.on('.brush', null);\r\n            select(window)\r\n                .on('keydown.unovis-graph', null)\r\n                .on('keyup.unovis-graph', null);\r\n            // Clear brush in case it was disabled in an active state\r\n            if (this._brush.classed('active'))\r\n                this._clearBrush();\r\n        }\r\n        // Apply layout and render\r\n        if (this._shouldRecalculateLayout || !this._layoutCalculationPromise) {\r\n            this._layoutCalculationPromise = this._calculateLayout();\r\n            // Call `onLayoutCalculated` after the layout calculation is done and the `this._layoutCalculationPromise`\r\n            // variable is set because the `fitView` function relies on the promise to be initialized\r\n            this._layoutCalculationPromise.then(() => {\r\n                var _a, _b;\r\n                (_b = (_a = this.config).onLayoutCalculated) === null || _b === void 0 ? void 0 : _b.call(_a, datamodel.nodes, datamodel.links);\r\n            });\r\n        }\r\n        // Redefining Zoom Behavior filter to the one specified in the config,\r\n        // or to the default one supporting `shiftKey` for node brushing\r\n        // See more: https://d3js.org/d3-zoom#zoom_filter\r\n        this._zoomBehavior.filter(isFunction(zoomEventFilter)\r\n            ? zoomEventFilter\r\n            : (e) => (!e.ctrlKey || e.type === 'wheel') && !e.button && !e.shiftKey); // Default filter\r\n        this._layoutCalculationPromise.then(() => {\r\n            var _a, _b, _c;\r\n            // If the component has been destroyed while the layout calculation\r\n            // was in progress, we cancel the render\r\n            if (this.isDestroyed())\r\n                return;\r\n            this._initPanelsData();\r\n            // Fit the view\r\n            if (this._isFirstRender) {\r\n                this._fit();\r\n                this._shouldFitLayout = false;\r\n            }\r\n            else if (this._shouldFitLayout && !this._isAutoFitDisabled) {\r\n                this._fit(duration);\r\n                this._shouldFitLayout = false;\r\n            }\r\n            // Update Nodes and Links Selection State\r\n            this._resetSelectionGreyoutState();\r\n            if (this.config.selectedNodeId || this.config.selectedNodeIds) {\r\n                const selectedIds = (_a = this.config.selectedNodeIds) !== null && _a !== void 0 ? _a : [this.config.selectedNodeId];\r\n                const selectedNodes = selectedIds.map(id => datamodel.getNodeById(id));\r\n                this._setNodeSelectionState(selectedNodes);\r\n            }\r\n            if (this.config.selectedLinkId) {\r\n                const selectedLink = datamodel.links.find(link => link.id === this.config.selectedLinkId);\r\n                this._setLinkSelectionState(selectedLink);\r\n            }\r\n            // Draw\r\n            this._drawNodes(animDuration);\r\n            this._drawLinks(animDuration);\r\n            // Link flow animation timer\r\n            if (!this._timer) {\r\n                const refreshRateMs = 35;\r\n                this._timer = interval(this._onLinkFlowTimerFrame.bind(this), refreshRateMs);\r\n            }\r\n            // Zoom\r\n            if (disableZoom)\r\n                this.g.on('.zoom', null);\r\n            else\r\n                this.g.call(this._zoomBehavior).on('dblclick.zoom', null);\r\n            // We need to set up events and attributes again because the rendering might have been delayed by the layout\r\n            // calculation and they were not set up properly (see the render function of `ComponentCore`)\r\n            this._setUpComponentEventsThrottled();\r\n            this._setCustomAttributesThrottled();\r\n            // On render complete callback\r\n            (_c = (_b = this.config).onRenderComplete) === null || _c === void 0 ? void 0 : _c.call(_b, this.g, datamodel.nodes, datamodel.links, this.config, animDuration, this._scale, this._containerWidth, this._containerHeight);\r\n            this._isFirstRender = false;\r\n        });\r\n    }\r\n    _drawNodes(duration) {\r\n        const { config, datamodel } = this;\r\n        const nodes = datamodel.nodes;\r\n        const nodeGroups = this._nodesGroup\r\n            .selectAll(`.${gNode}:not(.${gNodeExit})`)\r\n            .data(nodes, d => String(d._id));\r\n        const nodeGroupsEnter = nodeGroups.enter().append('g')\r\n            .attr('class', gNode)\r\n            .call(createNodes, config, duration, this._scale);\r\n        const nodeGroupsMerged = nodeGroups.merge(nodeGroupsEnter);\r\n        const nodeUpdateSelection = updateNodes(nodeGroupsMerged, config, duration, this._scale);\r\n        this._drawPanels(nodeUpdateSelection, duration);\r\n        const nodesGroupExit = nodeGroups.exit();\r\n        nodesGroupExit\r\n            .classed(gNodeExit, true)\r\n            .call(removeNodes, config, duration, this._scale);\r\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n        const thisRef = this;\r\n        if (!config.disableDrag) {\r\n            const dragBehaviour = drag()\r\n                .on('start drag end', function (event, d) {\r\n                thisRef._handleDrag(d, event, select(this));\r\n            });\r\n            nodeGroupsMerged.call(dragBehaviour);\r\n        }\r\n        else {\r\n            nodeGroupsMerged.on('.drag', null);\r\n        }\r\n    }\r\n    _drawLinks(duration) {\r\n        const { config, datamodel: { links } } = this;\r\n        const linkGroups = this._linksGroup\r\n            .selectAll(`.${gLink}:not(.${gLinkExit}`)\r\n            .data(links, (d) => String(d._id));\r\n        const linkGroupsEnter = linkGroups.enter().append('g')\r\n            .attr('class', gLink)\r\n            .call(createLinks, config, duration);\r\n        const linkGroupsMerged = linkGroups.merge(linkGroupsEnter);\r\n        linkGroupsMerged.call(updateLinks, config, duration, this._scale, this._getLinkArrowDefId, this._linkPathLengthMap);\r\n        const linkGroupsExit = linkGroups.exit();\r\n        linkGroupsExit\r\n            .attr('class', gLinkExit)\r\n            .call(removeLinks, config, duration);\r\n    }\r\n    _drawPanels(nodeUpdateSelection, duration) {\r\n        var _a;\r\n        const { config } = this;\r\n        smartTransition(this._panelsGroup, duration / 2)\r\n            .style('opacity', ((_a = config.panels) === null || _a === void 0 ? void 0 : _a.length) ? 1 : 0);\r\n        if (!this._panels)\r\n            return;\r\n        const selection = (nodeUpdateSelection.duration)\r\n            ? nodeUpdateSelection.selection()\r\n            : nodeUpdateSelection;\r\n        updatePanelNumNodes(selection, this._panels, config);\r\n        updatePanelBBoxSize(selection, this._panels, config);\r\n        const panelData = this._panels.filter(p => p._numNodes);\r\n        const panelGroup = this._panelsGroup\r\n            .selectAll(`.${gPanel}`)\r\n            .data(panelData, p => p.label);\r\n        const panelGroupExit = panelGroup.exit();\r\n        panelGroupExit.call(removePanels, config, duration);\r\n        const panelGroupEnter = panelGroup.enter().append('g')\r\n            .attr('class', gPanel)\r\n            .call(createPanels, selection);\r\n        const panelGroupMerged = panelGroup.merge(panelGroupEnter);\r\n        this._updatePanels(panelGroupMerged, duration);\r\n    }\r\n    _updatePanels(panelToUpdate, duration) {\r\n        const { config } = this;\r\n        if (!this._panels)\r\n            return;\r\n        panelToUpdate.call(updatePanels, config, duration);\r\n    }\r\n    _calculateLayout() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { config, datamodel } = this;\r\n            // If the layout type has changed, we need to reset the node positions if they were fixed before\r\n            if (this._currentLayoutType !== config.layoutType) {\r\n                for (const node of datamodel.nodes) {\r\n                    delete node._state.fx;\r\n                    delete node._state.fy;\r\n                }\r\n            }\r\n            switch (config.layoutType) {\r\n                case GraphLayoutType.Precalculated:\r\n                    break;\r\n                case GraphLayoutType.Parallel:\r\n                    applyLayoutParallel(datamodel, config, this._width, this._height);\r\n                    break;\r\n                case GraphLayoutType.ParallelHorizontal:\r\n                    applyLayoutParallel(datamodel, config, this._width, this._height, 'horizontal');\r\n                    break;\r\n                case GraphLayoutType.Dagre:\r\n                    yield applyLayoutDagre(datamodel, config, this._width);\r\n                    break;\r\n                case GraphLayoutType.Force:\r\n                    yield applyLayoutForce(datamodel, config, this._width);\r\n                    break;\r\n                case GraphLayoutType.Concentric:\r\n                    applyLayoutConcentric(datamodel, config, this._width, this._height);\r\n                    break;\r\n                case GraphLayoutType.Elk:\r\n                    yield applyELKLayout(datamodel, config, this._width);\r\n                    break;\r\n                case GraphLayoutType.Circular:\r\n                default:\r\n                    applyLayoutCircular(datamodel, config, this._width, this._height);\r\n                    break;\r\n            }\r\n            // We need to update the panels data right after the layout calculation\r\n            // because we want to have the latest coordinates before calling `onLayoutCalculated`\r\n            this._initPanelsData();\r\n            this._shouldRecalculateLayout = false;\r\n            this._currentLayoutType = config.layoutType;\r\n        });\r\n    }\r\n    _initPanelsData() {\r\n        const { config, datamodel } = this;\r\n        if (this._shouldSetPanels) {\r\n            this._panels = initPanels(config.panels);\r\n            setPanelForNodes(this._panels, datamodel.nodes, this.config);\r\n            this._shouldSetPanels = false;\r\n        }\r\n    }\r\n    _fit(duration = 0, nodeIds, alignment = this.config.fitViewAlign) {\r\n        const { datamodel: { nodes } } = this;\r\n        const fitViewNodes = (nodeIds === null || nodeIds === void 0 ? void 0 : nodeIds.length) ? nodes.filter(n => nodeIds.includes(n.id)) : nodes;\r\n        const transform = this._getTransform(fitViewNodes, alignment);\r\n        smartTransition(this.g, duration)\r\n            .call(this._zoomBehavior.transform, transform);\r\n        this._onZoom(transform);\r\n    }\r\n    _getTransform(nodes, alignment) {\r\n        const { nodeSize, zoomScaleExtent } = this.config;\r\n        const { left, top, right, bottom } = this.bleed;\r\n        const maxNodeSize = getMaxNodeSize(nodes, nodeSize);\r\n        const w = this._width;\r\n        const h = this._height;\r\n        const xExtent = [\r\n            min(nodes, d => getX(d) - maxNodeSize / 2 - (max((d._panels || []).map(p => p._padding.left)) || 0)),\r\n            max(nodes, d => getX(d) + maxNodeSize / 2 + (max((d._panels || []).map(p => p._padding.right)) || 0)),\r\n        ];\r\n        const yExtent = [\r\n            min(nodes, d => getY(d) - maxNodeSize / 2 - (max((d._panels || []).map(p => p._padding.top)) || 0)),\r\n            max(nodes, d => getY(d) + maxNodeSize / 2 + (max((d._panels || []).map(p => p._padding.bottom)) || 0)),\r\n        ];\r\n        if (xExtent.some(item => item === undefined) || yExtent.some(item => item === undefined)) {\r\n            console.warn('Unovis | Graph: Some of the node coordinates are undefined. This can happen if you try to fit the graph before the layout has been calculated.');\r\n            return zoomIdentity;\r\n        }\r\n        const xScale = w / (xExtent[1] - xExtent[0] + (left || 0) + (right || 0));\r\n        const yScale = h / (yExtent[1] - yExtent[0] + (top || 0) + (bottom || 0));\r\n        const clampedScale = clamp(min([xScale, yScale]), zoomScaleExtent[0], zoomScaleExtent[1]);\r\n        // Calculate translation based on alignment\r\n        let translateX;\r\n        let translateY;\r\n        switch (alignment) {\r\n            case GraphFitViewAlignment.Left:\r\n                translateX = left - xExtent[0] * clampedScale;\r\n                translateY = this._height / 2 - (yExtent[0] + (yExtent[1] - yExtent[0]) / 2) * clampedScale;\r\n                break;\r\n            case GraphFitViewAlignment.Right:\r\n                translateX = this._width - (xExtent[1] - xExtent[0]) * clampedScale - right;\r\n                translateY = this._height / 2 - (yExtent[0] + (yExtent[1] - yExtent[0]) / 2) * clampedScale;\r\n                break;\r\n            case GraphFitViewAlignment.Top:\r\n                translateX = this._width / 2 - (xExtent[0] + (xExtent[1] - xExtent[0]) / 2) * clampedScale;\r\n                translateY = top - yExtent[0] * clampedScale;\r\n                break;\r\n            case GraphFitViewAlignment.Bottom:\r\n                translateX = this._width / 2 - (xExtent[0] + (xExtent[1] - xExtent[0]) / 2) * clampedScale;\r\n                translateY = this._height - (yExtent[1] - yExtent[0]) * clampedScale - bottom;\r\n                break;\r\n            case GraphFitViewAlignment.Center:\r\n            default:\r\n                translateX = this._width / 2 - (xExtent[0] + (xExtent[1] - xExtent[0]) / 2) * clampedScale;\r\n                translateY = this._height / 2 - (yExtent[0] + (yExtent[1] - yExtent[0]) / 2) * clampedScale;\r\n        }\r\n        const transform = zoomIdentity\r\n            .translate(translateX, translateY)\r\n            .scale(clampedScale);\r\n        return transform;\r\n    }\r\n    _setNodeSelectionState(nodesToSelect) {\r\n        const { config, datamodel } = this;\r\n        // Grey out all nodes and set us unselected\r\n        for (const n of datamodel.nodes) {\r\n            n._state.selected = false;\r\n            if (config.nodeSelectionHighlightMode !== GraphNodeSelectionHighlightMode.None) {\r\n                n._state.greyout = true;\r\n            }\r\n        }\r\n        // Grey out all links and set us unselected\r\n        for (const l of datamodel.links) {\r\n            l._state.selected = false;\r\n            if (config.nodeSelectionHighlightMode !== GraphNodeSelectionHighlightMode.None) {\r\n                l._state.greyout = true;\r\n            }\r\n        }\r\n        // Filter out non-existing nodes\r\n        this._selectedNodes = nodesToSelect.filter(n => {\r\n            const doesNodeExist = Boolean(n);\r\n            if (!doesNodeExist)\r\n                console.warn('Unovis | Graph: Select Node: Not found');\r\n            return doesNodeExist;\r\n        });\r\n        //  Set provided nodes as selected and ungreyout\r\n        for (const n of this._selectedNodes) {\r\n            n._state.selected = true;\r\n            n._state.greyout = false;\r\n        }\r\n        // Highlight connected links and nodes\r\n        if (config.nodeSelectionHighlightMode === GraphNodeSelectionHighlightMode.GreyoutNonConnected) {\r\n            const connectedLinks = datamodel.links.filter(l => this._selectedNodes.includes(l.source) || this._selectedNodes.includes(l.target));\r\n            connectedLinks.forEach(l => {\r\n                l.source._state.greyout = false;\r\n                l.target._state.greyout = false;\r\n                l._state.greyout = false;\r\n            });\r\n        }\r\n    }\r\n    _setLinkSelectionState(link) {\r\n        const { datamodel: { nodes, links } } = this;\r\n        if (!link)\r\n            console.warn('Unovis: Graph: Select Link: Not found');\r\n        this._selectedLink = link;\r\n        const selectedLinkSource = link === null || link === void 0 ? void 0 : link.source;\r\n        const selectedLinkTarget = link === null || link === void 0 ? void 0 : link.target;\r\n        // Apply grey out\r\n        nodes.forEach(n => {\r\n            n._state.selected = false;\r\n            n._state.greyout = true;\r\n            if ((selectedLinkTarget === null || selectedLinkTarget === void 0 ? void 0 : selectedLinkTarget._id) === n._id || (selectedLinkSource === null || selectedLinkSource === void 0 ? void 0 : selectedLinkSource._id) === n._id) {\r\n                link._state.greyout = false;\r\n            }\r\n        });\r\n        links.forEach(l => {\r\n            l._state.greyout = true;\r\n            const source = l.source;\r\n            const target = l.target;\r\n            if ((source._id === (selectedLinkSource === null || selectedLinkSource === void 0 ? void 0 : selectedLinkSource._id)) && (target._id === (selectedLinkTarget === null || selectedLinkTarget === void 0 ? void 0 : selectedLinkTarget._id))) {\r\n                source._state.greyout = false;\r\n                target._state.greyout = false;\r\n                l._state.greyout = false;\r\n            }\r\n        });\r\n        links.forEach(l => {\r\n            delete l._state.selected;\r\n        });\r\n        if (link)\r\n            link._state.selected = true;\r\n    }\r\n    _resetSelectionGreyoutState() {\r\n        const { datamodel: { nodes, links } } = this;\r\n        this._selectedNodes = [];\r\n        this._selectedLink = undefined;\r\n        // Disable Greyout\r\n        nodes.forEach(n => {\r\n            delete n._state.selected;\r\n            delete n._state.greyout;\r\n        });\r\n        links.forEach(l => {\r\n            delete l._state.greyout;\r\n            delete l._state.selected;\r\n        });\r\n    }\r\n    _updateNodesLinksPartial() {\r\n        const { config } = this;\r\n        const linkElements = this._linksGroup.selectAll(`.${gLink}`);\r\n        linkElements.call(updateLinksPartial, config, this._scale);\r\n        const nodeElements = this._nodesGroup.selectAll(`.${gNode}`);\r\n        nodeElements.call(updateNodesPartial, config, config.duration, this._scale);\r\n    }\r\n    _onBackgroundClick() {\r\n        this._resetSelectionGreyoutState();\r\n        this._updateNodesLinksPartial();\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    _onNodeClick(d) {\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    _onNodeMouseOut(d) {\r\n        this._updateNodesLinksPartial();\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    _onNodeMouseOver(d) {\r\n        this._updateNodesLinksPartial();\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    _onLinkClick(d) {\r\n    }\r\n    _onLinkMouseOver(d) {\r\n        if (this._isDragging)\r\n            return;\r\n        if (this.config.linkHighlightOnHover)\r\n            d._state.hovered = true;\r\n        this._updateNodesLinksPartial();\r\n    }\r\n    _onLinkMouseOut(d) {\r\n        if (this._isDragging)\r\n            return;\r\n        delete d._state.hovered;\r\n        this._updateNodesLinksPartial();\r\n    }\r\n    _onLinkFlowTimerFrame(elapsed = 0) {\r\n        const { config, datamodel: { links } } = this;\r\n        const hasLinksWithFlow = links.some((d, i) => getBoolean(d, config.linkFlow, i));\r\n        if (!hasLinksWithFlow)\r\n            return;\r\n        const deltaTime = elapsed - this._linkFlowFrameElapsed;\r\n        const linkGroups = this._linksGroup.selectAll(`.${gLink}`);\r\n        linkGroups.each((l, i, els) => {\r\n            var _a;\r\n            const linkFlowParticleSpeed = getNumber(l, config.linkFlowParticleSpeed, l._indexGlobal);\r\n            // Get path length\r\n            const pathElement = els[i].querySelector(`.${linkSupport}`);\r\n            const pathLength = pathElement ? ((_a = this._linkPathLengthMap.get(pathElement.getAttribute('d'))) !== null && _a !== void 0 ? _a : pathElement.getTotalLength()) : 0;\r\n            if (pathLength <= 0)\r\n                return; // Skip if no valid path\r\n            // Calculate speed: either provided or derived from duration\r\n            const speed = linkFlowParticleSpeed || (pathLength / getNumber(l, config.linkFlowAnimDuration, l._indexGlobal) * 1000);\r\n            // Initialize and update distance\r\n            l._state.flowAnimDistancePx = (l._state.flowAnimDistancePx || 0) + (deltaTime / 1000) * speed;\r\n            // Convert to relative position\r\n            l._state.flowAnimDistanceRelative = (l._state.flowAnimDistancePx % pathLength) / pathLength;\r\n        });\r\n        this._linkFlowFrameElapsed = elapsed;\r\n        animateLinkFlow(linkGroups, this.config, this._scale, this._linkPathLengthMap);\r\n    }\r\n    _onZoom(t, event) {\r\n        const { config, datamodel: { nodes } } = this;\r\n        const transform = t || event.transform;\r\n        this._scale = transform.k;\r\n        this._graphGroup.attr('transform', transform.toString());\r\n        if (isFunction(config.onZoom))\r\n            config.onZoom(this._scale, config.zoomScaleExtent, event, transform);\r\n        // console.warn('Unovis | Graph: Zoom: ', transform)\r\n        if (!this._initialTransform)\r\n            this._initialTransform = transform;\r\n        // If the event was triggered by a mouse interaction (pan or zoom) we don't\r\n        //   refit the layout after recalculation (e.g. on container resize)\r\n        if (event === null || event === void 0 ? void 0 : event.sourceEvent) {\r\n            const diff = Object.keys(transform).reduce((acc, prop) => {\r\n                const propVal = transform[prop];\r\n                const initialPropVal = this._initialTransform[prop];\r\n                const dVal = Math.abs(propVal - initialPropVal);\r\n                const scaledDVal = prop === 'k' ? 20 * dVal : dVal / 15;\r\n                acc += scaledDVal;\r\n                return acc;\r\n            }, 0);\r\n            if (diff > config.layoutAutofitTolerance)\r\n                this._isAutoFitDisabled = true;\r\n            else\r\n                this._isAutoFitDisabled = false;\r\n        }\r\n        this._nodesGroup.selectAll(`.${gNode}`)\r\n            .call((nodes.length > config.zoomThrottledUpdateNodeThreshold ? zoomNodesThrottled : zoomNodes), config, this._scale);\r\n        this._linksGroup.selectAll(`.${gLink}`)\r\n            .call((nodes.length > config.zoomThrottledUpdateNodeThreshold ? zoomLinksThrottled : zoomLinks), config, this._scale, this._getLinkArrowDefId);\r\n    }\r\n    _onZoomStart(t, event) {\r\n        const { config } = this;\r\n        const transform = t || event.transform;\r\n        this._scale = transform.k;\r\n        if (isFunction(config.onZoomStart))\r\n            config.onZoomStart(this._scale, config.zoomScaleExtent, event, transform);\r\n    }\r\n    _onZoomEnd(t, event) {\r\n        const { config } = this;\r\n        const transform = t || event.transform;\r\n        this._scale = transform.k;\r\n        if (isFunction(config.onZoomEnd))\r\n            config.onZoomEnd(this._scale, config.zoomScaleExtent, event, transform);\r\n    }\r\n    _updateNodePosition(d, x, y) {\r\n        var _a, _b;\r\n        const transform = zoomTransform(this.g.node());\r\n        const scale = transform.k;\r\n        // Prevent the node from being dragged offscreen or outside its panel\r\n        const panels = (_b = (_a = this._panels) === null || _a === void 0 ? void 0 : _a.filter(p => p.nodes.includes(d._id))) !== null && _b !== void 0 ? _b : [];\r\n        const nodeSizeValue = getNodeSize(d, this.config.nodeSize, d._index);\r\n        const maxY = min([(this._height - transform.y) / scale, ...panels.map(p => p._y + p._height)]) - nodeSizeValue / 2;\r\n        const maxX = min([(this._width - transform.x) / scale, ...panels.map(p => p._x + p._width)]) - nodeSizeValue / 2;\r\n        const minY = max([-transform.y / scale, ...panels.map(p => p._y)]) + nodeSizeValue / 2;\r\n        const minX = max([-transform.x / scale, ...panels.map(p => p._x)]) + nodeSizeValue / 2;\r\n        if (y < minY)\r\n            y = minY;\r\n        else if (y > maxY)\r\n            y = maxY;\r\n        if (x < minX)\r\n            x = minX;\r\n        else if (x > maxX)\r\n            x = maxX;\r\n        // Snap to Layout\r\n        if (Math.sqrt(Math.pow(x - d.x, 2) + Math.pow(y - d.y, 2)) < 15) {\r\n            x = d.x;\r\n            y = d.y;\r\n        }\r\n        // Assign coordinates\r\n        d._state.fx = x;\r\n        d._state.fy = y;\r\n        if (d._state.fx === d.x)\r\n            delete d._state.fx;\r\n        if (d._state.fy === d.y)\r\n            delete d._state.fy;\r\n    }\r\n    _onBrush(event) {\r\n        var _a;\r\n        if (!event.selection || !event.sourceEvent)\r\n            return;\r\n        const { config } = this;\r\n        const transform = zoomTransform(this._graphGroup.node());\r\n        const [xMin, yMin] = transform.invert(event.selection[0]);\r\n        const [xMax, yMax] = transform.invert(event.selection[1]);\r\n        // Update brushed nodes\r\n        this._nodesGroup.selectAll(`.${gNode}`)\r\n            .each(n => {\r\n            const x = getX(n);\r\n            const y = getY(n);\r\n            n._state.brushed = x >= xMin && x <= xMax && y >= yMin && y <= yMax;\r\n        })\r\n            .classed(brushed, n => n._state.brushed);\r\n        const brushedNodes = this._nodesGroup.selectAll(`.${brushed}`)\r\n            .call(updateNodesPartial, config, 0, this._scale);\r\n        this._brush.classed('active', event.type !== 'end');\r\n        (_a = config.onNodeSelectionBrush) === null || _a === void 0 ? void 0 : _a.call(config, brushedNodes.data(), event);\r\n    }\r\n    _handleDrag(d, event, nodeSelection) {\r\n        if (event.sourceEvent.shiftKey && d._state.brushed) {\r\n            this._dragSelectedNodes(event);\r\n        }\r\n        else if (!event.sourceEvent.shiftKey) {\r\n            switch (event.type) {\r\n                case 'start':\r\n                    this._onDragStarted(d, event, nodeSelection);\r\n                    break;\r\n                case 'drag':\r\n                    this._onDragged(d, event);\r\n                    break;\r\n                case 'end':\r\n                    this._onDragEnded(d, event, nodeSelection);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    _onDragStarted(d, event, nodeSelection) {\r\n        var _a;\r\n        const { config } = this;\r\n        this._isDragging = true;\r\n        d._state.isDragged = true;\r\n        nodeSelection.call(updateNodes, config, 0, this._scale);\r\n        (_a = config.onNodeDragStart) === null || _a === void 0 ? void 0 : _a.call(config, d, event);\r\n    }\r\n    _onDragged(d, event) {\r\n        var _a;\r\n        const { config } = this;\r\n        const transform = zoomTransform(this.g.node());\r\n        const scale = transform.k;\r\n        // Update node position\r\n        const [x, y] = pointer(event, this._graphGroup.node());\r\n        this._updateNodePosition(d, x, y);\r\n        // Update affected DOM elements\r\n        const nodeSelection = this._nodesGroup.selectAll(`.${gNode}`);\r\n        const nodeToUpdate = nodeSelection.filter((n) => n._id === d._id);\r\n        nodeToUpdate.call(updateNodes, config, 0, scale);\r\n        const linkSelection = this._linksGroup.selectAll(`.${gLink}`);\r\n        const linksToUpdate = linkSelection.filter((l) => {\r\n            const source = l.source;\r\n            const target = l.target;\r\n            return source._id === d._id || target._id === d._id;\r\n        });\r\n        linksToUpdate.call(updateLinks, config, 0, scale, this._getLinkArrowDefId, this._linkPathLengthMap);\r\n        const linksToAnimate = linksToUpdate.filter(d => d._state.greyout);\r\n        if (linksToAnimate.size())\r\n            animateLinkFlow(linksToAnimate, config, this._scale, this._linkPathLengthMap);\r\n        (_a = config.onNodeDrag) === null || _a === void 0 ? void 0 : _a.call(config, d, event);\r\n    }\r\n    _onDragEnded(d, event, nodeSelection) {\r\n        var _a;\r\n        const { config } = this;\r\n        this._isDragging = false;\r\n        d._state.isDragged = false;\r\n        nodeSelection.call(updateNodes, config, 0, this._scale);\r\n        (_a = config.onNodeDragEnd) === null || _a === void 0 ? void 0 : _a.call(config, d, event);\r\n    }\r\n    _dragSelectedNodes(event) {\r\n        var _a, _b;\r\n        const { config } = this;\r\n        const curr = pointer(event, this._graphGroup.node());\r\n        const selectedNodes = smartTransition(this._nodesGroup.selectAll(`.${brushed}`));\r\n        if (event.type === 'start') {\r\n            this._groupDragInit = curr;\r\n            this._isDragging = true;\r\n            selectedNodes.each(n => {\r\n                n.x = getX(n);\r\n                n.y = getY(n);\r\n                n._state.isDragged = true;\r\n            });\r\n        }\r\n        else if (event.type === 'drag') {\r\n            const dx = curr[0] - this._groupDragInit[0];\r\n            const dy = curr[1] - this._groupDragInit[1];\r\n            selectedNodes.each(n => this._updateNodePosition(n, n.x + dx, n.y + dy));\r\n            const connectedLinks = smartTransition(this._linksGroup.selectAll(`.${gLink}`)\r\n                .filter(l => { var _a, _b, _c, _d; return ((_b = (_a = l.source) === null || _a === void 0 ? void 0 : _a._state) === null || _b === void 0 ? void 0 : _b.isDragged) || ((_d = (_c = l.target) === null || _c === void 0 ? void 0 : _c._state) === null || _d === void 0 ? void 0 : _d.isDragged); }));\r\n            connectedLinks.call(updateLinks, this.config, 0, this._scale, this._getLinkArrowDefId, this._linkPathLengthMap);\r\n        }\r\n        else {\r\n            this._isDragging = false;\r\n            selectedNodes.each(n => { n._state.isDragged = false; });\r\n        }\r\n        selectedNodes.call(updateNodes, config, 0, this._scale);\r\n        (_b = (_a = this.config).onNodeSelectionDrag) === null || _b === void 0 ? void 0 : _b.call(_a, selectedNodes.data(), event);\r\n    }\r\n    _activateBrush() {\r\n        this._brush.classed('active', true);\r\n        this._nodesGroup.selectAll(`.${gNode}`)\r\n            .classed(brushable, true);\r\n    }\r\n    _clearBrush() {\r\n        var _a;\r\n        this._brush.classed('active', false).call((_a = this._brushBehavior) === null || _a === void 0 ? void 0 : _a.clear);\r\n        this._nodesGroup.selectAll(`.${gNode}`)\r\n            .classed(brushable, false)\r\n            .classed(brushed, false)\r\n            .each(n => { n._state.brushed = false; })\r\n            .call(updateNodesPartial, this.config, 0, this._scale);\r\n    }\r\n    _shouldLayoutRecalculate() {\r\n        const { prevConfig, config } = this;\r\n        if (prevConfig.layoutType !== config.layoutType)\r\n            return true;\r\n        if (prevConfig.layoutNonConnectedAside !== config.layoutNonConnectedAside)\r\n            return true;\r\n        if (prevConfig.layoutType === GraphLayoutType.Force) {\r\n            const forceSettingsDiff = shallowDiff(prevConfig.forceLayoutSettings, config.forceLayoutSettings);\r\n            if (Object.keys(forceSettingsDiff).length)\r\n                return true;\r\n        }\r\n        if (prevConfig.layoutType === GraphLayoutType.Dagre) {\r\n            const dagreSettingsDiff = shallowDiff(prevConfig.dagreLayoutSettings, config.dagreLayoutSettings);\r\n            if (Object.keys(dagreSettingsDiff).length)\r\n                return true;\r\n        }\r\n        if (prevConfig.layoutType === GraphLayoutType.Elk) {\r\n            if (isPlainObject(prevConfig.layoutElkSettings) && isPlainObject(config.layoutElkSettings)) {\r\n                // Do a deeper comparison if `config.layoutElkSettings` is an object\r\n                const elkSettingsDiff = shallowDiff(prevConfig.layoutElkSettings, config.layoutElkSettings);\r\n                return Boolean(Object.keys(elkSettingsDiff).length);\r\n            }\r\n            else {\r\n                // Otherwise, do a simple `===` comparison\r\n                return prevConfig.layoutElkSettings !== config.layoutElkSettings;\r\n            }\r\n        }\r\n        if (prevConfig.layoutType === GraphLayoutType.Parallel ||\r\n            prevConfig.layoutType === GraphLayoutType.ParallelHorizontal ||\r\n            prevConfig.layoutType === GraphLayoutType.Concentric) {\r\n            if (!isEqual(prevConfig.layoutGroupOrder, config.layoutGroupOrder))\r\n                return true;\r\n            if (prevConfig.layoutParallelNodesPerColumn !== config.layoutParallelNodesPerColumn)\r\n                return true;\r\n            if (prevConfig.layoutParallelSortConnectionsByGroup !== config.layoutParallelSortConnectionsByGroup)\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n    _getLinkArrowDefId(arrow) {\r\n        return arrow ? `${this.uid}-${arrow}` : null;\r\n    }\r\n    _addSVGDefs() {\r\n        // Clean up old defs\r\n        this._defs.selectAll('*').remove();\r\n        // Single Arrow\r\n        this._defs.append('path').attr('d', getArrowPath())\r\n            .attr('id', this._getLinkArrowDefId(GraphLinkArrowStyle.Single));\r\n        // Double Arrow\r\n        this._defs.append('path').attr('d', getDoubleArrowPath())\r\n            .attr('id', this._getLinkArrowDefId(GraphLinkArrowStyle.Double));\r\n    }\r\n    zoomIn(increment = 0.3) {\r\n        const scaleBy = 1 + increment;\r\n        smartTransition(this.g, this.config.duration / 2)\r\n            .call(this._zoomBehavior.scaleBy, scaleBy);\r\n    }\r\n    zoomOut(increment = 0.3) {\r\n        const scaleBy = 1 - increment;\r\n        smartTransition(this.g, this.config.duration / 2)\r\n            .call(this._zoomBehavior.scaleBy, scaleBy);\r\n    }\r\n    setZoom(zoomLevel) {\r\n        smartTransition(this.g, this.config.duration / 2)\r\n            .call(this._zoomBehavior.scaleTo, zoomLevel);\r\n    }\r\n    getZoom() {\r\n        return zoomTransform(this.g.node()).k;\r\n    }\r\n    fitView(duration = this.config.duration, nodeIds, alignment) {\r\n        var _a;\r\n        (_a = this._layoutCalculationPromise) === null || _a === void 0 ? void 0 : _a.then(() => {\r\n            this._fit(duration, nodeIds, alignment);\r\n        });\r\n    }\r\n    /** Enable automatic fitting to container if it was disabled due to previous zoom / pan interactions */\r\n    resetAutofitState() {\r\n        this._isAutoFitDisabled = false;\r\n    }\r\n    /** Get current coordinates of the nodes as an array of { id: string; x: number; y: number } objects */\r\n    getNodesCoordinates() {\r\n        const { datamodel: { nodes } } = this;\r\n        return nodes.map(n => ({\r\n            id: n._id,\r\n            x: n.x,\r\n            y: n.y,\r\n        }));\r\n    }\r\n    /** Get node coordinates by id as { id: string; x: number; y: number } */\r\n    getNodeCoordinatesById(id) {\r\n        const { datamodel: { nodes } } = this;\r\n        const node = nodes.find(n => n._id === id);\r\n        if (!node) {\r\n            console.warn(`Unovis | Graph: Node ${id} not found`);\r\n            return undefined;\r\n        }\r\n        else {\r\n            return {\r\n                id: node._id,\r\n                x: node.x,\r\n                y: node.y,\r\n            };\r\n        }\r\n    }\r\n    /** Set the node state by id */\r\n    setNodeStateById(nodeId, state) {\r\n        this.datamodel.setNodeStateById(nodeId, state);\r\n    }\r\n    /** Call a partial render to update the positions of the nodes and their links.\r\n      * This can be useful when you've changed the node positions manually outside\r\n      * of the component and want to update the graph.\r\n    */\r\n    updateNodePositions(duration) {\r\n        const { config } = this;\r\n        const animDuration = isNumber(duration) ? duration : config.duration;\r\n        const linkElements = this._linksGroup.selectAll(`.${gLink}:not(.${gLinkExit}`);\r\n        updateLinkLines(linkElements, config, animDuration, this._scale, this._getLinkArrowDefId, this._linkPathLengthMap);\r\n        const nodeElements = this._nodesGroup.selectAll(`.${gNode}:not(.${gNodeExit})`);\r\n        updateNodePositions(nodeElements, animDuration);\r\n    }\r\n}\r\nGraph.selectors = {\r\n    root: root,\r\n    graphGroup: graphGroup,\r\n    background: background,\r\n    node: gNode,\r\n    nodeShape: node,\r\n    nodeGauge: nodeGauge,\r\n    nodeSideLabel: sideLabelGroup,\r\n    nodeLabel: label,\r\n    dimmedNode: greyedOutNode,\r\n    link: gLink,\r\n    linkLine: link,\r\n    linkLabel: linkLabelGroup,\r\n    dimmedLink: greyedOutLink,\r\n    panel: gPanel,\r\n    panelRect: panel,\r\n    panelSelection: panelSelection,\r\n    panelLabel: label$1,\r\n    panelLabelText: labelText,\r\n    panelSideIcon: sideIconGroup,\r\n    panelSideIconShape: sideIconShape,\r\n    panelSideIconSymbol: sideIconSymbol,\r\n};\r\nGraph.nodeSelectors = style;\n\nexport { Graph };\n\n", "import { VisControlsOrientation } from './types.js';\n\n// Local Types\r\nconst VisControlsDefaultConfig = {\r\n    items: [],\r\n    orientation: VisControlsOrientation.Horizontal,\r\n};\n\nexport { VisControlsDefaultConfig };\n\n", "import { css, injectGlobal } from '@emotion/css';\nimport { UNOVIS_ICON_FONT_FAMILY_DEFAULT } from '../../styles/index.js';\n\nconst root = css `\n  label: vis-controls-component;\n`;\r\nconst variables = injectGlobal `\n  :root {\n    --vis-controls-buttons-border-color: rgba(108, 119, 140, 0.15);\n    --vis-controls-buttons-background-color: rgba(255, 255, 255, 1);\n    --vis-controls-button-color: #6c778c;\n    --vis-controls-button-icon-font: ${UNOVIS_ICON_FONT_FAMILY_DEFAULT};\n\n    --vis-dark-controls-buttons-border-color:  #6c778c;\n    --vis-dark-controls-buttons-background-color: var(--vis-color-grey);\n    --vis-dark-controls-button-color: #fff;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-controls-buttons-border-color: var(--vis-dark-controls.buttons-border-color);\n    --vis-controls-buttons-background-color: var(--vis-dark-controls-buttons-background-color);\n    --vis-controls-button-color: var(--vis-dark-controls-button-color);\n  }\n`;\r\nconst items = css `\n  label: items;\n  background-color: var(--vis-controls-buttons-background-color);\n  border: 1px solid var(--vis-controls-buttons-border-color);\n  border-radius: 4px;\n  opacity: 1;\n  transition: all 300ms;\n`;\r\nconst horizontalItems = css `\n  label: horizontal;\n  display: inline-flex;\n`;\r\nconst item = css `\n  label: item;\n`;\r\nconst itemButton = css `\n  label: item-button;\n  font-family: var(--vis-controls-button-icon-font);\n  display: block;\n  cursor: pointer;\n  user-select: none;\n  outline: none;\n  width: 30px;\n  height: 30px;\n  line-height: 28px;\n  border: none;\n  border-radius: inherit;\n  box-sizing: border-box;\n  color: var(--vis-controls-button-color);\n  background-color: inherit;\n`;\r\nconst borderLeft = css `\n  border-left: 1px solid var(--vis-controls-buttons-border-color);\n`;\r\nconst borderTop = css `\n  border-top: 1px solid var(--vis-controls-buttons-border-color);\n`;\r\nconst borderRight = css `\n  border-right: 1px solid var(--vis-controls-buttons-border-color);\n`;\r\nconst borderBottom = css `\n  border-bottom: 1px solid var(--vis-controls-buttons-border-color);\n`;\r\nconst disabled = css `\n  label: disabled;\n  opacity: 0.4;\n  pointer-events: none;\n`;\n\nexport { borderBottom, borderLeft, borderRight, borderTop, disabled, horizontalItems, item, itemButton, items, root, variables };\n\n", "import { select } from 'd3-selection';\nimport { merge } from '../../utils/data.js';\nimport { VisControlsOrientation } from './types.js';\nimport { VisControlsDefaultConfig } from './config.js';\nimport { root, items, horizontalItems, item, itemButton, borderLeft, borderTop, borderRight, borderBottom, disabled } from './style.js';\n\nclass VisControls {\r\n    constructor(element, config) {\r\n        this._defaultConfig = VisControlsDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this._container = element;\r\n        this.div = select(this._container)\r\n            .append('div')\r\n            .attr('class', root);\r\n        this.element = this.div.node();\r\n        this._items = this.div.append('div')\r\n            .attr('class', items);\r\n        if (config)\r\n            this.update(config);\r\n    }\r\n    update(config) {\r\n        this.config = merge(this._defaultConfig, config);\r\n        this.render();\r\n    }\r\n    render() {\r\n        const { config: { items, orientation } } = this;\r\n        this._items\r\n            .classed(horizontalItems, orientation === VisControlsOrientation.Horizontal);\r\n        const controlItems = this._items.selectAll(`.${item}`)\r\n            .data(items);\r\n        const controlItemsEnter = controlItems.enter()\r\n            .append('div')\r\n            .attr('class', item)\r\n            .on('click', this._onItemClick.bind(this));\r\n        controlItemsEnter.append('button')\r\n            .attr('class', itemButton);\r\n        const controlItemsMerged = controlItemsEnter.merge(controlItems);\r\n        controlItemsMerged\r\n            .classed(borderLeft, d => d.borderLeft)\r\n            .classed(borderTop, d => d.borderTop)\r\n            .classed(borderRight, d => d.borderRight)\r\n            .classed(borderBottom, d => d.borderBottom)\r\n            .classed(disabled, d => d.disabled);\r\n        controlItemsMerged.select(`.${itemButton}`)\r\n            .html(item => item.icon);\r\n        controlItems.exit().remove();\r\n    }\r\n    _onItemClick(event, item) {\r\n        var _a;\r\n        (_a = item.callback) === null || _a === void 0 ? void 0 : _a.call(item, event);\r\n    }\r\n}\n\nexport { VisControls };\n\n", "import { ComponentDefaultConfig } from '../../core/component/config.js';\n\n// Core\r\nconst DonutDefaultConfig = Object.assign(Object.assign({}, ComponentDefaultConfig), { id: (d, i) => { var _a; return (_a = d.id) !== null && _a !== void 0 ? _a : i; }, value: undefined, angleRange: [0, 2 * Math.PI], padAngle: 0, sortFunction: undefined, cornerRadius: 0, color: undefined, radius: undefined, arcWidth: 20, centralLabel: undefined, centralSubLabel: undefined, centralSubLabelWrap: true, showEmptySegments: false, emptySegmentAngle: 0.5 * Math.PI / 180, showBackground: true, backgroundAngleRange: undefined, centralLabelOffsetX: undefined, centralLabelOffsetY: undefined });\n\nexport { DonutDefaultConfig };\n\n", "import { interpolate } from 'd3-interpolate';\nimport { getColor } from '../../../utils/color.js';\nimport { smartTransition } from '../../../utils/d3.js';\n\nfunction createArc(selection, config) {\r\n    selection\r\n        .style('fill', d => getColor(d.data, config.color, d.index))\r\n        .style('opacity', 0)\r\n        .each((d, i, els) => {\r\n        const arcNode = els[i];\r\n        const angleCenter = (d.startAngle + d.endAngle) / 2;\r\n        const angleHalfWidth = (d.endAngle - d.startAngle) / 2;\r\n        arcNode._animState = {\r\n            startAngle: angleCenter - angleHalfWidth,\r\n            endAngle: angleCenter + angleHalfWidth,\r\n            innerRadius: d.innerRadius,\r\n            outerRadius: d.outerRadius,\r\n            padAngle: d.padAngle,\r\n        };\r\n    });\r\n}\r\nfunction updateArc(selection, config, arcGen, duration) {\r\n    selection\r\n        .style('transition', `fill ${duration}ms`) // Animate color with CSS because we're using CSS-variables\r\n        .style('fill', d => getColor(d.data, config.color, d.index));\r\n    const setOpacity = (d) => (config.showEmptySegments || d.value) ? 1 : 0;\r\n    if (duration) {\r\n        const transition = smartTransition(selection, duration)\r\n            .style('opacity', setOpacity);\r\n        transition.attrTween('d', (d, i, els) => {\r\n            const arcNode = els[i];\r\n            const nextAnimState = {\r\n                startAngle: d.startAngle,\r\n                endAngle: d.endAngle,\r\n                innerRadius: d.innerRadius,\r\n                outerRadius: d.outerRadius,\r\n                padAngle: d.padAngle,\r\n            };\r\n            const datum = interpolate(arcNode._animState, nextAnimState);\r\n            return (t) => {\r\n                arcNode._animState = datum(t);\r\n                return arcGen(arcNode._animState);\r\n            };\r\n        });\r\n    }\r\n    else {\r\n        selection\r\n            .attr('d', arcGen)\r\n            .style('opacity', setOpacity);\r\n    }\r\n}\r\nfunction removeArc(selection, duration) {\r\n    smartTransition(selection, duration)\r\n        .style('opacity', 0)\r\n        .remove();\r\n}\n\nexport { createArc, removeArc, updateArc };\n\n", "const DONUT_HALF_ANGLE_RANGES = Array.from({ length: 4 }, (_, i) => {\r\n    const offset = -Math.PI / 2 + i * Math.PI / 2;\r\n    return [offset, offset + Math.PI];\r\n});\r\nconst [DONUT_HALF_ANGLE_RANGE_TOP, DONUT_HALF_ANGLE_RANGE_RIGHT, DONUT_HALF_ANGLE_RANGE_BOTTOM, DONUT_HALF_ANGLE_RANGE_LEFT,] = DONUT_HALF_ANGLE_RANGES;\n\nexport { DONUT_HALF_ANGLE_RANGES, DONUT_HALF_ANGLE_RANGE_BOTTOM, DONUT_HALF_ANGLE_RANGE_LEFT, DONUT_HALF_ANGLE_RANGE_RIGHT, DONUT_HALF_ANGLE_RANGE_TOP };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst root = css `\n  label: donut-component;\n`;\r\nconst variables = injectGlobal `\n  :root {\n    --vis-donut-central-label-font-size: 16px;\n    --vis-donut-central-label-text-color: #5b5f6d;\n    // Undefined by default to allow proper fallback to var(--vis-font-family)\n    /* --vis-donut-central-label-font-family: */\n    --vis-donut-central-label-font-weight: 600;\n\n    --vis-donut-central-sub-label-font-size: 12px;\n    --vis-donut-central-sub-label-text-color: #5b5f6d;\n    // Undefined by default to allow proper fallback to var(--vis-font-family)\n    /* --vis-donut-central-sub-label-font-family: */\n    --vis-donut-central-sub-label-font-weight: 500;\n\n    --vis-donut-background-color: #E7E9F3;\n    --vis-donut-segment-stroke-width: 0;\n    // The line segment color variable is not defined by default\n    // to allow it to fallback to the donut background color\n    /* --vis-donut-segment-stroke-color: none; */\n\n    --vis-dark-donut-central-label-text-color: #C2BECE;\n    --vis-dark-donut-central-sub-label-text-color: #C2BECE;\n    --vis-dark-donut-background-color: #18160C;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-donut-central-label-text-color: var(--vis-dark-donut-central-label-text-color);\n    --vis-donut-central-sub-label-text-color: var(--vis-dark-donut-central-sub-label-text-color);\n    --vis-donut-background-color: var(--vis-dark-donut-background-color);\n  }\n`;\r\nconst background = css `\n  label: background;\n  fill: var(--vis-donut-background-color);\n`;\r\nconst segment = css `\n  label: segment;\n  stroke-width: var(--vis-donut-segment-stroke-width);\n  stroke: var(--vis-donut-segment-stroke-color, var(--vis-donut-background-color));\n`;\r\nconst segmentExit = css `\n  label: segment-exit;\n`;\r\nconst centralLabel = css `\n  label: central-label;\n  text-anchor: middle;\n  dominant-baseline: middle;\n  font-size: var(--vis-donut-central-label-font-size);\n  font-family: var(--vis-donut-central-label-font-family, var(--vis-font-family));\n  font-weight: var(--vis-donut-central-label-font-weight);\n  fill: var(--vis-donut-central-label-text-color);\n`;\r\nconst centralSubLabel = css `\n  label: central-label;\n  text-anchor: middle;\n  dominant-baseline: middle;\n  font-size: var(--vis-donut-central-sub-label-font-size);\n  font-family: var(--vis-donut-central-sub-label-font-family, var(--vis-font-family));\n  font-weight: var(--vis-donut-central-sub-label-font-weight);\n  fill: var(--vis-donut-central-sub-label-text-color);\n`;\n\nexport { background, centralLabel, centralSubLabel, root, segment, segmentExit, variables };\n\n", "import { arc, pie } from 'd3-shape';\nimport { ComponentCore } from '../../core/component/index.js';\nimport { SeriesDataModel } from '../../data-models/series.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { getNumber, isNumber, clamp } from '../../utils/data.js';\nimport { wrapSVGText } from '../../utils/text.js';\nimport { DonutDefaultConfig } from './config.js';\nimport { createArc, updateArc, removeArc } from './modules/arc.js';\nimport { DONUT_HALF_ANGLE_RANGES } from './constants.js';\nimport * as style from './style.js';\nimport { centralLabel, centralSubLabel, segment, segmentExit, background } from './style.js';\n\nclass Donut extends ComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = DonutDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.datamodel = new SeriesDataModel();\r\n        this.arcGen = arc();\r\n        this.events = {};\r\n        if (config)\r\n            this.setConfig(config);\r\n        this.arcBackground = this.g.append('path');\r\n        this.arcGroup = this.g.append('g');\r\n        this.centralLabel = this.g.append('text')\r\n            .attr('class', centralLabel);\r\n        this.centralSubLabel = this.g.append('text')\r\n            .attr('class', centralSubLabel);\r\n    }\r\n    get bleed() {\r\n        return { top: 0, bottom: 0, left: 0, right: 0 };\r\n    }\r\n    _render(customDuration) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\r\n        const { config, datamodel, bleed } = this;\r\n        // Wrap data to preserve original indices\r\n        const data = datamodel.data\r\n            .map((d, i) => ({\r\n            index: i,\r\n            datum: d,\r\n        }))\r\n            .filter(d => config.showEmptySegments || getNumber(d.datum, config.value, d.index));\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        // Handle half-donut cases, which adjust the scaling and positioning.\r\n        // One of these is true if we are dealing with a half-donut.\r\n        const [isHalfDonutTop, isHalfDonutRight, isHalfDonutBottom, isHalfDonutLeft,] = DONUT_HALF_ANGLE_RANGES.map(angleRange => config.angleRange && (config.angleRange[0] === angleRange[0] &&\r\n            config.angleRange[1] === angleRange[1]));\r\n        const isVerticalHalfDonut = isHalfDonutTop || isHalfDonutBottom;\r\n        const isHorizontalHalfDonut = isHalfDonutRight || isHalfDonutLeft;\r\n        // Compute the bounding box of the donut,\r\n        // considering it may be a half-donut\r\n        const width = this._width * (isHorizontalHalfDonut ? 2 : 1);\r\n        const height = this._height * (isVerticalHalfDonut ? 2 : 1);\r\n        const outerRadius = config.radius || Math.min(width - bleed.left - bleed.right, height - bleed.top - bleed.bottom) / 2;\r\n        const innerRadius = config.arcWidth === 0 ? 0 : clamp(outerRadius - config.arcWidth, 0, outerRadius - 1);\r\n        const translateY = this._height / 2 + (isHalfDonutTop ? outerRadius / 2 : isHalfDonutBottom ? -outerRadius / 2 : 0);\r\n        const translateX = this._width / 2 + (isHalfDonutLeft ? outerRadius / 2 : isHalfDonutRight ? -outerRadius / 2 : 0);\r\n        const translate = `translate(${translateX},${translateY})`;\r\n        this.arcGroup.attr('transform', translate);\r\n        this.arcGen\r\n            .startAngle(d => d.startAngle)\r\n            .endAngle(d => d.endAngle)\r\n            .innerRadius(d => d.innerRadius)\r\n            .outerRadius(d => d.outerRadius)\r\n            .padAngle(d => d.padAngle)\r\n            .cornerRadius(config.cornerRadius);\r\n        const pieGen = pie()\r\n            .startAngle((_b = (_a = config.angleRange) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : 0)\r\n            .endAngle((_d = (_c = config.angleRange) === null || _c === void 0 ? void 0 : _c[1]) !== null && _d !== void 0 ? _d : 2 * Math.PI)\r\n            .padAngle(config.padAngle)\r\n            .value(d => getNumber(d.datum, config.value, d.index) || 0)\r\n            .sort((a, b) => { var _a; return (_a = config.sortFunction) === null || _a === void 0 ? void 0 : _a.call(config, a.datum, b.datum); });\r\n        const arcData = pieGen(data).map(d => {\r\n            const arc = Object.assign(Object.assign({}, d), { data: d.data.datum, index: d.data.index, innerRadius,\r\n                outerRadius });\r\n            if (config.showEmptySegments && d.endAngle - d.startAngle - d.padAngle <= Number.EPSILON) {\r\n                arc.endAngle = d.startAngle + Math.max(config.emptySegmentAngle, config.padAngle);\r\n                arc.padAngle = d.padAngle / 2;\r\n            }\r\n            return arc;\r\n        });\r\n        // Arc segments\r\n        const arcsSelection = this.arcGroup\r\n            .selectAll(`.${segment}`)\r\n            .data(arcData, (d) => config.id(d.data, d.index));\r\n        const arcsEnter = arcsSelection.enter().append('path')\r\n            .attr('class', segment)\r\n            .call(createArc, config);\r\n        const arcsMerged = arcsSelection.merge(arcsEnter);\r\n        arcsMerged.call(updateArc, config, this.arcGen, duration);\r\n        arcsMerged.sort((a, b) => b.value - a.value);\r\n        arcsSelection.exit()\r\n            .attr('class', segmentExit)\r\n            .call(removeArc, duration);\r\n        // Label\r\n        const labelTextAnchor = isHalfDonutRight ? 'start' : isHalfDonutLeft ? 'end' : 'middle';\r\n        this.centralLabel\r\n            .attr('dy', config.centralSubLabel ? '-0.55em' : null)\r\n            .style('text-anchor', labelTextAnchor)\r\n            .text((_e = config.centralLabel) !== null && _e !== void 0 ? _e : null);\r\n        this.centralSubLabel\r\n            .attr('dy', config.centralLabel ? '0.55em' : null)\r\n            .style('text-anchor', labelTextAnchor)\r\n            .text((_f = config.centralSubLabel) !== null && _f !== void 0 ? _f : null);\r\n        if (config.centralSubLabelWrap)\r\n            wrapSVGText(this.centralSubLabel, innerRadius * 1.9);\r\n        // Label placement\r\n        const labelTranslateX = (config.centralLabelOffsetX || 0) + translateX;\r\n        let labelTranslateY = (config.centralLabelOffsetY || 0) + translateY;\r\n        // Special case label placement for half donut\r\n        if (isVerticalHalfDonut && config.centralLabelOffsetX === undefined && config.centralLabelOffsetY === undefined) {\r\n            const halfDonutLabelOffsetY = isHalfDonutTop\r\n                ? -this.centralSubLabel.node().getBoundingClientRect().height\r\n                : isHalfDonutBottom\r\n                    ? this.centralLabel.node().getBoundingClientRect().height\r\n                    : 0;\r\n            labelTranslateY = halfDonutLabelOffsetY + translateY;\r\n        }\r\n        const labelTranslate = `translate(${labelTranslateX},${labelTranslateY})`;\r\n        this.centralLabel.attr('transform', labelTranslate);\r\n        this.centralSubLabel.attr('transform', labelTranslate);\r\n        // Background\r\n        this.arcBackground.attr('class', background)\r\n            .attr('visibility', config.showBackground ? null : 'hidden')\r\n            .attr('transform', translate);\r\n        smartTransition(this.arcBackground, duration)\r\n            .attr('d', this.arcGen({\r\n            startAngle: (_k = (_h = (_g = config.backgroundAngleRange) === null || _g === void 0 ? void 0 : _g[0]) !== null && _h !== void 0 ? _h : (_j = config.angleRange) === null || _j === void 0 ? void 0 : _j[0]) !== null && _k !== void 0 ? _k : 0,\r\n            endAngle: (_p = (_m = (_l = config.backgroundAngleRange) === null || _l === void 0 ? void 0 : _l[1]) !== null && _m !== void 0 ? _m : (_o = config.angleRange) === null || _o === void 0 ? void 0 : _o[1]) !== null && _p !== void 0 ? _p : 2 * Math.PI,\r\n            innerRadius,\r\n            outerRadius,\r\n        }));\r\n    }\r\n}\r\nDonut.selectors = style;\n\nexport { Donut };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { FreeBrushMode } from './types.js';\n\nconst FreeBrushDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { \r\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function */\r\n    onBrush: (s, e, userDriven) => { }, \r\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function */\r\n    onBrushStart: (s, e, userDriven) => { }, \r\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function */\r\n    onBrushMove: (s, e, userDriven) => { }, \r\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function */\r\n    onBrushEnd: (s, e, userDriven) => { }, handleWidth: 1, selection: undefined, selectionMinLength: undefined, mode: FreeBrushMode.X, autoHide: true });\n\nexport { FreeBrushDefaultConfig };\n\n", "import { css, injectGlobal } from '@emotion/css';\n\nconst root = css `\n  label: free-brush-component;\n`;\r\nconst variables = injectGlobal `\n  :root {\n    --vis-free-brush-selection-fill-color: #0b1640;\n    --vis-free-brush-selection-fill-opacity: 0.4;\n    --vis-free-brush-selection-stroke-color: #acb2b9;\n    --vis-free-brush-handle-fill-color: #6d778c;\n    --vis-free-brush-handle-stroke-color: none;\n\n    --vis-dark-free-brush-selection-fill-color: #344174;\n    --vis-dark-free-brush-selection-stroke-color: #0b1640;\n    --vis-dark-free-brush-handle-fill-color: #6d778c;\n  }\n\n  body.theme-dark ${`.${root}`} {\n    --vis-free-brush-selection-fill-color: var(--vis-dark-free-brush-selection-fill-color);\n    --vis-free-brush-selection-stroke-color: var(--vis-dark-free-brush-selection-stroke-color);\n    --vis-free-brush-handle-fill-color: var(--vis-dark-free-brush-selection-fill-color);\n  }\n`;\r\nconst brush = css `\n  label: brush;\n  fill: none;\n  stroke: none;\n\n  .selection {\n    fill: var(--vis-free-brush-selection-fill-color);\n    fill-opacity: var(--vis-free-brush-selection-fill-opacity);\n    stroke: var(--vis-free-brush-selection-stroke-color);\n    stroke-width: 0;\n    stroke-opacity: 0;\n  }\n\n  .handle {\n    fill: var(--vis-free-brush-handle-fill-color);\n    stroke: var(--vis-free-brush-handle-stroke-color);\n  }\n`;\r\nconst hide = css `\n  .selection, .handle {\n    display: none;\n  }\n`;\n\nexport { brush, hide, root, variables };\n\n", "import { brush as brush$1, brushY, brushX } from 'd3-brush';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { isNumber, isArray, clamp } from '../../utils/data.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { FreeBrushMode } from './types.js';\nimport { FreeBrushDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { brush, hide } from './style.js';\n\nclass FreeBrush extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = FreeBrushDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this._firstRender = true;\r\n        if (config)\r\n            this.setConfig(config);\r\n        this.brush = this.g\r\n            .append('g')\r\n            .attr('class', brush);\r\n    }\r\n    _render(customDuration) {\r\n        const { config } = this;\r\n        const xScale = this.xScale;\r\n        const yScale = this.yScale;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        if (this._firstRender)\r\n            this.brush.classed(hide, this._firstRender && config.autoHide);\r\n        // Sometimes Brush stops emitting 'start' and 'end' events. Possible explanation:\r\n        // \"... mouseup will only fire when performed within the browser, which can lead to losing track of the button state.\"\r\n        // https://stackoverflow.com/a/48970682\r\n        //\r\n        // D3 code related to the problem:\r\n        // https://github.com/d3/d3-brush/blob/ec2bce6f15074a9ead7f9a84c61335be51c123a3/src/brush.js#L301\r\n        //\r\n        // We're clearing brush's event emitter state to force it to get re-initialized\r\n        // Caveat of this solution: If you're doing a brush selection and a render happens\r\n        // (e.g. due to a data or config update), it'll reset the brush.\r\n        //\r\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n        // @ts-ignore\r\n        if (this.brush.node().__brush)\r\n            this.brush.node().__brush.emitter = undefined;\r\n        this.brushBehaviour = this._getBrushBehaviour(config.mode);\r\n        this.brushBehaviour\r\n            .handleSize(config.handleWidth)\r\n            .extent([[0, 0], [this._width, this._height]])\r\n            .on('start', this._onBrushStart.bind(this))\r\n            .on('brush', this._onBrushMove.bind(this))\r\n            .on('end', this._onBrushEnd.bind(this));\r\n        this.brush\r\n            .call(this.brushBehaviour);\r\n        // Calculate the brush range from configured selection and apply it\r\n        let brushRange;\r\n        switch (config.mode) {\r\n            case FreeBrushMode.XY: {\r\n                const selection = config.selection;\r\n                const xSelectionRange = this._dataRangeToPixelRange([selection === null || selection === void 0 ? void 0 : selection[0][0], selection === null || selection === void 0 ? void 0 : selection[0][1]], xScale);\r\n                const ySelectionRange = this._dataRangeToPixelRange([selection === null || selection === void 0 ? void 0 : selection[1][0], selection === null || selection === void 0 ? void 0 : selection[1][1]], yScale, true);\r\n                brushRange = (xSelectionRange && ySelectionRange) ? [[xSelectionRange[0], ySelectionRange[0]], [xSelectionRange[1], ySelectionRange[1]]] : null;\r\n                break;\r\n            }\r\n            case FreeBrushMode.X:\r\n            case FreeBrushMode.Y:\r\n            default: {\r\n                const scale = config.mode === FreeBrushMode.Y ? yScale : xScale;\r\n                brushRange = this._dataRangeToPixelRange(config.selection, scale, config.mode === FreeBrushMode.Y);\r\n            }\r\n        }\r\n        smartTransition(this.brush, duration)\r\n            .call(this.brushBehaviour.move, brushRange) // Sets up the brush and calls brush events\r\n            .on('end interrupt', () => { this._firstRender = false; });\r\n        if (!duration)\r\n            this._firstRender = false;\r\n    }\r\n    _onBrush(event) {\r\n        const { config } = this;\r\n        const userDriven = !!(event === null || event === void 0 ? void 0 : event.sourceEvent);\r\n        // Selection from the brush events is in Screen Space (pixels)\r\n        // In case of two dimensional brush is comes as [ [xMinPx, yMinPx], [xMaxPx, yMaxPx] ],\r\n        //   while in the config we'll be storing it as [ [xMin, xMax], [yMin, yMax] ]\r\n        const s = (event === null || event === void 0 ? void 0 : event.selection);\r\n        if (!this._isSelectionValid(s)) {\r\n            config.selection = null;\r\n            return;\r\n        }\r\n        // Convert the raw brush selection from pixels to data units, store it in the config and trigger the onBrush callback\r\n        let selectedDomain;\r\n        switch (config.mode) {\r\n            case FreeBrushMode.XY: {\r\n                const selection = s;\r\n                const xSelection = this._pixelRangeToDataRange([selection[0][0], selection[1][0]], this.xScale, isArray(config.selectionMinLength) ? config.selectionMinLength[0] : config.selectionMinLength);\r\n                const ySelection = this._pixelRangeToDataRange([selection[0][1], selection[1][1]], this.yScale, isArray(config.selectionMinLength) ? config.selectionMinLength[1] : config.selectionMinLength, true);\r\n                selectedDomain = (xSelection && ySelection) ? [\r\n                    [xSelection === null || xSelection === void 0 ? void 0 : xSelection[0], xSelection === null || xSelection === void 0 ? void 0 : xSelection[1]],\r\n                    [ySelection === null || ySelection === void 0 ? void 0 : ySelection[0], ySelection === null || ySelection === void 0 ? void 0 : ySelection[1]],\r\n                ] : null;\r\n                break;\r\n            }\r\n            case FreeBrushMode.Y: {\r\n                selectedDomain = this._pixelRangeToDataRange(s, this.yScale, isArray(config.selectionMinLength) ? config.selectionMinLength[1] : config.selectionMinLength, true);\r\n                break;\r\n            }\r\n            case FreeBrushMode.X:\r\n            default: {\r\n                selectedDomain = this._pixelRangeToDataRange(s, this.xScale, isArray(config.selectionMinLength) ? config.selectionMinLength[0] : config.selectionMinLength);\r\n                break;\r\n            }\r\n        }\r\n        if (selectedDomain === null || selectedDomain[0] === null || selectedDomain[1] === null) {\r\n            this.brush.call(this.brushBehaviour.move, null);\r\n            return;\r\n        }\r\n        config.selection = selectedDomain;\r\n        if (!this._firstRender)\r\n            config.onBrush(selectedDomain, event, userDriven);\r\n    }\r\n    _pixelRangeToDataRange(selectionInPixels, scale, constraint, reversed) {\r\n        const selectedDomain = selectionInPixels.map(n => scale.invert(n));\r\n        if (reversed)\r\n            selectedDomain.reverse();\r\n        const domain = scale.domain();\r\n        const domainLength = Math.abs(domain[1] - domain[0]);\r\n        const selectionLength = Math.abs(selectedDomain[1] - selectedDomain[0]);\r\n        if (constraint >= domainLength) {\r\n            console.warn('Unovis | FreeBrush: Configured domain constraint is bigger than the brush domain');\r\n        }\r\n        if ((selectionLength < constraint) && (constraint < domainLength))\r\n            return null;\r\n        else\r\n            return selectedDomain;\r\n    }\r\n    _dataRangeToPixelRange(selectionInDataUnits, scale, reversed) {\r\n        var _a, _b;\r\n        if (!selectionInDataUnits)\r\n            return null;\r\n        const range = scale.range();\r\n        const s = [...selectionInDataUnits];\r\n        if (reversed) {\r\n            range.reverse();\r\n            s.reverse();\r\n        }\r\n        const selectionMin = clamp((_a = scale(s[0])) !== null && _a !== void 0 ? _a : 0, range[0], range[1]);\r\n        const selectionMax = clamp((_b = scale(s[1])) !== null && _b !== void 0 ? _b : 0, range[0], range[1]);\r\n        return (selectionMax - selectionMin) ? [selectionMin, selectionMax] : null;\r\n    }\r\n    _isSelectionValid(s) {\r\n        const { config } = this;\r\n        if (config.mode === FreeBrushMode.XY) {\r\n            return s && Array.isArray(s[0]) && Array.isArray(s[1]);\r\n        }\r\n        else {\r\n            return s && isNumber(s[0]) && isNumber(s[1]);\r\n        }\r\n    }\r\n    _getBrushBehaviour(mode) {\r\n        switch (mode) {\r\n            case FreeBrushMode.X: return brushX();\r\n            case FreeBrushMode.Y: return brushY();\r\n            default: return brush$1();\r\n        }\r\n    }\r\n    _onBrushStart(event) {\r\n        var _a;\r\n        const { config } = this;\r\n        const userDriven = !!(event === null || event === void 0 ? void 0 : event.sourceEvent);\r\n        this._onBrush(event);\r\n        if (config.autoHide && userDriven)\r\n            this.brush.classed(hide, false);\r\n        if (!this._firstRender)\r\n            (_a = config.onBrushStart) === null || _a === void 0 ? void 0 : _a.call(config, config.selection, event, userDriven);\r\n    }\r\n    _onBrushMove(event) {\r\n        var _a;\r\n        const { config } = this;\r\n        this._onBrush(event);\r\n        if (!this._firstRender)\r\n            (_a = config.onBrushMove) === null || _a === void 0 ? void 0 : _a.call(config, config.selection, event, !!(event === null || event === void 0 ? void 0 : event.sourceEvent));\r\n    }\r\n    _onBrushEnd(event) {\r\n        var _a;\r\n        const { config } = this;\r\n        this._onBrush(event);\r\n        if (config.autoHide)\r\n            this.brush.classed(hide, true);\r\n        if (!this._firstRender)\r\n            (_a = config.onBrushEnd) === null || _a === void 0 ? void 0 : _a.call(config, config.selection, event, !!(event === null || event === void 0 ? void 0 : event.sourceEvent));\r\n    }\r\n}\r\nFreeBrush.selectors = style;\n\nexport { FreeBrush };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { XYLabelPositioning } from './types.js';\n\n// Core\r\nconst XYLabelsDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { color: (d) => d.color, y: undefined, xPositioning: XYLabelPositioning.DataSpace, yPositioning: XYLabelPositioning.DataSpace, labelFontSize: undefined, label: undefined, backgroundColor: undefined, cursor: null, labelTextBrightnessRatio: 0.65, clustering: true, clusterLabel: (records) => records.length.toString(), clusterFontSize: undefined, clusterBackgroundColor: undefined, clusterCursor: undefined, clusterLabelColor: null });\n\nexport { XYLabelsDefaultConfig };\n\n", "import { select } from 'd3-selection';\nimport { mean } from 'd3-array';\nimport { color } from 'd3-color';\nimport { smartTransition } from '../../../utils/d3.js';\nimport { isStringCSSVariable, getCSSVariableValue, getCSSVariableValueInPixels } from '../../../utils/misc.js';\nimport { hexToBrightness, getColor } from '../../../utils/color.js';\nimport { getNumber, getString, getValue } from '../../../utils/data.js';\nimport { XYLabelPositioning } from '../types.js';\n\nfunction createLabels(selection) {\r\n    selection.attr('transform', d => `translate(${d._screen.x},${d._screen.y})`);\r\n    selection.append('rect').style('fill', d => d._screen.backgroundColor);\r\n    selection.append('text')\r\n        .style('text-anchor', 'middle')\r\n        .style('dominant-baseline', 'central')\r\n        .style('fill', d => d._screen.backgroundColor)\r\n        .style('pointer-events', 'none');\r\n    selection.attr('transform', d => `translate(${d._screen.x},${d._screen.y}) scale(0)`);\r\n}\r\nfunction updateLabels(selection, config, duration) {\r\n    selection.each((d, i, elements) => {\r\n        var _a, _b;\r\n        const group = select(elements[i]);\r\n        const text = group.select('text');\r\n        const rect = group.select('rect');\r\n        const backgroundColor = d._screen.backgroundColor;\r\n        const labelText = (_a = d._screen.labelText) !== null && _a !== void 0 ? _a : '';\r\n        const labelFontSize = d._screen.fontSize;\r\n        let labelColor = d._screen.labelColor;\r\n        // Label background\r\n        const backgroundHeight = labelFontSize * 1.7;\r\n        let backgroundWidth = labelFontSize * labelText.length * 0.7;\r\n        if (backgroundWidth < backgroundHeight)\r\n            backgroundWidth = backgroundHeight;\r\n        smartTransition(rect, duration)\r\n            .attr('width', backgroundWidth)\r\n            .attr('height', backgroundHeight)\r\n            .attr('x', -backgroundWidth / 2)\r\n            .attr('y', -backgroundHeight / 2)\r\n            .attr('rx', labelFontSize)\r\n            .attr('ry', labelFontSize)\r\n            .style('fill', backgroundColor);\r\n        // Label\r\n        if (!labelColor) {\r\n            const hex = (_b = color(isStringCSSVariable(backgroundColor) ? getCSSVariableValue(backgroundColor, group.node()) : backgroundColor)) === null || _b === void 0 ? void 0 : _b.hex();\r\n            const brightness = hexToBrightness(hex);\r\n            labelColor = brightness > config.labelTextBrightnessRatio\r\n                ? 'var(--vis-xy-label-text-color-dark)'\r\n                : 'var(--vis-xy-label-text-color-light)';\r\n        }\r\n        text.html(labelText)\r\n            .attr('font-size', labelFontSize);\r\n        smartTransition(text, duration)\r\n            .style('fill', labelColor);\r\n        rect.style('cursor', d._screen.cursor);\r\n    });\r\n    smartTransition(selection, duration)\r\n        .attr('transform', d => `translate(${d._screen.x},${d._screen.y}) scale(1)`);\r\n}\r\nfunction removeLabels(selection, duration) {\r\n    smartTransition(selection, duration)\r\n        .attr('transform', d => `translate(${d._screen.x},${d._screen.y}) scale(0)`)\r\n        .remove();\r\n}\r\nfunction getLabelPosition(value, positioning, scale) {\r\n    var _a;\r\n    switch (positioning) {\r\n        case XYLabelPositioning.DataSpace: return (_a = scale(value)) !== null && _a !== void 0 ? _a : 0;\r\n        case XYLabelPositioning.AbsolutePx: return value;\r\n        case XYLabelPositioning.AbsolutePercentage: {\r\n            const scaleRange = scale.range();\r\n            return scaleRange[0] + (scaleRange[1] - scaleRange[0]) * value / 100;\r\n        }\r\n    }\r\n}\r\nfunction getLabelRenderProps(data, el, config, xScale, yScale) {\r\n    var _a, _b;\r\n    const isCluster = Array.isArray(data);\r\n    const fontSize = isCluster\r\n        ? ((_a = getNumber(data, config.clusterFontSize)) !== null && _a !== void 0 ? _a : getCSSVariableValueInPixels('var(--vis-xy-label-cluster-font-size)', el))\r\n        : ((_b = getNumber(data, config.labelFontSize)) !== null && _b !== void 0 ? _b : getCSSVariableValueInPixels('var(--vis-xy-label-font-size)', el));\r\n    const labelText = (isCluster ? getString(data, config.clusterLabel) : getString(data, config.label)) || '';\r\n    const backgroundHeight = fontSize * 1.7;\r\n    let backgroundWidth = fontSize * labelText.length * 0.7;\r\n    if (backgroundWidth < backgroundHeight)\r\n        backgroundWidth = backgroundHeight;\r\n    const x = isCluster\r\n        ? mean(data, d => d._screen.x)\r\n        : getLabelPosition(getNumber(data, config.x), getValue(data, config.xPositioning), xScale);\r\n    const y = isCluster\r\n        ? mean(data, d => d._screen.y)\r\n        : getLabelPosition(getNumber(data, config.y), getValue(data, config.yPositioning), yScale);\r\n    return {\r\n        x,\r\n        y,\r\n        fontSize,\r\n        labelText,\r\n        labelColor: isCluster ? getColor(data, config.clusterLabelColor) : getColor(data, config.color),\r\n        backgroundColor: isCluster ? getColor(data, config.clusterBackgroundColor) : getColor(data, config.backgroundColor),\r\n        cursor: isCluster ? getString(data, config.clusterCursor) : getString(data, config.cursor),\r\n        width: backgroundWidth,\r\n        height: backgroundHeight,\r\n    };\r\n}\n\nexport { createLabels, getLabelPosition, getLabelRenderProps, removeLabels, updateLabels };\n\n", "import { injectGlobal, css } from '@emotion/css';\n\nconst globalStyles = injectGlobal `\n  :root {\n    --vis-xy-label-cursor: default;\n    // Undefined by default to allow proper fallback to var(--vis-color-main)\n    /* --vis-xy-label-fill-color */\n    --vis-xy-label-stroke-color: none;\n    --vis-xy-label-stroke-width: 0px;\n    --vis-xy-label-fill-opacity: 1;\n    --vis-xy-label-stroke-opacity: 1;\n    --vis-xy-label-hover-stroke-width: 1px;\n    --vis-xy-label-font-size: 12px;\n    --vis-xy-label-cluster-font-size: 14px;\n\n    --vis-xy-label-text-color-dark: #5b5f6d;\n    --vis-xy-label-text-color-light: #fff;\n    --vis-xy-label-text-font-weight: 500;\n  }\n`;\r\nconst root = css `\n  label: xy-labels-component;\n`;\r\nconst labelGroup = css `\n  label: label-g;\n\n  > rect, text {\n    cursor: var(--vis-xy-label-cursor);\n    fill: var(--vis-xy-label-fill-color, var(--vis-color-main));\n    fill-opacity: var(--vis-xy-label-fill-opacity);\n    stroke-opacity: var(--vis-xy-label-stroke-opacity);\n  }\n\n  > text {\n    font-weight: var(--vis-xy-label-text-font-weight);\n    user-select: none;\n  }\n\n  > rect {\n    stroke-width: var(--vis-xy-label-stroke-width);\n    stroke: var(--vis-xy-label-stroke-color);\n\n    &:hover {\n        stroke-width: var(--vis-xy-label-hover-stroke-width);\n    }\n  }\n`;\r\nconst cluster = css `\n  label: cluster;\n`;\r\nconst label = css `\n  label: label;\n`;\n\nexport { cluster, globalStyles, label, labelGroup, root };\n\n", "import { XYComponentCore } from '../../core/xy-component/index.js';\nimport { isNumber, getValue, isNumberWithinRange } from '../../utils/data.js';\nimport { rectIntersect } from '../../utils/misc.js';\nimport { XYLabelPositioning } from './types.js';\nimport { XYLabelsDefaultConfig } from './config.js';\nimport { removeLabels, createLabels, updateLabels, getLabelRenderProps } from './modules/label.js';\nimport * as style from './style.js';\nimport { labelGroup, cluster, label } from './style.js';\n\n// Core\r\nclass XYLabels extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this.clippable = false;\r\n        this._defaultConfig = XYLabelsDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.events = {\r\n            [XYLabels.selectors.label]: {},\r\n        };\r\n        if (config)\r\n            this.setConfig(config);\r\n    }\r\n    _render(customDuration) {\r\n        const { config } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        const labelGroups = this.g\r\n            .selectAll(`.${labelGroup}`)\r\n            .data(this._getDataToRender());\r\n        const labelGroupsExit = labelGroups.exit();\r\n        removeLabels(labelGroupsExit, duration);\r\n        const labelGroupsEnter = labelGroups.enter().append('g')\r\n            .attr('class', labelGroup)\r\n            .call(createLabels);\r\n        const labelGroupsMerged = labelGroupsEnter\r\n            .merge(labelGroups)\r\n            .classed(cluster, d => !!d.records)\r\n            .classed(label, d => !d.records);\r\n        labelGroupsMerged.call(updateLabels, config, duration);\r\n    }\r\n    _getDataToRender() {\r\n        var _a, _b;\r\n        const { config, datamodel } = this;\r\n        const xRange = this.xScale.range();\r\n        const yRange = this.yScale.range();\r\n        const labels = (_b = (_a = datamodel.data) === null || _a === void 0 ? void 0 : _a.reduce((acc, d) => {\r\n            const xPositioning = getValue(d, config.xPositioning);\r\n            const yPositioning = getValue(d, config.yPositioning);\r\n            const props = getLabelRenderProps(d, this.element, config, this.xScale, this.yScale);\r\n            if (((xPositioning !== XYLabelPositioning.DataSpace) || isNumberWithinRange(props.x, xRange)) &&\r\n                ((yPositioning !== XYLabelPositioning.DataSpace) || isNumberWithinRange(props.y, yRange))) {\r\n                acc.push(Object.assign(Object.assign({}, d), { _screen: props }));\r\n            }\r\n            return acc;\r\n        }, [])) !== null && _b !== void 0 ? _b : [];\r\n        return config.clustering ? this._getClusteredLabels(labels) : labels;\r\n    }\r\n    _getClusteredLabels(labels) {\r\n        const labelsNonOverlapping = [...labels];\r\n        const clusterMap = new Map();\r\n        for (let i = 0; i < labelsNonOverlapping.length; i += 1) {\r\n            const label1 = labelsNonOverlapping[i];\r\n            for (let j = i + 1; j < labelsNonOverlapping.length; j += 1) {\r\n                const label2 = labelsNonOverlapping[j];\r\n                const isIntersecting = rectIntersect(label1._screen, label2._screen);\r\n                if (isIntersecting) {\r\n                    if (!clusterMap.has(label1))\r\n                        clusterMap.set(label1, [label1]);\r\n                    clusterMap.get(label1).push(label2);\r\n                    labelsNonOverlapping.splice(j, 1);\r\n                    j -= 1;\r\n                }\r\n            }\r\n            if (clusterMap.has(label1)) {\r\n                labelsNonOverlapping.splice(i, 1);\r\n                i -= 1;\r\n            }\r\n        }\r\n        const clusters = Array.from(clusterMap.values()).map(records => ({\r\n            _screen: getLabelRenderProps(records, this.element, this.config, this.xScale, this.yScale),\r\n            records,\r\n        }));\r\n        return [...labelsNonOverlapping, ...clusters];\r\n    }\r\n}\r\nXYLabels.selectors = style;\n\nexport { XYLabels };\n\n", "import { ComponentDefaultConfig } from '../../core/component/config.js';\nimport { NestedDonutDirection } from './types.js';\n\n// Core\r\nconst NestedDonutDefaultConfig = Object.assign(Object.assign({}, ComponentDefaultConfig), { angleRange: [0, 2 * Math.PI], centralLabel: undefined, centralSubLabel: undefined, centralSubLabelWrap: true, cornerRadius: 0, direction: NestedDonutDirection.Inwards, emptySegmentAngle: Math.PI / 180, hideOverflowingSegmentLabels: true, layers: [], layerPadding: 0, layerSettings: undefined, segmentColor: undefined, segmentLabel: undefined, segmentLabelColor: undefined, showBackground: false, showEmptySegments: false, showSegmentLabels: true, sort: undefined, value: undefined });\n\nexport { NestedDonutDefaultConfig };\n\n", "import { interpolate } from 'd3-interpolate';\nimport { getColor } from '../../../utils/color.js';\nimport { smartTransition } from '../../../utils/d3.js';\n\nfunction createArc(selection, config) {\r\n    selection\r\n        .style('fill', d => { var _a, _b; return (_a = getColor(d, config.segmentColor)) !== null && _a !== void 0 ? _a : (_b = d._state) === null || _b === void 0 ? void 0 : _b.fill; })\r\n        .style('opacity', 0)\r\n        .each((d, i, els) => {\r\n        const arcNode = els[i];\r\n        const angleCenter = (d.x0 + d.x1) / 2;\r\n        const angleHalfWidth = (d.x1 - d.x0) / 2;\r\n        arcNode._animState = {\r\n            x0: angleCenter - angleHalfWidth,\r\n            x1: angleCenter + angleHalfWidth,\r\n            y0: d.y0,\r\n            y1: d.y1,\r\n        };\r\n    });\r\n}\r\nfunction updateArc(selection, config, arcGen, duration) {\r\n    selection\r\n        .style('transition', `fill ${duration}ms`) // Animate color with CSS because we're using CSS-variables\r\n        .style('fill', d => d._state.fill)\r\n        .style('fill-opacity', d => d._state.fillOpacity);\r\n    if (duration) {\r\n        const transition = smartTransition(selection, duration)\r\n            .style('opacity', 1);\r\n        transition.attrTween('d', (d, i, els) => {\r\n            const arcNode = els[i];\r\n            const nextAnimState = { x0: d.x0, x1: d.x1, y0: d.y0, y1: d.y1 };\r\n            const datum = interpolate(arcNode._animState, nextAnimState);\r\n            return (t) => {\r\n                arcNode._animState = datum(t);\r\n                return arcGen(arcNode._animState);\r\n            };\r\n        });\r\n    }\r\n    else {\r\n        selection.attr('d', arcGen)\r\n            .style('opacity', 1);\r\n    }\r\n}\r\nfunction removeArc(selection, duration) {\r\n    smartTransition(selection, duration)\r\n        .style('opacity', 0)\r\n        .remove();\r\n}\n\nexport { createArc, removeArc, updateArc };\n\n", "import { css } from '@emotion/css';\nimport { getCssVarNames, injectGlobalCssVariables } from '../../utils/style.js';\n\nconst cssVarDefaults = {\r\n    // Undefined by default to allow proper fallback to var(--vis-font-family)\r\n    '--vis-nested-donut-font-family': undefined,\r\n    // Background\r\n    '--vis-nested-donut-background-color': '#E7E9F3',\r\n    // Central label\r\n    '--vis-nested-donut-central-label-font-size': '16px',\r\n    '--vis-nested-donut-central-label-font-weight': 600,\r\n    '--vis-nested-donut-central-label-text-color': '#5b5f6d',\r\n    // Central sub-label\r\n    '--vis-nested-donut-central-sublabel-font-size': '12px;',\r\n    '--vis-nested-donut-central-sublabel-font-weight': 500,\r\n    '--vis-nested-donut-central-sublabel-text-color': '#5b5f6d',\r\n    // Segments\r\n    '--vis-nested-donut-segment-stroke-width': '1px',\r\n    '--vis-nested-donut-segment-stroke-color': 'var(--vis-nested-donut-background-color)',\r\n    '--vis-nested-donut-segment-label-text-color-light': '#5b5f6d',\r\n    '--vis-nested-donut-segment-label-text-color-dark': '#fff',\r\n    '--vis-nested-donut-segment-label-font-size': '1em',\r\n    /* Dark theme */\r\n    '--vis-dark-nested-donut-background-color': '#18160C',\r\n    '--vis-dark-nested-donut-central-label-text-color': '#fff',\r\n    '--vis-dark-nested-donut-central-sublabel-text-color': '#fff',\r\n};\r\nconst root = css `\n  label: nested-donut-component;\n`;\r\nconst segmentsGroup = css `\n  label: nested-donut-segments-group;\n`;\r\nconst variables = getCssVarNames(cssVarDefaults);\r\ninjectGlobalCssVariables(cssVarDefaults, root);\r\nconst background = css `\n  label: background;\n  fill: var(--vis-nested-donut-background-color);\n  stroke-width: var(--vis-nested-donut-segment-stroke-width);\n  stroke: var(--vis-nested-donut-segment-stroke-color);\n`;\r\nconst segment = css `\n  label: segment;\n `;\r\nconst segmentExit = css `\n  label: segment-exit;\n`;\r\nconst segmentArc = css `\n  label: segment-arc;\n  stroke-width: var(--vis-nested-donut-segment-stroke-width);\n  stroke: var(--vis-nested-donut-segment-stroke-color);\n`;\r\nconst segmentLabel = css `\n  label: segment-label;\n  text-anchor: middle;\n  dominant-baseline: middle;\n  user-select: none;\n  font-size: var(--vis-nested-donut-segment-label-font-size);\n`;\r\nconst centralLabel = css `\n  label: central-label;\n  text-anchor: middle;\n  dominant-baseline: middle;\n  font-size: var(--vis-nested-donut-central-label-font-size);\n  font-family: var(--vis-nested-donut-central-label-font-family, var(--vis-font-family));\n  font-weight: var(--vis-nested-donut-central-label-font-weight);\n  fill: var(--vis-nested-donut-central-label-text-color);\n`;\r\nconst centralSubLabel = css `\n  label: central-sub-label;\n  text-anchor: middle;\n  dominant-baseline: middle;\n  font-size: var(--vis-nested-donut-central-sublabel-font-size);\n  font-family: var(--vis-nested-donut-central-sublabel-font-family, var(--vis-font-family));\n  font-weight: var(--vis-nested-donut-central-sublabel-font-weight);\n  fill: var(--vis-nested-donut-central-sublabel-text-color);\n`;\n\nexport { background, centralLabel, centralSubLabel, root, segment, segmentArc, segmentExit, segmentLabel, segmentsGroup, variables };\n\n", "import { select } from 'd3-selection';\nimport { color } from 'd3-color';\nimport { getHexValue, rgbaToRgb, rgbToBrightness, getColor } from '../../../utils/color.js';\nimport { smartTransition } from '../../../utils/d3.js';\nimport { getString } from '../../../utils/data.js';\nimport { getCSSVariableValueInPixels } from '../../../utils/misc.js';\nimport { cssvar } from '../../../utils/style.js';\nimport { wrapSVGText } from '../../../utils/text.js';\nimport { NestedDonutSegmentLabelAlignment } from '../types.js';\nimport { variables } from '../style.js';\n\nfunction getLabelFillColor(d, element) {\r\n    var _a;\r\n    const c = (_a = color(d._state.fill)) !== null && _a !== void 0 ? _a : color(getHexValue(d._state.fill, element));\r\n    const rgb = c === null || c === void 0 ? void 0 : c.rgb();\r\n    // If shading, we adjust segment color before calculating brightness ratio\r\n    const colorParsed = rgb && d._state.fillOpacity\r\n        ? rgbaToRgb(`rgba(${rgb.r},${rgb.g},${rgb.b},${d._state.fillOpacity})`, getHexValue(cssvar(variables.nestedDonutBackgroundColor), element)) : rgb;\r\n    const brightness = colorParsed ? rgbToBrightness(colorParsed) : 0;\r\n    return cssvar(brightness > 0.65 ? variables.nestedDonutSegmentLabelTextColorLight : variables.nestedDonutSegmentLabelTextColorDark);\r\n}\r\nfunction getLabelTransform(d, arcGen) {\r\n    const translate = `translate(${arcGen.centroid(d)})`;\r\n    const degree = 180 / Math.PI * (arcGen.startAngle()(d) + arcGen.endAngle()(d)) / 2 - 90;\r\n    switch (d._layer.labelAlignment) {\r\n        case NestedDonutSegmentLabelAlignment.Along:\r\n            return `${translate} rotate(${degree + 90})`;\r\n        case NestedDonutSegmentLabelAlignment.Perpendicular:\r\n            return `${translate} rotate(${degree > 90 ? degree - 180 : degree})`;\r\n        default:\r\n            return `${translate}`;\r\n    }\r\n}\r\nfunction getLabelBounds(d) {\r\n    const arcWidth = d.y1 - d.y0;\r\n    const arcLength = d._layer._innerRadius * (d.x1 - d.x0);\r\n    const bandwidth = Math.max(Math.abs(Math.cos(d.x0 + (d.x1 - d.x0) / 2 - Math.PI / 2) * arcWidth), arcWidth);\r\n    switch (d._layer.labelAlignment) {\r\n        case NestedDonutSegmentLabelAlignment.Perpendicular:\r\n            return { width: arcWidth, height: arcLength };\r\n        case NestedDonutSegmentLabelAlignment.Along:\r\n            return { width: arcLength, height: arcWidth };\r\n        case NestedDonutSegmentLabelAlignment.Straight:\r\n            return { width: bandwidth, height: bandwidth };\r\n    }\r\n}\r\nfunction createLabel(selection, arcGen) {\r\n    selection\r\n        .attr('transform', d => getLabelTransform(d, arcGen))\r\n        .style('visibility', null)\r\n        .style('opacity', 0);\r\n}\r\nfunction updateLabel(selection, config, arcGen, duration) {\r\n    selection\r\n        .text(d => { var _a; return (_a = getString(d, config.segmentLabel)) !== null && _a !== void 0 ? _a : d.data.key; })\r\n        .style('transition', `fill ${duration}ms`)\r\n        .style('fill', (d, i, els) => { var _a; return (_a = getColor(d, config.segmentLabelColor)) !== null && _a !== void 0 ? _a : getLabelFillColor(d, els[i]); })\r\n        .each((d, i, els) => {\r\n        const bounds = getLabelBounds(d);\r\n        const label = select(els[i]).call(wrapSVGText, bounds.width);\r\n        const { width, height } = label.node().getBBox();\r\n        if (config.hideOverflowingSegmentLabels && (width > bounds.width || height > bounds.height) && 'hidden') {\r\n            label.attr('visibility', 'hidden');\r\n        }\r\n        else {\r\n            const fontSize = getCSSVariableValueInPixels(cssvar(variables.nestedDonutSegmentLabelFontSize), els[i]);\r\n            const len = label.selectChildren().size() - 1;\r\n            label.attr('dy', -fontSize / 2 * len);\r\n        }\r\n    });\r\n    smartTransition(selection, duration)\r\n        .attr('transform', d => getLabelTransform(d, arcGen))\r\n        .style('opacity', 1);\r\n}\r\nfunction removeLabel(selection, duration) {\r\n    smartTransition(selection, duration)\r\n        .style('opacity', 0)\r\n        .remove();\r\n}\n\nexport { createLabel, removeLabel, updateLabel };\n\n", "import { arc, pie } from 'd3-shape';\nimport { hierarchy, partition } from 'd3-hierarchy';\nimport { scaleLinear } from 'd3-scale';\nimport { group } from 'd3-array';\nimport { ComponentCore } from '../../core/component/index.js';\nimport { SeriesDataModel } from '../../data-models/series.js';\nimport { VerticalAlign } from '../../types/text.js';\nimport { getColor } from '../../utils/color.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { isNumber, getString, getNumber, isNumberWithinRange, merge, getValue } from '../../utils/data.js';\nimport { getPixelValue } from '../../utils/misc.js';\nimport { cssvar } from '../../utils/style.js';\nimport { wrapSVGText } from '../../utils/text.js';\nimport { NestedDonutSegmentLabelAlignment, NestedDonutDirection } from './types.js';\nimport { NestedDonutDefaultConfig } from './config.js';\nimport { createArc, updateArc, removeArc } from './modules/arc.js';\nimport { createLabel, updateLabel, removeLabel } from './modules/label.js';\nimport * as style from './style.js';\nimport { segmentsGroup, centralLabel, centralSubLabel, background, segment, segmentExit, segmentArc, segmentLabel, variables } from './style.js';\n\nclass NestedDonut extends ComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = NestedDonutDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.datamodel = new SeriesDataModel();\r\n        this.arcGen = arc();\r\n        this.colorScale = scaleLinear();\r\n        this.events = {};\r\n        if (config)\r\n            this.setConfig(config);\r\n        this.arcBackground = this.g.append('g');\r\n        this.arcGroup = this.g.append('g')\r\n            .attr('class', segmentsGroup);\r\n        this.centralLabel = this.g.append('text')\r\n            .attr('class', centralLabel);\r\n        this.centralSubLabel = this.g.append('text')\r\n            .attr('class', centralSubLabel);\r\n    }\r\n    _render(customDuration) {\r\n        var _a, _b;\r\n        const { config } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        if (config.layers === undefined || config.layers.length === 0) {\r\n            console.warn('Unovis | Nested Donut: No layers defined.');\r\n            return;\r\n        }\r\n        const layers = this._getLayerSettings();\r\n        const data = this._getHierarchyData(layers);\r\n        this.arcGen\r\n            .startAngle(d => d.x0)\r\n            .endAngle(d => d.x1)\r\n            .innerRadius(d => d.y0)\r\n            .outerRadius(d => d.y1)\r\n            .cornerRadius(config.cornerRadius);\r\n        this.arcGroup.attr('transform', `translate(${this._width / 2},${this._height / 2})`);\r\n        this.arcBackground.attr('transform', `translate(${this._width / 2},${this._height / 2})`);\r\n        this.centralLabel.attr('transform', `translate(${this._width / 2},${this._height / 2})`);\r\n        this.centralSubLabel.attr('transform', `translate(${this._width / 2},${this._height / 2})`);\r\n        // Layer backgrounds\r\n        const backgrounds = this.arcBackground\r\n            .selectAll(`.${background}`)\r\n            .data(layers, d => d._id);\r\n        const backgroundsEnter = backgrounds.enter().append('path')\r\n            .attr('class', background)\r\n            .attr('visibility', config.showBackground ? null : 'hidden');\r\n        const backgroundsMerged = backgrounds.merge(backgroundsEnter)\r\n            .style('transition', `fill ${duration}ms`)\r\n            .style('fill', d => d.backgroundColor);\r\n        smartTransition(backgroundsMerged, duration)\r\n            .attr('d', d => {\r\n            var _a, _b, _c, _d;\r\n            return this.arcGen({\r\n                x0: (_b = (_a = config.angleRange) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : 0,\r\n                x1: (_d = (_c = config.angleRange) === null || _c === void 0 ? void 0 : _c[1]) !== null && _d !== void 0 ? _d : 2 * Math.PI,\r\n                y0: d._innerRadius,\r\n                y1: d._outerRadius,\r\n            });\r\n        });\r\n        smartTransition(backgrounds.exit(), duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n        // Segments\r\n        const segments = this.arcGroup.selectAll(`${segment}`)\r\n            .data(data, d => d._id);\r\n        const segmentsEnter = segments.enter()\r\n            .append('g')\r\n            .attr('class', segment);\r\n        segments.merge(segmentsEnter);\r\n        smartTransition(segments.exit(), duration)\r\n            .attr('class', segmentExit)\r\n            .style('opacity', 0)\r\n            .remove();\r\n        // Segment arcs\r\n        const arcs = this.arcGroup\r\n            .selectAll(`.${segmentArc}`)\r\n            .data(data, d => d._id);\r\n        const arcsEnter = segmentsEnter.append('path')\r\n            .attr('class', segmentArc)\r\n            .call(createArc, config);\r\n        arcs.merge(arcsEnter)\r\n            .call(updateArc, config, this.arcGen, duration);\r\n        arcs.exit()\r\n            .attr('class', segmentExit)\r\n            .call(removeArc, duration);\r\n        // Segment labels\r\n        if (config.showSegmentLabels) {\r\n            const labels = this.arcGroup\r\n                .selectAll(`.${segmentLabel}`)\r\n                .data(data, d => d._id);\r\n            const labelsEnter = segmentsEnter.append('text')\r\n                .attr('class', segmentLabel)\r\n                .call(createLabel, this.arcGen);\r\n            labels.merge(labelsEnter)\r\n                .call(updateLabel, config, this.arcGen, duration);\r\n            labels.exit()\r\n                .call(removeLabel, duration);\r\n        }\r\n        // Chart labels\r\n        this.centralLabel\r\n            .attr('dy', config.centralSubLabel ? '-0.55em' : null)\r\n            .text((_a = config.centralLabel) !== null && _a !== void 0 ? _a : null);\r\n        this.centralSubLabel\r\n            .attr('dy', config.centralLabel ? '0.55em' : null)\r\n            .text((_b = config.centralSubLabel) !== null && _b !== void 0 ? _b : null);\r\n        if (config.centralSubLabelWrap)\r\n            wrapSVGText(this.centralSubLabel, layers[0]._innerRadius * 1.9, VerticalAlign.Top);\r\n    }\r\n    _getHierarchyData(layers) {\r\n        var _a;\r\n        const { config, datamodel: { data } } = this;\r\n        const layerAccessors = (_a = config.layers) === null || _a === void 0 ? void 0 : _a.map(layerAccessor => (i) => getString(data[i], layerAccessor, i));\r\n        const nestedData = group(data.keys(), ...layerAccessors);\r\n        const rootNode = config.value !== undefined\r\n            ? hierarchy(nestedData).sum(index => typeof index === 'number' && getNumber(data[index], config.value, index))\r\n            : hierarchy(nestedData).count();\r\n        const partitionData = partition().size([config.angleRange[1], 1])(rootNode);\r\n        partitionData\r\n            .each(node => {\r\n            var _a, _b, _c;\r\n            // Starting with the root, we transform the original data returned from d3.hierarchy\r\n            const n = node;\r\n            node.data = {\r\n                key: n.data[0],\r\n                values: Array.isArray(n.data[1]) ? n.data[1].map(i => data[i]) : [],\r\n                root: (_c = (_b = (_a = node.parent) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.root) !== null && _c !== void 0 ? _c : n.data[0],\r\n            };\r\n            node._id = `root${partitionData.path(node).map(d => d.data.key).join('->')}`;\r\n            if (isNumberWithinRange(node.depth - 1, [0, layers.length - 1])) {\r\n                node._layer = layers[node.depth - 1];\r\n                node.y0 = node._layer._innerRadius;\r\n                node.y1 = node._layer._outerRadius;\r\n            }\r\n        })\r\n            .eachBefore((node) => {\r\n            var _a, _b, _c, _d;\r\n            // Once ancestors have been visited, children properties that are\r\n            // dependent on the parent's data are populated here\r\n            if (!node.children || node.depth === rootNode.height - 1)\r\n                return;\r\n            const positions = pie()\r\n                .startAngle(node.parent ? node.x0 : (_a = config.angleRange) === null || _a === void 0 ? void 0 : _a[0])\r\n                .endAngle(node.parent ? node.x1 : (_b = config.angleRange) === null || _b === void 0 ? void 0 : _b[1])\r\n                .value(d => config.showEmptySegments && d.value === 0\r\n                ? config.emptySegmentAngle\r\n                : (d.x1 - d.x0))\r\n                .sort(config.sort)(node.children);\r\n            const opacity = scaleLinear()\r\n                .domain([-1, node.children.length])\r\n                .range([(_d = (_c = node._state) === null || _c === void 0 ? void 0 : _c.fillOpacity) !== null && _d !== void 0 ? _d : 1, 0]);\r\n            node.children.forEach((child, i) => {\r\n                child._index = i;\r\n                child.x0 = positions[i].startAngle;\r\n                child.x1 = positions[i].endAngle;\r\n                // Default to parent's fill if segmentColor accessor is not provided\r\n                const color = getColor(child, config.segmentColor, positions[i].index, child.depth !== 1);\r\n                child._state = {\r\n                    fill: color !== null && color !== void 0 ? color : node._state.fill,\r\n                    fillOpacity: color === null ? opacity(positions[i].index) : null,\r\n                };\r\n            });\r\n        })\r\n            .eachAfter(node => {\r\n            var _a;\r\n            // Once hierarchy has been traversed, we append children data the parent\r\n            // parent.data serves as a reference to all the original data it represents\r\n            (_a = node.children) === null || _a === void 0 ? void 0 : _a.forEach(ch => node.data.values.push(...ch.data.values));\r\n        });\r\n        const segments = partitionData.descendants().filter(d => { var _a; return ((_a = d.parent) === null || _a === void 0 ? void 0 : _a.value) && d.data.key; });\r\n        return segments;\r\n    }\r\n    _getLayerSettings() {\r\n        const { direction, layers, layerPadding, layerSettings } = this.config;\r\n        const outerRadius = Math.min(this._width, this._height) / 2;\r\n        const defaultLayerSettings = {\r\n            backgroundColor: cssvar(variables.nestedDonutBackgroundColor),\r\n            labelAlignment: NestedDonutSegmentLabelAlignment.Perpendicular,\r\n            width: outerRadius * 0.75 / layers.length,\r\n        };\r\n        const layerItems = layers.reduceRight((arr, _, i) => {\r\n            const layerId = direction === NestedDonutDirection.Outwards ? i : arr.length;\r\n            const layerConfig = merge(defaultLayerSettings, getValue(layerId, layerSettings));\r\n            const radius = arr.length ? arr[0]._innerRadius - layerPadding : outerRadius;\r\n            const layerWidth = getPixelValue(layerConfig.width);\r\n            if (layerWidth === null) {\r\n                console.warn(`Unovis | Nested Donut: Could not parse width ${layerConfig.width}. Setting to default.`);\r\n            }\r\n            arr.unshift(Object.assign(Object.assign({}, layerConfig), { _id: layerId, _outerRadius: radius, _innerRadius: radius - (layerWidth !== null && layerWidth !== void 0 ? layerWidth : defaultLayerSettings.width) }));\r\n            return arr;\r\n        }, new Array());\r\n        return direction === NestedDonutDirection.Inwards ? layerItems.reverse() : layerItems;\r\n    }\r\n}\r\nNestedDonut.selectors = style;\r\nNestedDonut.cssVariables = variables;\n\nexport { NestedDonut };\n\n", "import { ComponentDefaultConfig } from '../../core/component/config.js';\n\nconst AnnotationsDefaultConfig = Object.assign(Object.assign({}, ComponentDefaultConfig), { items: [] });\n\nexport { AnnotationsDefaultConfig };\n\n", "import { css } from '@emotion/css';\nimport { getCssVarNames, injectGlobalCssVariables } from '../../utils/style.js';\n\nconst cssVarDefaults = {\r\n    '--vis-annotations-text-color': '#282C34',\r\n    '--vis-annotations-connector-stroke-color': '#444',\r\n    '--vis-annotations-connector-stroke-width': '1px',\r\n    '--vis-annotations-connector-stroke-dasharray': 'none',\r\n    '--vis-annotations-subject-stroke-color': '#444',\r\n    '--vis-annotations-subject-fill-color': 'none',\r\n    '--vis-annotations-subject-stroke-dasharray': 'none',\r\n    '--vis-dark-annotations-text-color': '#e8e9ef',\r\n    '--vis-dark-annotations-connector-stroke-color': '#fff',\r\n    '--vis-dark-annotations-subject-stroke-color': '#fff',\r\n};\r\nconst root = css `\n  label: annotations-component;\n`;\r\nconst variables = getCssVarNames(cssVarDefaults);\r\ninjectGlobalCssVariables(cssVarDefaults, root);\r\nconst annotation = css `\n  label: annotation;\n`;\r\nconst annotationSubject = css `\n  label: annotationSubject;\n\n  line {\n    stroke: var(${variables.annotationsConnectorStrokeColor});\n    stroke-width: var(${variables.annotationsConnectorStrokeWidth});\n    stroke-dasharray: var(${variables.annotationsConnectorStrokeDasharray});\n  }\n\n  circle {\n    stroke: var(${variables.annotationsSubjectStrokeColor});\n    fill: var(${variables.annotationsSubjectFillColor});\n    stroke-dasharray: var(${variables.annotationsSubjectStrokeDasharray});\n  }\n`;\r\nconst annotationContent = css `\n  label: annotationContent;\n  > text {\n    fill: var(--vis-annotations-text-color);\n  }\n`;\n\nexport { annotation, annotationContent, annotationSubject, root, variables };\n\n", "import { select } from 'd3-selection';\nimport { ComponentCore } from '../../core/component/index.js';\nimport { isNumber } from '../../utils/data.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { renderTextIntoFrame } from '../../utils/text.js';\nimport { parseUnit } from '../../utils/misc.js';\nimport { UNOVIS_TEXT_DEFAULT } from '../../styles/index.js';\nimport { AnnotationsDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { annotation, annotationContent, annotationSubject, variables } from './style.js';\n\nclass Annotations extends ComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = AnnotationsDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.events = {};\r\n        if (config)\r\n            this.setConfig(config);\r\n    }\r\n    _render(customDuration) {\r\n        super._render(customDuration);\r\n        const { config } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        const annotations = this.g.selectAll(`.${annotation}`)\r\n            .data(config.items, d => JSON.stringify(d));\r\n        const annotationsEnter = annotations.enter().append('g')\r\n            .attr('class', annotation)\r\n            .style('opacity', 0);\r\n        // Content\r\n        annotationsEnter.append('g').attr('class', annotationContent);\r\n        // Subject\r\n        const subject = annotationsEnter.append('g')\r\n            .attr('class', annotationSubject);\r\n        subject.append('circle');\r\n        subject.append('line');\r\n        const annotationsMerged = annotationsEnter.merge(annotations)\r\n            .attr('cursor', d => d === null || d === void 0 ? void 0 : d.cursor)\r\n            .each((annotation, i, elements) => {\r\n            if (annotation.content) {\r\n                const content = typeof annotation.content === 'string' ? Object.assign(Object.assign({}, UNOVIS_TEXT_DEFAULT), { text: annotation.content }) : annotation.content;\r\n                const x = parseUnit(annotation.x, this._width);\r\n                const y = parseUnit(annotation.y, this._height);\r\n                const width = parseUnit(annotation.width, this._width);\r\n                const height = parseUnit(annotation.height, this._height);\r\n                const options = Object.assign(Object.assign({}, annotation), { x, y, width, height });\r\n                const contentGroupElement = select(elements[i]).select(`.${annotationContent}`);\r\n                renderTextIntoFrame(contentGroupElement.node(), content, options);\r\n            }\r\n            if (annotation.subject) {\r\n                requestAnimationFrame(() => this._renderSubject(elements[i], annotation.subject));\r\n            }\r\n        });\r\n        smartTransition(annotationsMerged, duration)\r\n            .style('opacity', 1);\r\n        smartTransition(annotations.exit(), duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n    }\r\n    _renderSubject(annotationGroupElement, subject) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        const contentGroup = select(annotationGroupElement).select(`.${annotationContent}`);\r\n        const subjectGroup = select(annotationGroupElement).select(`.${annotationSubject}`);\r\n        const subjectX = (_a = parseUnit(typeof (subject === null || subject === void 0 ? void 0 : subject.x) === 'function' ? subject.x() : subject === null || subject === void 0 ? void 0 : subject.x, this._width)) !== null && _a !== void 0 ? _a : null;\r\n        const subjectY = (_b = parseUnit(typeof (subject === null || subject === void 0 ? void 0 : subject.y) === 'function' ? subject.y() : subject === null || subject === void 0 ? void 0 : subject.y, this._height)) !== null && _b !== void 0 ? _b : null;\r\n        const subjectStrokeColor = (_c = subject === null || subject === void 0 ? void 0 : subject.strokeColor) !== null && _c !== void 0 ? _c : null;\r\n        const subjectFillColor = (_d = subject === null || subject === void 0 ? void 0 : subject.fillColor) !== null && _d !== void 0 ? _d : null;\r\n        const subjectStrokeDasharray = (_e = subject === null || subject === void 0 ? void 0 : subject.strokeDasharray) !== null && _e !== void 0 ? _e : null;\r\n        const connectorLineColor = (_f = subject === null || subject === void 0 ? void 0 : subject.connectorLineColor) !== null && _f !== void 0 ? _f : null;\r\n        const connectorLineStrokeDasharray = (_g = subject === null || subject === void 0 ? void 0 : subject.connectorLineStrokeDasharray) !== null && _g !== void 0 ? _g : null;\r\n        const subjectRadius = (_h = subject === null || subject === void 0 ? void 0 : subject.radius) !== null && _h !== void 0 ? _h : 0;\r\n        const padding = (_j = subject === null || subject === void 0 ? void 0 : subject.padding) !== null && _j !== void 0 ? _j : 5;\r\n        const contentBbox = contentGroup.node().getBBox();\r\n        const dy = Math.abs(subjectY - (contentBbox.y + contentBbox.height / 2));\r\n        const dx = Math.abs(subjectX - (contentBbox.x + contentBbox.width / 2));\r\n        const annotationPadding = 5;\r\n        const x2 = (dx < dy) && ((subjectY < contentBbox.y) || (subjectY > (contentBbox.y + contentBbox.height)))\r\n            ? contentBbox.x + contentBbox.width / 2\r\n            : (subjectX < contentBbox.x) ? contentBbox.x - annotationPadding : contentBbox.x + contentBbox.width + annotationPadding;\r\n        const y2 = (dx >= dy) || ((subjectY >= contentBbox.y) && (subjectY <= (contentBbox.y + contentBbox.height)))\r\n            ? contentBbox.y + contentBbox.height / 2\r\n            : (subjectY < contentBbox.y) ? contentBbox.y - annotationPadding : contentBbox.y + contentBbox.height + annotationPadding;\r\n        const angle = Math.atan2(y2 - subjectY, x2 - subjectX) * 180 / Math.PI;\r\n        const x1 = subjectX + Math.cos(angle * Math.PI / 180) * (subjectRadius + padding);\r\n        const y1 = subjectY + Math.sin(angle * Math.PI / 180) * (subjectRadius + padding);\r\n        subjectGroup.select('circle')\r\n            .attr('visibility', subject ? null : 'hidden')\r\n            .attr('cx', subjectX)\r\n            .attr('cy', subjectY)\r\n            .attr('r', subjectRadius)\r\n            .style('stroke', subjectStrokeColor)\r\n            .style('fill', subjectFillColor)\r\n            .style('stroke-dasharray', subjectStrokeDasharray);\r\n        subjectGroup.select('line')\r\n            .attr('visibility', subject ? null : 'hidden')\r\n            .attr('x1', x1)\r\n            .attr('y1', y1)\r\n            .attr('x2', x1)\r\n            .attr('y2', y1)\r\n            .attr('x2', x2)\r\n            .attr('y2', y2)\r\n            .style('stroke', connectorLineColor)\r\n            .style('stroke-dasharray', connectorLineStrokeDasharray);\r\n    }\r\n}\r\nAnnotations.selectors = style;\r\nAnnotations.cssVariables = variables;\n\nexport { Annotations };\n\n", "import { PlotbandLabelPosition } from './types.js';\n\nconst HORIZONTAL_X = {\r\n    [PlotbandLabelPosition.TopLeftOutside]: ({ startX, offsetX, offsetY }) => ({\r\n        x: startX - offsetX,\r\n        y: offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopLeftInside]: ({ startX, offsetX, offsetY }) => ({\r\n        x: startX + offsetX,\r\n        y: offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopOutside]: ({ startX, width, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: offsetY,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopInside]: ({ startX, width, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: offsetY,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopRightOutside]: ({ startX, width, offsetX, offsetY }) => ({\r\n        x: startX + width + offsetX,\r\n        y: offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopRightInside]: ({ startX, width, offsetX, offsetY }) => ({\r\n        x: startX + width - offsetX,\r\n        y: offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.RightOutside]: ({ startX, width, height, offsetX }) => ({\r\n        x: startX + width + offsetX,\r\n        y: height / 2,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n    [PlotbandLabelPosition.RightInside]: ({ startX, width, height, offsetX }) => ({\r\n        x: startX + width - offsetX,\r\n        y: height / 2,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n    [PlotbandLabelPosition.BottomRightOutside]: ({ startX, width, height, offsetX, offsetY }) => ({\r\n        x: startX + width + offsetX,\r\n        y: height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomRightInside]: ({ startX, width, height, offsetX, offsetY }) => ({\r\n        x: startX + width - offsetX,\r\n        y: height - offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomOutside]: ({ startX, width, height, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: height - offsetY,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomInside]: ({ startX, width, height, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: height - offsetY,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomLeftOutside]: ({ startX, height, offsetX, offsetY }) => ({\r\n        x: startX - offsetX,\r\n        y: height - offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomLeftInside]: ({ startX, height, offsetX, offsetY }) => ({\r\n        x: startX + offsetX,\r\n        y: height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.LeftOutside]: ({ startX, height, offsetX }) => ({\r\n        x: startX - offsetX,\r\n        y: height / 2,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n    [PlotbandLabelPosition.LeftInside]: ({ startX, height, offsetX }) => ({\r\n        x: startX + offsetX,\r\n        y: height / 2,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n};\r\nconst VERTICAL_X = {\r\n    [PlotbandLabelPosition.TopLeftOutside]: ({ startX, offsetX, offsetY }) => ({\r\n        x: startX - offsetX,\r\n        y: offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopLeftInside]: ({ startX, offsetX, offsetY }) => ({\r\n        x: startX + offsetX,\r\n        y: offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopOutside]: ({ startX, width, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n    [PlotbandLabelPosition.TopInside]: ({ startX, width, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n    [PlotbandLabelPosition.TopRightOutside]: ({ startX, width, offsetX, offsetY }) => ({\r\n        x: startX + width + offsetX,\r\n        y: offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopRightInside]: ({ startX, width, offsetX, offsetY }) => ({\r\n        x: startX + width - offsetX,\r\n        y: offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.RightOutside]: ({ startX, width, height, offsetX }) => ({\r\n        x: startX + width + offsetX,\r\n        y: height / 2,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.RightInside]: ({ startX, width, height, offsetX }) => ({\r\n        x: startX + width - offsetX,\r\n        y: height / 2,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomRightOutside]: ({ startX, width, height, offsetX, offsetY }) => ({\r\n        x: startX + width + offsetX,\r\n        y: height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomRightInside]: ({ startX, width, height, offsetX, offsetY }) => ({\r\n        x: startX + width - offsetX,\r\n        y: height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomOutside]: ({ startX, width, height, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n    [PlotbandLabelPosition.BottomInside]: ({ startX, width, height, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n    [PlotbandLabelPosition.BottomLeftOutside]: ({ startX, height, offsetX, offsetY }) => ({\r\n        x: startX - offsetX,\r\n        y: height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomLeftInside]: ({ startX, height, offsetX, offsetY }) => ({\r\n        x: startX + offsetX,\r\n        y: height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.LeftOutside]: ({ startX, height, offsetX }) => ({\r\n        x: startX - offsetX,\r\n        y: height / 2,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.LeftInside]: ({ startX, height, offsetX }) => ({\r\n        x: startX + offsetX,\r\n        y: height / 2,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n};\r\nconst HORIZONTAL_Y = {\r\n    [PlotbandLabelPosition.TopLeftOutside]: ({ startY, offsetX, offsetY }) => ({\r\n        x: offsetX,\r\n        y: startY - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopLeftInside]: ({ startY, offsetX, offsetY }) => ({\r\n        x: offsetX,\r\n        y: startY + offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopOutside]: ({ startX, width, startY, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: startY - offsetY,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopInside]: ({ startX, width, startY, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: startY + offsetY,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopRightOutside]: ({ startY, width, offsetX, offsetY }) => ({\r\n        x: width - offsetX,\r\n        y: startY - offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.TopRightInside]: ({ startY, width, offsetX, offsetY }) => ({\r\n        x: width - offsetX,\r\n        y: startY + offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.RightOutside]: ({ startY, height, width, offsetX }) => ({\r\n        x: width - offsetX,\r\n        y: startY + height / 2,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n    [PlotbandLabelPosition.RightInside]: ({ startY, height, width, offsetX }) => ({\r\n        x: width - offsetX,\r\n        y: startY + height / 2,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n    [PlotbandLabelPosition.BottomRightOutside]: ({ startY, height, width, offsetX, offsetY }) => ({\r\n        x: width - offsetX,\r\n        y: startY + height + offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomRightInside]: ({ startY, height, width, offsetX, offsetY }) => ({\r\n        x: width - offsetX,\r\n        y: startY + height - offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomOutside]: ({ startX, width, startY, height, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: startY + height + offsetY,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomInside]: ({ startX, width, startY, height, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: startY + height - offsetY,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomLeftOutside]: ({ startY, height, offsetX, offsetY }) => ({\r\n        x: offsetX,\r\n        y: startY + height + offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-before-edge',\r\n    }),\r\n    [PlotbandLabelPosition.BottomLeftInside]: ({ startY, height, offsetX, offsetY }) => ({\r\n        x: offsetX,\r\n        y: startY + height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-after-edge',\r\n    }),\r\n    [PlotbandLabelPosition.LeftOutside]: ({ startY, height, offsetX }) => ({\r\n        x: offsetX,\r\n        y: startY + height / 2,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n    [PlotbandLabelPosition.LeftInside]: ({ startY, height, offsetX }) => ({\r\n        x: offsetX,\r\n        y: startY + height / 2,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'middle',\r\n    }),\r\n};\r\nconst VERTICAL_Y = {\r\n    [PlotbandLabelPosition.TopLeftOutside]: ({ startY, offsetX, offsetY }) => ({\r\n        x: offsetX,\r\n        y: startY - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-after-edge',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.TopLeftInside]: ({ startY, offsetX, offsetY }) => ({\r\n        x: offsetX,\r\n        y: startY + offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-before-edge',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.TopOutside]: ({ startX, width, startY, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: startY - offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'middle',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.TopInside]: ({ startX, width, startY, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: startY + offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'middle',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.TopRightOutside]: ({ startY, width, offsetX, offsetY }) => ({\r\n        x: width - offsetX,\r\n        y: startY - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-after-edge',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.TopRightInside]: ({ startY, width, offsetX, offsetY }) => ({\r\n        x: width - offsetX,\r\n        y: startY + offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-after-edge',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.RightOutside]: ({ startY, height, width, offsetX }) => ({\r\n        x: width - offsetX,\r\n        y: startY + height / 2,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-after-edge',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.RightInside]: ({ startY, height, width, offsetX }) => ({\r\n        x: width - offsetX,\r\n        y: startY + height / 2,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-after-edge',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.BottomRightOutside]: ({ startY, height, width, offsetX, offsetY }) => ({\r\n        x: width - offsetX,\r\n        y: startY + height + offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-before-edge',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.BottomRightInside]: ({ startY, height, width, offsetX, offsetY }) => ({\r\n        x: width - offsetX,\r\n        y: startY + height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-after-edge',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.BottomOutside]: ({ startX, width, startY, height, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: startY + height + offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'middle',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.BottomInside]: ({ startX, width, startY, height, offsetY }) => ({\r\n        x: startX + width / 2,\r\n        y: startY + height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'middle',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.BottomLeftOutside]: ({ startY, height, offsetX, offsetY }) => ({\r\n        x: offsetX,\r\n        y: startY + height + offsetY,\r\n        textAnchor: 'end',\r\n        dominantBaseline: 'text-before-edge',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.BottomLeftInside]: ({ startY, height, offsetX, offsetY }) => ({\r\n        x: offsetX,\r\n        y: startY + height - offsetY,\r\n        textAnchor: 'start',\r\n        dominantBaseline: 'text-before-edge',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.LeftOutside]: ({ startY, height, offsetX }) => ({\r\n        x: offsetX,\r\n        y: startY + height / 2,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-before-edge',\r\n        rotation: -90,\r\n    }),\r\n    [PlotbandLabelPosition.LeftInside]: ({ startY, height, offsetX }) => ({\r\n        x: offsetX,\r\n        y: startY + height / 2,\r\n        textAnchor: 'middle',\r\n        dominantBaseline: 'text-before-edge',\r\n        rotation: -90,\r\n    }),\r\n};\n\nexport { HORIZONTAL_X, HORIZONTAL_Y, VERTICAL_X, VERTICAL_Y };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { AxisType } from '../axis/types.js';\nimport { PlotbandLabelPosition, PlotbandLabelOrientation } from './types.js';\n\n// Config\r\nconst PlotbandDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { axis: AxisType.Y, from: 0, to: 0, color: undefined, duration: 300, labelPosition: PlotbandLabelPosition.TopLeftOutside, labelOffsetX: 14, labelOffsetY: 14, labelOrientation: PlotbandLabelOrientation.Horizontal });\n\nexport { PlotbandDefaultConfig };\n\n", "import { injectGlobal, css } from '@emotion/css';\n\nconst globalStyles = injectGlobal `\n  :root {\n    --vis-plotband-color: rgba(255, 255, 90, 0.2);\n    --vis-plotband-label-font-size: 12px;\n    --vis-plotband-label-color: #000;\n\n    --vis-dark-plotband-color: rgba(220, 220, 90, 0.2);\n    --vis-dark-plotband-label-color: #e5e9f7;\n  }\n\n  body.theme-dark {\n    --vis-plotband-color: var(--vis-dark-plotband-color);\n    --vis-plotband-label-color: var(--vis-dark-tooltip-text-color);\n  }\n`;\r\nconst root = css `\n  label: plotband-component;\n`;\r\nconst plotband = css `\n  label: plotband-area;\n  transition: opacity 200ms;\n  cursor: var(--vis-line-cursor);\n  fill: var(--vis-plotband-color);\n`;\r\nconst label = css `\n  label: plotline-label;\n\n  user-select: none;\n  text-anchor: middle;\n  pointer-events: none;\n  font-size: var(--vis-plotband-label-font-size);\n  fill: var(--vis-plotband-label-color);\n`;\n\nexport { globalStyles, label, plotband, root };\n\n", "import { smartTransition } from '../../utils/d3.js';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { AxisType } from '../axis/types.js';\nimport { VERTICAL_X, HORIZONTAL_X, VERTICAL_Y, HORIZONTAL_Y } from './constants.js';\nimport { PlotbandDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { plotband, label } from './style.js';\n\n// Utils\r\nclass Plotband extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = PlotbandDefaultConfig;\r\n        if (config)\r\n            this.setConfig(config);\r\n        this.plotband = this.g.append('rect')\r\n            .attr('class', plotband);\r\n        this.label = this.g\r\n            .append('text')\r\n            .attr('class', label);\r\n    }\r\n    _render(customDuration) {\r\n        super._render(customDuration);\r\n        const { config } = this;\r\n        this.from = config.from;\r\n        this.to = config.to;\r\n        this.plotband\r\n            .style('fill', config.color);\r\n        if (this.from == null || this.to == null)\r\n            return;\r\n        let x = 0;\r\n        let y = 0;\r\n        let width = 0;\r\n        let height = 0;\r\n        if (config.axis === 'y') {\r\n            const y1 = this.yScale(this.from);\r\n            const y2 = this.yScale(this.to);\r\n            y = Math.min(y1, y2);\r\n            height = Math.abs(y1 - y2);\r\n            x = 0;\r\n            width = this._width;\r\n        }\r\n        else {\r\n            const x1 = this.xScale(this.from);\r\n            const x2 = this.xScale(this.to);\r\n            x = Math.min(x1, x2);\r\n            width = Math.abs(x1 - x2);\r\n            y = 0;\r\n            height = this._height;\r\n        }\r\n        smartTransition(this.plotband, config.duration)\r\n            .attr('x', x)\r\n            .attr('y', y)\r\n            .attr('width', width)\r\n            .attr('height', height);\r\n        if (config.labelText) {\r\n            const labelProps = this.computeLabel(config.axis, x, y, width, height, config.labelPosition, config.labelOffsetX, config.labelOffsetY, config.labelOrientation);\r\n            this.label\r\n                .attr('dominant-baseline', labelProps.dominantBaseline)\r\n                .attr('transform', labelProps.transform)\r\n                .style('text-anchor', labelProps.textAnchor)\r\n                .style('fill', config.labelColor)\r\n                .style('font-size', config.labelSize ? `${config.labelSize}px` : undefined);\r\n            smartTransition(this.label, config.duration)\r\n                .text(config.labelText)\r\n                .attr('x', labelProps.x)\r\n                .attr('y', labelProps.y);\r\n        }\r\n        smartTransition(this.plotband.exit())\r\n            .style('opacity', 0)\r\n            .remove();\r\n    }\r\n    computeLabel(axis, startX, startY, width, height, position, offsetX, offsetY, orientation) {\r\n        const isVertical = orientation === 'vertical';\r\n        const rotation = isVertical ? -90 : 0;\r\n        const args = { startX, startY, width, height, offsetX, offsetY };\r\n        let layoutPartial;\r\n        if (axis === AxisType.X) {\r\n            layoutPartial = (isVertical ? VERTICAL_X : HORIZONTAL_X)[position](args);\r\n        }\r\n        else {\r\n            layoutPartial = (isVertical ? VERTICAL_Y : HORIZONTAL_Y)[position](args);\r\n        }\r\n        const { x, y, textAnchor, dominantBaseline } = layoutPartial;\r\n        const transform = rotation !== 0 ? `rotate(${rotation}, ${x}, ${y})` : '';\r\n        return { x, y, rotation, textAnchor, transform, dominantBaseline };\r\n    }\r\n}\r\nPlotband.selectors = style;\n\nexport { Plotband };\n\n", "import { PlotlineLabelPosition } from './types.js';\n\nconst LINE_STYLE = {\r\n    solid: 'none',\r\n    shortDash: '6,2',\r\n    shortDot: '2,2',\r\n    shortDashDot: '6,2,2,2',\r\n    shortDashDotDot: '6,2,2,2,2,2',\r\n    dot: '2,6',\r\n    dash: '8,6',\r\n    longDash: '16,6',\r\n    dashDot: '8,6,2,6',\r\n    longDashDot: '16,6,2,6',\r\n    longDashDotDot: '16,6,2,6,2,6',\r\n};\r\nconst HORIZONTAL_X = {\r\n    [PlotlineLabelPosition.TopLeft]: ({ width, offsetX, offsetY }) => ({ x: width - offsetX, y: offsetY, textAnchor: 'end', dominantBaseline: 'text-before-edge' }),\r\n    [PlotlineLabelPosition.Top]: ({ width, offsetY }) => ({ x: width, y: offsetY, textAnchor: 'middle', dominantBaseline: 'text-before-edge' }),\r\n    [PlotlineLabelPosition.TopRight]: ({ width, offsetX, offsetY }) => ({ x: width + offsetX, y: offsetY, textAnchor: 'start', dominantBaseline: 'text-before-edge' }),\r\n    [PlotlineLabelPosition.Right]: ({ width, height, offsetX }) => ({ x: width + offsetX, y: height / 2, textAnchor: 'start', dominantBaseline: 'middle' }),\r\n    [PlotlineLabelPosition.BottomRight]: ({ width, height, offsetX, offsetY }) => ({ x: width + offsetX, y: height - offsetY, textAnchor: 'start', dominantBaseline: 'text-after-edge' }),\r\n    [PlotlineLabelPosition.Bottom]: ({ width, height, offsetY }) => ({ x: width, y: height - offsetY, textAnchor: 'middle', dominantBaseline: 'text-after-edge' }),\r\n    [PlotlineLabelPosition.BottomLeft]: ({ width, height, offsetX, offsetY }) => ({ x: width - offsetX, y: height - offsetY, textAnchor: 'end', dominantBaseline: 'text-after-edge' }),\r\n    [PlotlineLabelPosition.Left]: ({ width, height, offsetX }) => ({ x: width - offsetX, y: height / 2, textAnchor: 'end', dominantBaseline: 'middle' }),\r\n};\r\nconst VERTICAL_X = {\r\n    [PlotlineLabelPosition.TopLeft]: ({ width, offsetX, offsetY }) => ({ x: width - offsetX, y: offsetY, textAnchor: 'end', dominantBaseline: 'text-after-edge' }),\r\n    [PlotlineLabelPosition.Top]: ({ width, offsetY }) => ({ x: width, y: offsetY, textAnchor: 'end', dominantBaseline: 'middle' }),\r\n    [PlotlineLabelPosition.TopRight]: ({ width, offsetX, offsetY }) => ({ x: width + offsetX, y: offsetY, textAnchor: 'end', dominantBaseline: 'text-before-edge' }),\r\n    [PlotlineLabelPosition.Right]: ({ width, height, offsetX }) => ({ x: width + offsetX, y: height / 2, textAnchor: 'middle', dominantBaseline: 'text-before-edge' }),\r\n    [PlotlineLabelPosition.BottomRight]: ({ width, height, offsetX, offsetY }) => ({ x: width + offsetX, y: height - offsetY, textAnchor: 'start', dominantBaseline: 'text-before-edge' }),\r\n    [PlotlineLabelPosition.Bottom]: ({ width, height, offsetY }) => ({ x: width, y: height - offsetY, textAnchor: 'start', dominantBaseline: 'middle' }),\r\n    [PlotlineLabelPosition.BottomLeft]: ({ width, height, offsetX, offsetY }) => ({ x: width - offsetX, y: height - offsetY, textAnchor: 'start', dominantBaseline: 'text-after-edge' }),\r\n    [PlotlineLabelPosition.Left]: ({ width, height, offsetX }) => ({ x: width - offsetX, y: height / 2, textAnchor: 'middle', dominantBaseline: 'text-after-edge' }),\r\n};\r\nconst HORIZONTAL_Y = {\r\n    [PlotlineLabelPosition.TopLeft]: ({ offsetX, height, offsetY }) => ({ x: offsetX, y: height - offsetY, textAnchor: 'start', dominantBaseline: 'text-after-edge' }),\r\n    [PlotlineLabelPosition.Top]: ({ width, height, offsetY }) => ({ x: width / 2, y: height - offsetY, textAnchor: 'middle', dominantBaseline: 'text-after-edge' }),\r\n    [PlotlineLabelPosition.TopRight]: ({ width, offsetX, height, offsetY }) => ({ x: width - offsetX, y: height - offsetY, textAnchor: 'end', dominantBaseline: 'text-after-edge' }),\r\n    [PlotlineLabelPosition.Right]: ({ width, offsetX, height }) => ({ x: width - offsetX, y: height, textAnchor: 'end', dominantBaseline: 'middle' }),\r\n    [PlotlineLabelPosition.BottomRight]: ({ width, offsetX, height, offsetY }) => ({ x: width - offsetX, y: height + offsetY, textAnchor: 'end', dominantBaseline: 'text-before-edge' }),\r\n    [PlotlineLabelPosition.Bottom]: ({ width, height, offsetY }) => ({ x: width / 2, y: height + offsetY, textAnchor: 'middle', dominantBaseline: 'text-before-edge' }),\r\n    [PlotlineLabelPosition.BottomLeft]: ({ offsetX, height, offsetY }) => ({ x: offsetX, y: height + offsetY, textAnchor: 'start', dominantBaseline: 'text-before-edge' }),\r\n    [PlotlineLabelPosition.Left]: ({ offsetX, height }) => ({ x: offsetX, y: height, textAnchor: 'start', dominantBaseline: 'middle' }),\r\n};\r\nconst VERTICAL_Y = {\r\n    [PlotlineLabelPosition.TopLeft]: ({ offsetX, height, offsetY }) => ({ x: offsetX, y: height - offsetY, textAnchor: 'start', dominantBaseline: 'text-before-edge' }),\r\n    [PlotlineLabelPosition.Top]: ({ width, height, offsetY }) => ({ x: width / 2, y: height - offsetY, textAnchor: 'start', dominantBaseline: 'central' }),\r\n    [PlotlineLabelPosition.TopRight]: ({ width, offsetX, height, offsetY }) => ({ x: width - offsetX, y: height - offsetY, textAnchor: 'start', dominantBaseline: 'text-after-edge' }),\r\n    [PlotlineLabelPosition.Right]: ({ width, offsetX, height }) => ({ x: width - offsetX, y: height, textAnchor: 'middle', dominantBaseline: 'text-after-edge' }),\r\n    [PlotlineLabelPosition.BottomRight]: ({ width, offsetX, height, offsetY }) => ({ x: width - offsetX, y: height + offsetY, textAnchor: 'end', dominantBaseline: 'text-after-edge' }),\r\n    [PlotlineLabelPosition.Bottom]: ({ width, height, offsetY }) => ({ x: width / 2, y: height + offsetY, textAnchor: 'end', dominantBaseline: 'central' }),\r\n    [PlotlineLabelPosition.BottomLeft]: ({ offsetX, height, offsetY }) => ({ x: offsetX, y: height + offsetY, textAnchor: 'end', dominantBaseline: 'text-before-edge' }),\r\n    [PlotlineLabelPosition.Left]: ({ offsetX, height }) => ({ x: offsetX, y: height, textAnchor: 'middle', dominantBaseline: 'text-before-edge' }),\r\n};\n\nexport { HORIZONTAL_X, HORIZONTAL_Y, LINE_STYLE, VERTICAL_X, VERTICAL_Y };\n\n", "import { XYComponentDefaultConfig } from '../../core/xy-component/config.js';\nimport { AxisType } from '../axis/types.js';\nimport { PlotlineLineStylePresets, PlotlineLabelPosition, PlotlineLabelOrientation } from './types.js';\n\n// Config\r\nconst PlotlineDefaultConfig = Object.assign(Object.assign({}, XYComponentDefaultConfig), { lineWidth: 2, axis: AxisType.Y, value: 0, duration: 300, color: undefined, lineStyle: PlotlineLineStylePresets.Solid, labelPosition: PlotlineLabelPosition.TopRight, labelOffsetX: 14, labelOffsetY: 14, labelOrientation: PlotlineLabelOrientation.Horizontal });\n\nexport { PlotlineDefaultConfig };\n\n", "import { injectGlobal, css } from '@emotion/css';\n\nconst globalStyles = injectGlobal `\n  :root {\n    --vis-plotline-color: rgb(226, 32, 58);\n    --vis-plotline-width: 2;\n    --vis-plotline-dasharray: none;\n    --vis-plotline-stroke-dashoffset: 0;\n    --vis-plotline-label-font-size: 12px;\n    --vis-plotline-label-color: #000;\n\n    --vis-dark-plotline-label-color: #e5e9f7;\n  }\n\n  body.theme-dark {\n    --vis-plotline-label-color: var(--vis-dark-tooltip-text-color);\n  }\n`;\r\nconst root = css `\n  label: plotline-component;\n`;\r\nconst plotline = css `\n  label: plotline;\n  transition: opacity 200ms;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  stroke: var(--vis-plotline-color);\n  stroke-width: var(--vis-plotline-width);\n  stroke-dasharray: var(--vis-plotline-dasharray);\n  stroke-dashoffset: var(--vis-plotline-stroke-dashoffset);\n`;\r\nconst label = css `\n  label: plotline-label;\n  text-anchor: middle;\n  /* dominant-baseline: middle; */\n  pointer-events: none;\n  font-size: var(--vis-plotline-label-font-size);\n  fill: var(--vis-plotline-label-color);\n`;\n\nexport { globalStyles, label, plotline, root };\n\n", "import { smartTransition } from '../../utils/d3.js';\nimport { XYComponentCore } from '../../core/xy-component/index.js';\nimport { AxisType } from '../axis/types.js';\nimport { LINE_STYLE, VERTICAL_X, HORIZONTAL_X, VERTICAL_Y, HORIZONTAL_Y } from './constants.js';\nimport { PlotlineDefaultConfig } from './config.js';\nimport { PlotlineLabelOrientation } from './types.js';\nimport * as style from './style.js';\nimport { plotline, label } from './style.js';\n\n// Utils\r\nclass Plotline extends XYComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = PlotlineDefaultConfig;\r\n        if (config)\r\n            this.setConfig(config);\r\n        this.plotline = this.g\r\n            .append('line')\r\n            .attr('class', plotline);\r\n        this.label = this.g\r\n            .append('text')\r\n            .attr('class', label);\r\n    }\r\n    _render(customDuration) {\r\n        super._render(customDuration);\r\n        const { config } = this;\r\n        this.value = config.value;\r\n        let strokeDashArray;\r\n        if (typeof (config === null || config === void 0 ? void 0 : config.lineStyle) === 'string') {\r\n            strokeDashArray = LINE_STYLE[config.lineStyle];\r\n        }\r\n        else if (Array.isArray(config.lineStyle)) {\r\n            strokeDashArray = config.lineStyle.join(',');\r\n        }\r\n        else {\r\n            strokeDashArray = 'none';\r\n        }\r\n        this.value = config.value;\r\n        this.plotline\r\n            .attr('stroke-opacity', 1)\r\n            .style('stroke-width', config.lineWidth)\r\n            .style('stroke-dasharray', strokeDashArray)\r\n            .style('stroke', config.color);\r\n        let x1 = 0;\r\n        let x2 = 0;\r\n        let y1 = 0;\r\n        let y2 = 0;\r\n        if (config.axis === AxisType.Y) {\r\n            y1 = this.yScale(this.value);\r\n            y2 = this.yScale(this.value);\r\n            x1 = 0;\r\n            x2 = this._width;\r\n        }\r\n        else {\r\n            y1 = 0;\r\n            y2 = this._height;\r\n            x1 = this.xScale(this.value);\r\n            x2 = this.xScale(this.value);\r\n        }\r\n        smartTransition(this.plotline, config.duration)\r\n            .attr('x1', x1)\r\n            .attr('x2', x2)\r\n            .attr('y1', y1)\r\n            .attr('y2', y2);\r\n        if (config.labelText) {\r\n            const labelProps = this.computeLabel(config.axis, x2, y2, config.labelPosition, config.labelOffsetX, config.labelOffsetY, config.labelOrientation);\r\n            this.label\r\n                .text(config.labelText)\r\n                .attr('transform', labelProps.transform)\r\n                .attr('dominant-baseline', labelProps.dominantBaseline)\r\n                .style('fill', config.labelColor)\r\n                .style('text-anchor', labelProps.textAnchor)\r\n                .style('font-size', config.labelSize ? `${config.labelSize}px` : undefined);\r\n            smartTransition(this.label, config.duration)\r\n                .attr('x', labelProps.x)\r\n                .attr('y', labelProps.y);\r\n        }\r\n        smartTransition(this.plotline.exit())\r\n            .style('opacity', 0)\r\n            .remove();\r\n    }\r\n    computeLabel(axis, width, height, position, offsetX, offsetY, orientation) {\r\n        const isVertical = orientation === PlotlineLabelOrientation.Vertical;\r\n        const rotation = isVertical ? -90 : 0;\r\n        let layout;\r\n        if (axis === AxisType.X) {\r\n            const map = isVertical ? VERTICAL_X : HORIZONTAL_X;\r\n            layout = map[position]({ width, height, offsetX, offsetY });\r\n        }\r\n        else {\r\n            const map = isVertical ? VERTICAL_Y : HORIZONTAL_Y;\r\n            layout = map[position]({ width, height, offsetX, offsetY });\r\n        }\r\n        const transform = rotation ? `rotate(${rotation}, ${layout.x}, ${layout.y})` : '';\r\n        return Object.assign(Object.assign({}, layout), { rotation,\r\n            transform });\r\n    }\r\n}\r\nPlotline.selectors = style;\n\nexport { Plotline };\n\n", "import { ComponentDefaultConfig } from '../../core/component/config.js';\nimport { FitMode, TrimMode } from '../../types/text.js';\n\nconst TreemapDefaultConfig = Object.assign(Object.assign({}, ComponentDefaultConfig), { id: (d, i) => { var _a; return (_a = d.id) !== null && _a !== void 0 ? _a : i; }, value: undefined, tileColor: undefined, layers: [], tilePadding: 2, tilePaddingTop: undefined, labelInternalNodes: false, labelOffsetX: 4, labelOffsetY: 4, labelFit: FitMode.Wrap, labelTrimMode: TrimMode.Middle, tileBorderRadius: 2, tileBorderRadiusFactor: 1 / 8, enableLightnessVariance: false, enableTileLabelFontSizeVariation: true, tileLabelSmallFontSize: 8, tileLabelMediumFontSize: 12, tileLabelLargeFontSize: 22, showTileClickAffordance: false, lightnessVariationAmount: 0.08, minTileSizeForLabel: 20, numberFormat: (value) => `${value}`, tileLabel: function (d) { return `${d.data.key}: ${this.numberFormat(d.value)}`; } });\n\nexport { TreemapDefaultConfig };\n\n", "import { css } from '@emotion/css';\nimport { getCssVarNames, injectGlobalCssVariables } from '../../utils/style.js';\n\nconst cssVarDefaults = {\r\n    '--vis-treemap-tile-stroke-color': '#fff',\r\n    '--vis-treemap-tile-stroke-width': '2px',\r\n    '--vis-treemap-tile-hover-stroke-color': '#fff',\r\n    '--vis-treemap-tile-hover-stroke-opacity': 0,\r\n    /* Labels */\r\n    '--vis-treemap-label-opacity': 0.8,\r\n    '--vis-treemap-label-font-weight': 'normal',\r\n    '--vis-treemap-label-text-color': '#000',\r\n    '--vis-treemap-label-text-color-light': '#fff',\r\n    '--vis-treemap-label-font-size': '12px',\r\n};\r\nconst root = css `\n  label: treemap-component;\n`;\r\nconst variables = getCssVarNames(cssVarDefaults);\r\ninjectGlobalCssVariables(cssVarDefaults, root);\r\nconst tiles = css `\n  label: g-tiles;\n`;\r\nconst tileGroup = css `\n  label: tile-group;\n`;\r\nconst tile = css `\n  label: tile;\n  stroke: var(${variables.treemapTileHoverStrokeColor});\n  stroke-opacity: 0;\n\n  &:hover {\n    stroke-opacity: var(${variables.treemapTileHoverStrokeOpacity})\n  }\n`;\r\n// The leaf tiles are clickable\r\nconst clickableTile = css `\n  label: clickable-tile;\n  cursor: pointer;\n`;\r\nconst tileForeground = css `\n  label: tile-foreground;\n`;\r\nconst label = css `\n  label: label;\n  text-anchor: start;\n  dominant-baseline: hanging;\n  user-select: none;\n  pointer-events: none;\n  font-size: var(${variables.treemapLabelFontSize});\n  opacity: var(${variables.treemapLabelOpacity});\n  fill: var(${variables.treemapLabelTextColor});\n  font-weight: var(${variables.treemapLabelFontWeight});\n`;\r\nconst internalLabel = css `\n  label: internal-label;\n  font-weight: 500;\n`;\r\nconst labelGroup = css `\n  label: label-group;\n`;\n\nexport { clickableTile, internalLabel, label, labelGroup, root, tile, tileForeground, tileGroup, tiles, variables };\n\n", "import { select } from 'd3-selection';\nimport { hierarchy, treemap } from 'd3-hierarchy';\nimport { extent, group, max } from 'd3-array';\nimport { scaleLinear, scaleThreshold } from 'd3-scale';\nimport { hsl } from 'd3-color';\nimport { ComponentCore } from '../../core/component/index.js';\nimport { SeriesDataModel } from '../../data-models/series.js';\nimport { getColor, getHexValue, brighter, isColorDark } from '../../utils/color.js';\nimport { isNumber, getString, getNumber } from '../../utils/data.js';\nimport { smartTransition } from '../../utils/d3.js';\nimport { wrapSVGText, trimSVGText } from '../../utils/text.js';\nimport { cssvar } from '../../utils/style.js';\nimport { FitMode } from '../../types/text.js';\nimport { TreemapDefaultConfig } from './config.js';\nimport * as style from './style.js';\nimport { tiles, tileGroup, tile, clickableTile, labelGroup, label, variables, internalLabel } from './style.js';\n\nclass Treemap extends ComponentCore {\r\n    constructor(config) {\r\n        super();\r\n        this._defaultConfig = TreemapDefaultConfig;\r\n        this.config = this._defaultConfig;\r\n        this.datamodel = new SeriesDataModel();\r\n        if (config)\r\n            this.setConfig(config);\r\n        this.tiles = this.g.append('g').attr('class', tiles);\r\n    }\r\n    _isTileLargeEnough(d) {\r\n        const w = d.x1 - d.x0;\r\n        const h = d.y1 - d.y0;\r\n        return (w >= this.config.minTileSizeForLabel) && (h >= this.config.minTileSizeForLabel);\r\n    }\r\n    _getTileLightness(node, siblings) {\r\n        // Get the value extent of the sibling group\r\n        const [minValue, maxValue] = extent(siblings, d => d.value);\r\n        // If there's no range or no value, return default lightness\r\n        if (minValue === maxValue || !node.value)\r\n            return 0;\r\n        // Calculate relative position in the range (0 to 1)\r\n        // Larger values will be closer to 0 (darker)\r\n        return this.config.lightnessVariationAmount * ((maxValue - node.value) / (maxValue - minValue));\r\n    }\r\n    _render(customDuration) {\r\n        var _a;\r\n        super._render(customDuration);\r\n        const { config, datamodel: { data }, _width, _height } = this;\r\n        const duration = isNumber(customDuration) ? customDuration : config.duration;\r\n        if (!((_a = config.layers) === null || _a === void 0 ? void 0 : _a.length)) {\r\n            console.warn('Unovis | Treemap: No layers defined');\r\n            return;\r\n        }\r\n        // Map each layer accessor function to get string values from the data array\r\n        const layerAccessors = config.layers.map(layerAccessor => {\r\n            return (i) => getString(data[i], layerAccessor, i);\r\n        });\r\n        // Group the data indices by the layer accessors to create a hierarchical structure\r\n        const nestedData = group(data.keys(), ...layerAccessors);\r\n        // Create the hierarchy from the grouped data,\r\n        // which by itself is not quite right because there is an extra\r\n        // level of nesting that we don't want, just above the leaf nodes.\r\n        const rootNode = hierarchy(nestedData);\r\n        // Compute the aggregation\r\n        if (config.value) {\r\n            rootNode.sum(index => isNumber(index) && getNumber(data[index], config.value, index));\r\n        }\r\n        else {\r\n            rootNode.count();\r\n        }\r\n        // Fix the hierarchy by removing the extra level of nesting\r\n        rootNode.each(node => {\r\n            if (!node.children && node.parent) {\r\n                node.parent.children = null;\r\n            }\r\n        });\r\n        const treemapLayout = treemap()\r\n            .size([_width, _height])\r\n            .round(true)\r\n            .padding(config.tilePadding);\r\n        // Apply padding to the top of each tile,\r\n        // but not for the root node.\r\n        if (this.config.tilePaddingTop !== undefined) {\r\n            treemapLayout.paddingTop(d => d.parent ? config.tilePaddingTop : 0);\r\n        }\r\n        // Compute the treemap layout\r\n        const treemapData = treemapLayout(rootNode);\r\n        // Process the resulting hierarchy into the type we need\r\n        let nodeId = 0;\r\n        treemapData.each(node => {\r\n            const n = node;\r\n            // Generate unique IDs for each node\r\n            node._id = `node-${nodeId++}`;\r\n            const treemapDatum = {\r\n                key: n.data[0],\r\n            };\r\n            // Populate the index and datum for leaf nodes\r\n            const isLeafNode = !n.children;\r\n            if (isLeafNode) {\r\n                treemapDatum.index = n.data[1][0];\r\n                treemapDatum.datum = data[treemapDatum.index];\r\n            }\r\n            node.data = treemapDatum;\r\n        });\r\n        const descendants = treemapData.descendants();\r\n        // Set up the brightness increase scale based on depth\r\n        const maxDepth = max(descendants, d => d.depth);\r\n        const brightnessIncrease = scaleLinear()\r\n            .domain([1, maxDepth])\r\n            .range([0, 1]);\r\n        // Get all leaf node values and calculate their square roots\r\n        // (since area is proportional to value)\r\n        const leafValues = descendants.filter(d => !d.children).map(d => d.value);\r\n        const maxLeafValue = Math.sqrt(max(leafValues)) || 0;\r\n        // Divide the range into three equal intervals based on the square root of values\r\n        // This accounts for the fact that area is proportional to value\r\n        const fontSizeScale = scaleThreshold()\r\n            .domain([\r\n            maxLeafValue / 3,\r\n            (maxLeafValue * 2) / 3, // Second third of the max value\r\n        ])\r\n            .range([\r\n            config.tileLabelSmallFontSize,\r\n            config.tileLabelMediumFontSize,\r\n            config.tileLabelLargeFontSize,\r\n        ]);\r\n        const visibleTiles = descendants.filter(d => d.depth > 0);\r\n        const firstLevelTiles = visibleTiles.filter(d => d.depth === 1);\r\n        const nonFirstLevelTiles = visibleTiles.filter(d => d.depth > 1);\r\n        // Set the fill color for the first level tiles\r\n        firstLevelTiles.forEach((d, i) => {\r\n            d._fill = getColor(d, config.tileColor, i);\r\n        });\r\n        // Set the fill color for the non-first level tiles\r\n        nonFirstLevelTiles.forEach((d, i) => {\r\n            var _a;\r\n            const providedColor = getColor(d, config.tileColor, i, true);\r\n            if (providedColor) {\r\n                d._fill = providedColor;\r\n                return;\r\n            }\r\n            const hslColor = hsl(getHexValue((_a = d.parent) === null || _a === void 0 ? void 0 : _a._fill, this.element));\r\n            if (config.enableLightnessVariance && !d.children && d.parent) {\r\n                const siblings = d.parent.children;\r\n                const lightnessAdjustment = this._getTileLightness(d, siblings);\r\n                hslColor.l = Math.min(1, hslColor.l + lightnessAdjustment);\r\n            }\r\n            d._fill = brighter(hslColor.toString(), brightnessIncrease(d.depth));\r\n        });\r\n        // Render tiles\r\n        const tiles = this.tiles\r\n            .selectAll(`g.${tileGroup}`)\r\n            .data(visibleTiles, d => `${d.data.key}-${d.depth}`);\r\n        const tilesEnter = tiles\r\n            .enter()\r\n            .append('g')\r\n            .attr('class', tileGroup);\r\n        // Computes the rect border radius for a given tile.\r\n        // The rx and ry values are the minimum of the tile\r\n        // border radius and some fraction the width of the tile,\r\n        // based on the tileBorderRadiusFactor config.\r\n        // This ensures that the tile border radius is not\r\n        // larger than the tile size, which makes small tiles\r\n        // look better.\r\n        const getTileBorderRadius = (d) => Math.min(config.tileBorderRadius, (d.x1 - d.x0) * config.tileBorderRadiusFactor);\r\n        // Add clipPath elements\r\n        tilesEnter\r\n            .append('clipPath')\r\n            .attr('id', d => `clip-${this.uid}-${d._id}`)\r\n            .append('rect')\r\n            .attr('rx', getTileBorderRadius)\r\n            .attr('ry', getTileBorderRadius);\r\n        // Tile rectangles\r\n        const tileRects = tilesEnter\r\n            .append('rect')\r\n            .classed(tile, true)\r\n            .classed(clickableTile, d => config.showTileClickAffordance && !d.children)\r\n            .attr('rx', getTileBorderRadius)\r\n            .attr('ry', getTileBorderRadius)\r\n            .attr('x', d => d.x0)\r\n            .attr('y', d => d.y0)\r\n            .attr('width', d => d.x1 - d.x0)\r\n            .attr('height', d => d.y1 - d.y0)\r\n            .style('fill', d => d._fill)\r\n            .style('opacity', 0)\r\n            .style('cursor', config.showTileClickAffordance ? d => !d.children ? 'pointer' : null : null);\r\n        tileRects.append('title');\r\n        tilesEnter\r\n            .append('g')\r\n            .attr('class', labelGroup)\r\n            .attr('clip-path', d => `url(#clip-${this.uid}-${d._id})`)\r\n            .attr('transform', d => `translate(${d.x0 + config.labelOffsetX},${d.y0 + config.labelOffsetY})`)\r\n            .style('opacity', 0)\r\n            .append('text')\r\n            .attr('class', label)\r\n            .attr('x', 0)\r\n            .attr('y', 0);\r\n        const mergedTiles = tiles.merge(tilesEnter);\r\n        const tileRectsMerged = mergedTiles.select(`rect.${tile}`);\r\n        smartTransition(tileRectsMerged, duration)\r\n            .style('fill', d => d._fill)\r\n            .style('opacity', 1)\r\n            .attr('x', d => d.x0)\r\n            .attr('y', d => d.y0)\r\n            .attr('width', d => d.x1 - d.x0)\r\n            .attr('height', d => d.y1 - d.y0);\r\n        tileRectsMerged.select('title')\r\n            .text(d => config.tileLabel(d));\r\n        // Update clipPath rects\r\n        mergedTiles.select('clipPath rect')\r\n            .attr('width', d => d.x1 - d.x0 - 2 * config.labelOffsetX)\r\n            .attr('height', d => d.y1 - d.y0 - 2 * config.labelOffsetY);\r\n        const textSelection = mergedTiles.selectAll(`g.${labelGroup} text`);\r\n        textSelection\r\n            .text(d => config.tileLabel(d))\r\n            .attr('title', d => config.tileLabel(d))\r\n            .property('font-size-px', d => {\r\n            var _a;\r\n            const sqrtVal = Math.sqrt((_a = d.value) !== null && _a !== void 0 ? _a : 0);\r\n            return config.enableTileLabelFontSizeVariation && !d.children\r\n                ? fontSizeScale(sqrtVal)\r\n                : null; // Use the default css variable value\r\n        })\r\n            .style('font-size', (_, i, els) => `${select(els[i]).property('font-size-px')}px`)\r\n            .style('fill', d => cssvar(isColorDark(d._fill) ? variables.treemapLabelTextColorLight : variables.treemapLabelTextColor));\r\n        // Fit label (wrap or trim)\r\n        textSelection.each((d, i, els) => {\r\n            var _a;\r\n            const isLeafNode = !d.children;\r\n            const el = els[i];\r\n            const text = select(el);\r\n            const tileWidth = d.x1 - d.x0 - ((_a = config.labelOffsetX) !== null && _a !== void 0 ? _a : 0) * 2;\r\n            const fontSize = parseFloat(text.property('font-size-px')) || parseFloat(window.getComputedStyle(el).fontSize);\r\n            if (config.labelFit === FitMode.Wrap && isLeafNode) {\r\n                wrapSVGText(text, tileWidth);\r\n            }\r\n            else {\r\n                trimSVGText(text, tileWidth, config.labelTrimMode, true, fontSize);\r\n            }\r\n        });\r\n        // Transition group position\r\n        smartTransition(mergedTiles.select(`g.${labelGroup}`), duration)\r\n            .attr('transform', d => `translate(${d.x0 + config.labelOffsetX},${d.y0 + config.labelOffsetY})`);\r\n        // Transition text opacity only (fade-in)\r\n        smartTransition(mergedTiles.select(`g.${labelGroup}`), duration)\r\n            .style('opacity', 1);\r\n        // Hide labels that don't meet criteria\r\n        mergedTiles.select(`text.${label}`)\r\n            .style('display', d => {\r\n            const isAllowedNode = config.labelInternalNodes ? true : !d.children;\r\n            return isAllowedNode && this._isTileLargeEnough(d) ? null : 'none';\r\n        })\r\n            // Make the internal labels semibold via class\r\n            .attr('class', d => d.children ? `${label} ${internalLabel}` : label);\r\n        smartTransition(tiles.exit(), duration)\r\n            .style('opacity', 0)\r\n            .remove();\r\n    }\r\n}\r\nTreemap.selectors = style;\n\nexport { Treemap };\n\n", "import { css } from '@emotion/css';\n\nconst styleLargeSize = css `\n  label: large-size;\n\n  /* Axis */\n  --vis-axis-label-font-size: 18px;\n  --vis-axis-tick-label-font-size: 16px;\n\n  /* Donut */\n  --vis-donut-central-label-font-size: 20px;\n  --vis-donut-central-sub-label-font-size: 16px;\n\n  /* Graph */\n  --vis-graph-node-bottom-icon-font-size: 18pt;\n  --vis-graph-node-label-font-size: 12pt;\n  --vis-graph-node-sublabel-font-size: 10pt;\n  --vis-graph-panel-label-font-size: 14pt;\n\n  /* LeafletMap */\n  --vis-map-point-bottom-label-font-size: 14px;\n\n  /* Legend */\n  --vis-legend-label-font-size: 16px;\n  --vis-legend-bullet-label-spacing: 10px;\n  --vis-legend-bullet-size: 12px;\n\n  /* Sankey */\n  --vis-sankey-node-label-font-size: 16px;\n  --vis-sankey-node-sublabel-font-size: 14px;\n  --vis-sankey-icon-size: 28px;\n\n  /* Scatter */\n  --vis-scatter-point-label-text-font-size: 16px;\n\n  /* Timeline */\n  --vis-timeline-label-font-size: 18px;\n\n  /* TopoJSONMap */\n  --vis-map-point-label-font-size: 16px;\n\n  /* XYLabels */\n  --vis-xy-label-font-size: 16px;\n  --vis-xy-label-cluster-font-size: 18px;\n\n  /* Override leaflet.css */\n  .leaflet-touch .leaflet-control-zoom-in, .leaflet-touch .leaflet-control-zoom-out  {\n    font-size: 28px;\n  }\n  .leaflet-control-attribution a {\n    font-size: 10pt;\n  }\n  .leaflet-container .leaflet-control-attribution,\n  .leaflet-container .leaflet-control-scale,\n  .leaflet-control-scale-line {\n    font-size: 14px;\n  }\n  `;\r\nconst styleExtraLargeSize = css `\n  label: extra-large-size;\n\n  /* Axis */\n  --vis-axis-label-font-size: 28px;\n  --vis-axis-tick-label-font-size: 24px;\n\n  /* Donut */\n  --vis-donut-central-label-font-size: 32px;\n  --vis-donut-central-sub-label-font-size: 24px;\n\n  /* Graph */\n  --vis-graph-node-bottom-icon-font-size: 28pt;\n  --vis-graph-node-label-font-size: 18pt;\n  --vis-graph-node-sublabel-font-size: 16pt;\n  --vis-graph-panel-label-font-size: 20pt;\n\n  /* LeafletMap */\n  --vis-map-point-bottom-label-font-size: 20px;\n\n  /* Legend */\n  --vis-legend-label-font-size: 24px;\n  --vis-legend-bullet-label-spacing: 16px;\n  --vis-legend-bullet-size: 18px;\n\n  /* Sankey */\n  --vis-sankey-node-label-font-size: 24px;\n  --vis-sankey-node-sublabel-font-size: 20px;\n  --vis-sankey-icon-size: 44px;\n\n  /* Scatter */\n  --vis-scatter-point-label-text-font-size: 24px;\n\n  /* Timeline */\n  --vis-timeline-label-font-size: 28px;\n\n  /* TopoJSONMap */\n  --vis-map-point-label-font-size: 24px;\n\n  /* XYLabels */\n  --vis-xy-label-font-size: 24px;\n  --vis-xy-label-cluster-font-size: 28px;\n\n  /* Override leaflet.css */\n  .leaflet-touch .leaflet-control-zoom-in, .leaflet-touch .leaflet-control-zoom-out  {\n    font-size: 44px;\n  }\n  .leaflet-control-attribution a {\n    font-size: 14pt;\n  }\n  .leaflet-container .leaflet-control-attribution,\n  .leaflet-container .leaflet-control-scale,\n  .leaflet-control-scale-line {\n    font-size: 22px;\n  }\n`;\n\nexport { styleExtraLargeSize, styleLargeSize };\n\n", "const DefaultRange = [1, 40];\n\nexport { DefaultRange };\n\n"],
  "mappings": "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",
  "names": ["parseUnit", "parseUnit", "unit", "size", "global", "Symbol", "name", "striptags", "name", "name", "document", "select", "groups", "m", "group", "node", "x", "select", "groups", "m", "group", "node", "node", "groups", "m", "group", "node", "datum", "x", "group", "node", "value", "groups", "m", "selection", "m", "merge", "node", "groups", "m", "group", "node", "ascending", "a", "groups", "m", "group", "node", "groups", "m", "group", "node", "size", "node", "groups", "m", "group", "node", "name", "value", "node", "node", "name", "value", "node", "name", "value", "node", "name", "value", "value", "value", "name", "create", "name", "create", "select", "value", "name", "m", "value", "node", "type", "window", "dispatch_default", "groups", "m", "group", "node", "groups", "dispatch_default", "select_default", "node", "id", "value", "node", "point", "rect", "ComponentType", "Sizing", "ResizeObserverBoxOptions", "ResizeObserverSize", "DOMRectReadOnly", "x", "y", "top", "right", "bottom", "left", "borderTop", "borderRight", "borderBottom", "borderLeft", "ResizeObserverEntry", "node", "callbacks", "targetDepth", "ResizeObserver", "Scheduler", "name", "ResizeObservation", "size", "ResizeObserverDetail", "ResizeObserverController", "index", "ResizeObserver", "ResizeObserver", "select_default", "merge", "ResizeObserver", "s", "toPx", "left2", "right2", "id", "a", "basis", "iterations", "value", "format", "m", "a", "k", "value", "s", "min", "max", "y", "x", "a", "k", "y", "x", "c", "k", "k", "s", "a", "cosh", "sinh", "hex", "c", "c", "node", "name", "id", "index", "group", "start", "tick", "node", "name", "empty", "interrupt_default", "name", "t1", "t2", "t3", "constant_default", "x", "a", "y", "constant_default", "y", "color", "rgb", "start", "colors", "a", "c", "x", "a", "x", "c", "a", "a", "a", "c", "k", "a", "s", "i", "a", "c", "constant_default", "a", "degrees", "a", "c", "value", "m", "s", "a", "x", "b0", "b1", "s", "hsl", "hue", "start", "s", "hcl", "hue", "start", "c", "cubehelix", "hue", "y", "start", "s", "i", "id", "name", "value", "transition", "node", "a", "c", "attrRemove", "name", "attrRemoveNS", "attrConstant", "attrConstantNS", "attrFunction", "value", "attrFunctionNS", "attr_default", "name", "value", "t0", "id", "value", "id", "value", "id", "value", "id", "value", "filter_default", "groups", "m", "group", "node", "merge_default", "transition", "m", "merge", "node", "name", "id", "on_default", "id", "remove_default", "select_default", "select", "name", "id", "groups", "m", "group", "node", "selectAll_default", "select", "name", "id", "groups", "m", "group", "node", "children", "inherit", "k", "Selection", "selection_default", "name", "styleRemove", "styleConstant", "styleFunction", "value", "id", "remove", "style_default", "name", "value", "textConstant", "value", "textFunction", "text_default", "value", "t0", "name", "groups", "m", "group", "node", "inherit", "id", "size", "groups", "name", "id", "select_default", "selectAll_default", "filter_default", "merge_default", "selection_default", "on_default", "attr_default", "style_default", "text_default", "remove_default", "linear", "polyIn", "custom", "polyOut", "polyInOut", "x", "custom", "s", "backIn", "backOut", "backInOut", "custom", "a", "s", "elasticIn", "p", "elasticOut", "elasticInOut", "node", "id", "transition_default", "name", "groups", "m", "group", "interrupt_default", "transition_default", "selection", "node", "transition", "tooltip", "value", "AxisType", "range", "index", "range", "value", "round", "reverse", "start", "copy", "x", "x", "identity", "x", "a", "range", "i", "transform", "clamp", "piecewise", "y", "x", "x", "value", "value", "s", "x", "exponent", "x", "exponent", "x", "x", "locale", "group", "sign", "zero", "type", "format", "value", "c", "formatPrefix", "k", "value", "max", "start", "count", "value", "count", "start", "linear", "identity", "x", "x0", "x1", "x", "k", "transform", "count", "c", "x", "transform", "exponent", "x", "transform", "identity", "range", "x", "y", "x0", "x1", "range", "x", "y", "range", "x", "y", "t0", "t1", "count", "date", "start", "range", "date", "start", "k", "date", "start", "date", "start", "date", "start", "date", "start", "date", "start", "date", "start", "date", "start", "k", "ticks", "start", "count", "reverse", "step", "date", "y", "m", "locale", "formats", "c", "pad", "format", "value", "sign", "s", "name", "locale", "defaultLocale", "date", "date", "number", "ticks", "second", "format", "formatYear", "tickFormat", "date", "y", "count", "time", "transformer", "x0", "x1", "t0", "t1", "transform", "identity", "clamp", "x", "range", "copy", "transformer", "x0", "x1", "s", "t0", "t1", "t2", "identity", "transform", "clamp", "x", "range", "copy", "linear", "identity", "time", "ScaleDimension", "Direction", "c", "tooltip", "min", "max", "_a", "bleed", "k", "axis", "m", "type", "select_default", "merge", "transition", "selection", "events", "range", "Position", "PositionStrategy", "Arrangement", "Orientation", "root", "variables", "root", "variables", "select_default", "root", "merge", "translateX", "translateY", "top", "left", "node", "x", "y", "selection", "path", "pi", "tau", "x", "y", "x1", "y1", "x0", "y0", "w", "constant_default", "x", "constant", "max", "min", "sqrt", "epsilon", "pi", "halfPi", "tau", "x", "x0", "y0", "x1", "y1", "epsilon", "sqrt", "x00", "y00", "D", "max", "constant_default", "arc", "halfPi", "tau", "min", "t0", "t1", "pi", "a", "x", "y", "x", "y", "constant_default", "line", "x0", "x1", "y0", "constant_default", "y1", "area", "k", "a", "identity_default", "value", "identity_default", "sort", "constant_default", "tau", "k", "sum", "index", "i", "j", "a", "radial", "c", "a", "c", "x0", "x1", "y0", "y1", "size", "pi", "tau", "size", "size", "y", "x", "pi", "tau", "size", "x", "y", "a", "c", "s", "size", "w", "x", "size", "y", "size", "x0", "y0", "x1", "y1", "type", "constant_default", "size", "point", "x", "y", "basis_default", "x", "y", "point", "basisClosed_default", "x", "y", "x0", "y0", "point", "x", "y", "x0", "y0", "custom", "beta", "point", "x", "y", "custom", "tension", "x", "y", "point", "custom", "tension", "x", "y", "point", "custom", "tension", "point", "x", "y", "x1", "y1", "x2", "y2", "epsilon", "a", "m", "custom", "alpha", "x", "y", "point", "custom", "alpha", "x", "y", "point", "custom", "alpha", "x", "y", "x", "point", "t0", "t1", "x0", "y0", "x1", "y1", "y", "x", "y", "m", "a", "x", "y", "x1", "object", "symbols", "obj", "value", "points", "left", "right", "t", "array", "extend", "extended", "a", "index", "value", "hex", "rgb", "s", "rgba", "brighter", "c", "color", "threshold", "CurveType", "basis_default", "basisClosed_default", "style_exports", "root", "root", "a", "value", "defined", "lines", "group", "select_default", "transition", "d", "datum", "style_exports", "x", "y", "w", "path", "size", "score", "hLength", "points", "x1", "y1", "threshold", "style_exports", "globalStyles", "root", "root", "globalStyles", "s", "x", "y", "value", "c", "style_exports", "style_exports", "bar", "barGroup", "barGroupExit", "globalStyles", "root", "root", "globalStyles", "bar", "barGroup", "barGroupExit", "barGroup", "x", "y", "barGroupExit", "bar", "value", "c", "min", "max", "style_exports", "identity_default", "x", "epsilon", "x", "y", "number", "tickFormat", "k", "transform", "axis", "format", "identity_default", "range", "selection", "path", "tick", "line", "TrimMode", "VerticalAlign", "FitMode", "TextAlign", "x", "type", "index", "lines", "w", "line", "merge", "text", "k", "y", "value", "striptags", "group", "style_exports", "axis", "root", "variables", "name", "root", "variables", "axis", "type", "selection", "left", "right", "top", "bottom", "ticks", "tickValues", "transition", "node", "value", "select_default", "axis", "path", "i", "label2", "intersect", "label", "translateX", "style_exports", "SymbolType", "Symbol", "x", "y", "selection", "node", "select_default", "group2", "label2", "intersect", "label", "selection", "index", "group", "select_default", "label", "path", "Symbol", "isLabelPositionCenter", "c", "hex", "style_exports", "globalStyles", "point", "root", "globalStyles", "root", "point", "extent", "x", "y", "top", "bottom", "left", "right", "points", "point", "label", "select_default", "style_exports", "root", "selection", "select_default", "constant_default", "x", "type", "x", "y", "value", "filter", "selection", "select_default", "c", "container", "s", "type", "event", "touch", "constant_default", "value", "constant_default", "x", "type", "selection", "nopropagation", "noevent_default", "abs", "max", "min", "number2", "x", "y", "defaultFilter", "defaultTouchable", "local", "node", "empty", "extent", "dim", "extent", "filter", "defaultFilter", "defaultTouchable", "brush", "group", "local", "select_default", "selection", "event", "clean", "type", "E", "points", "min", "max", "point", "abs", "noevent_default", "nopropagation", "empty", "number2", "constant_default", "value", "s", "BrushDirection", "style_exports", "brush", "cssVarDefaults", "root", "variables", "root", "cssVarDefaults", "variables", "brush", "brush", "s", "selection", "range", "style_exports", "import_to_px", "BulletLegendOrientation", "import_to_px", "select_default", "colors", "toPx", "selection", "color", "x1", "Symbol", "style_exports", "label", "root", "variables", "root", "variables", "label", "select_default", "root", "merge", "colors", "toPx", "label", "item", "index", "style_exports", "style_exports", "cssVarDefaults", "label", "root", "variables", "root", "cssVarDefaults", "variables", "label", "select_default", "root", "merge", "label", "style_exports", "FlowLegendItemType", "root", "globalStyles", "line", "item", "clickable", "label", "select_default", "root", "merge", "label", "item", "clickable", "line", "x", "style_exports", "globalStyles", "line", "root", "globalStyles", "root", "line", "line", "x", "y", "tooltip", "linear", "_a", "datum", "value", "index", "a", "style_exports", "Shape", "ChordLabelAlignment", "epsilon", "epsilon2", "pi", "halfPi", "tau", "degrees", "radians", "abs", "atan2", "cos", "log", "pow", "sin", "sign", "x", "sqrt", "acos", "pi", "asin", "halfPi", "object", "features", "cartesian", "atan2", "asin", "spherical", "phi", "cos", "sin", "a", "k", "sqrt", "a", "x", "y", "phi", "abs", "pi", "tau", "cos", "sin", "x", "y", "k", "atan2", "asin", "radians", "degrees", "t0", "t1", "cos", "sin", "tau", "point", "acos", "epsilon", "lines", "line", "x", "y", "m", "a", "abs", "epsilon", "point", "points", "compareIntersection", "segment", "n", "x", "epsilon", "start", "array", "a", "point", "abs", "pi", "sign", "tau", "polygon", "phi", "sin", "cos", "sum", "halfPi", "epsilon", "m", "phi0", "k", "atan2", "arc", "intersection", "asin", "epsilon2", "start", "line", "polygon", "point", "phi", "clean", "m", "segment", "a", "halfPi", "epsilon", "pi", "halfPi", "phi0", "clean", "abs", "epsilon", "sin", "cos", "phi", "circle_default", "cos", "radians", "abs", "epsilon", "phi", "clean", "point2", "c", "pi", "intersect", "a", "c2", "A", "B", "w", "t2", "sqrt", "phi0", "delta", "code", "line_default", "a", "x0", "y0", "x1", "y1", "t0", "t1", "x0", "y0", "x1", "y1", "x", "y", "a", "abs", "epsilon", "compareIntersection", "polygon", "clean", "point", "ring", "m", "b0", "b1", "visible", "line_default", "identity_default", "x", "areaSum", "areaRingSum", "areaStream", "abs", "area", "x", "y", "area_default", "x0", "y0", "x", "y", "x00", "y00", "x0", "y0", "x", "y", "sqrt", "x", "y", "tau", "x00", "y00", "x0", "y0", "x", "y", "sqrt", "x", "y", "s", "k", "append", "path_default", "projection", "path", "object", "area_default", "identity_default", "transformer", "s", "x", "y", "projection", "object", "extent", "w", "k", "x", "y", "size", "cos", "radians", "transformer", "x", "y", "x0", "y0", "b0", "x1", "y1", "b1", "a", "c", "m", "sqrt", "asin", "abs", "epsilon", "atan2", "x00", "y00", "point", "phi", "transformer", "x", "y", "radians", "k", "transform", "cos", "sin", "a", "phi", "x0", "y0", "x1", "y1", "identity_default", "cache", "projection", "point", "degrees", "circle_default", "sqrt", "extent", "object", "size", "center", "phi0", "pi", "m", "radians", "degrees", "phi0", "cos", "phi", "sin", "x", "y", "asin", "y0", "y1", "sin", "abs", "epsilon", "c", "sqrt", "x", "y", "cos", "atan2", "sign", "pi", "asin", "x", "y", "cache", "point", "k", "epsilon", "extent", "object", "size", "x", "y", "cos", "k", "sin", "sqrt", "c", "atan2", "asin", "sqrt", "asin", "c", "acos", "sin", "phi", "log", "halfPi", "x", "y", "tau", "m", "center", "x0", "y0", "x1", "y1", "k", "pi", "y", "halfPi", "y0", "y1", "cos", "sin", "log", "pow", "x", "epsilon", "sign", "sqrt", "atan2", "abs", "pi", "phi", "y0", "y1", "cos", "sin", "abs", "epsilon", "x", "y", "atan2", "sign", "pi", "sqrt", "sqrt", "phi", "asin", "sin", "cos", "x", "y", "abs", "epsilon2", "x", "y", "cos", "k", "sin", "phi", "phi2", "x", "y", "abs", "epsilon", "x", "y", "cos", "sin", "asin", "epsilon", "x", "y", "cos", "k", "sin", "phi", "log", "halfPi", "x", "y", "m", "center", "abs", "atan", "atan2", "cos", "exp", "log", "max", "min", "pow", "sign", "x", "sin", "tan", "epsilon", "epsilon2", "pi", "halfPi", "quarterPi", "sqrt2", "sqrt", "tau", "degrees", "radians", "asin", "acos", "tanh", "exp", "sinh", "cosh", "log", "x", "y", "cos", "acos", "sin", "pi", "epsilon", "x1", "y1", "c", "sqrt", "abs", "phi0", "sin", "cos", "tan", "k", "phi", "atan2", "x", "y", "A", "abs", "epsilon", "radians", "m", "degrees", "phi", "tan", "k", "sqrt", "c", "cos", "x", "sin", "y", "x2", "y2", "abs", "s", "asin", "cosh", "sign", "atan2", "sinh", "sqrt", "log", "sqrt2", "phi", "phi0", "abs", "quarterPi", "tan", "cos", "sin", "sign", "x", "y", "y0", "atan", "exp", "halfPi", "epsilon2", "phi", "cos", "sin", "x", "y", "asin", "y", "x", "epsilon", "abs", "phi", "sin", "cos", "abs", "epsilon", "x", "y", "asin", "sqrt2", "halfPi", "pi", "k", "phi", "pi", "cos", "sqrt2", "sin", "x", "y", "ky", "quarterPi", "abs", "epsilon", "phi0", "m", "radians", "degrees", "phi", "cos", "x", "y", "pi", "phi", "sqrt", "sin", "x", "y", "pi", "asin", "sqrt3", "sqrt", "phi", "cos", "sin", "x", "y", "asin", "cylindricalEqualAreaRaw", "phi0", "cos", "phi", "sin", "x", "y", "asin", "phi0", "cos", "phi", "tan", "x", "y", "atan", "phi", "sqrt", "pi", "abs", "x", "y", "phi", "sqrt", "sin", "abs", "pi", "sign", "x", "y", "asin", "phi", "k", "sqrt", "pi", "x", "y", "phi", "k", "halfPi", "sin", "abs", "epsilon", "cos", "sqrt", "pi", "x", "y", "A", "asin", "c", "phi", "cos", "sqrt", "pi", "x", "y", "k", "phi", "k", "halfPi", "sin", "abs", "epsilon", "cos", "sqrt", "pi", "x", "y", "asin", "sqrt2", "phi", "sin", "cos", "k", "sqrt", "c", "log", "atan", "x", "y", "t2", "A", "max", "halfPi", "min", "abs", "epsilon", "cos", "radians", "phi", "tan", "sqrt", "x", "y", "atan", "phi", "k", "cos", "tan", "x", "y", "atan", "pi", "halfPi", "sqrt", "phi", "cos", "sin", "x", "y", "m", "a", "c", "phi", "pi", "phi2", "m", "asin", "sin", "cos", "x", "y", "m2", "sqrt", "abs", "epsilon", "pi", "phi", "phi2", "x", "y", "abs", "epsilon", "phi", "sign", "cos", "x", "y", "sin", "abs", "atan2", "asin", "halfPi", "epsilon", "point", "pi", "x0", "y0", "k", "sqrt", "a2", "a", "x1", "x2", "epsilon2", "m", "a", "c", "phi", "epsilon", "sin", "cos", "cosh", "tanh", "sinh", "atan", "exp", "halfPi", "sqrt", "abs", "asin", "tan", "sign", "log", "quarterPi", "pi", "pow", "phi", "sqrt2", "k", "sqrt", "K", "halfPi", "log", "tan", "pi", "abs", "exp", "cos", "sin", "x", "y", "x2", "atan2", "a", "atan", "K", "asin", "degrees", "cylindricalEqualAreaRaw", "phi", "x", "y", "phi", "abs", "x", "y", "a", "k", "sqrt", "pi", "sin", "c", "cos", "M", "phi", "sign", "kr", "x", "y", "asin", "radians", "projection", "degrees", "phi", "tau", "sqrt", "pi", "x", "y", "pi", "sqrt2", "phi", "sqrt", "cos", "x", "y", "x0", "abs", "y0", "epsilon", "halfPi", "acos", "sin", "phi", "phi2", "x", "y", "sign", "pi", "abs", "epsilon", "phi", "sin", "cos", "tan", "x", "y", "x2", "y2", "sqrt", "asin", "sign", "acos", "phi", "log", "tan", "quarterPi", "x", "y", "atan", "exp", "pi", "sqrt", "phi", "asin", "sin", "cos", "x", "y", "phi", "k", "sin", "cos", "abs", "epsilon", "sqrt2", "sqrt", "x", "y", "asin", "phi", "A", "sqrt", "pi", "k", "sin", "cos", "abs", "epsilon", "x", "y", "halfPi", "asin", "phi", "phi2", "x", "y", "abs", "epsilon2", "phi", "cos", "tan", "x", "y", "abs", "epsilon", "c", "phi", "sin", "cos", "s", "sign", "abs", "halfPi", "pi", "c", "b2", "M", "m", "sqrt", "x", "y", "x2", "y2", "pi2", "phi", "phi2", "x", "y", "y2", "abs", "epsilon", "phi", "abs", "epsilon", "tan", "k", "sin", "cos", "x", "y", "asin", "sign", "acos", "halfPi", "kx", "sqrt", "a", "x", "y", "K", "phi", "min", "abs", "pi", "k", "sign", "x", "y", "max", "c", "degrees", "epsilon2", "radians", "epsilon", "x0", "epsilon", "x1", "y0", "y1", "phi", "tan", "s", "sin", "quarterPi", "x", "y", "atan", "phi", "abs", "epsilon", "halfPi", "asin", "sign", "pi", "tan", "cos", "A", "A2", "sqrt", "x", "y", "sin", "atan", "x2", "y2", "c2", "acos", "phi", "abs", "epsilon", "halfPi", "asin", "sign", "pi", "tan", "cos", "A", "A2", "x1", "sqrt", "x", "y", "sin", "atan", "B", "atan2", "phi", "abs", "epsilon", "halfPi", "asin", "pi", "tan", "A", "y1", "cos", "sign", "sqrt", "x", "y", "sin", "atan", "phi", "phi0", "abs", "halfPi", "B", "B2", "C", "C2", "D", "sign", "sqrt", "D2", "x1", "x", "y", "pi", "min", "epsilon", "A", "pi", "sqrt", "B", "phi", "sqrt", "pi", "x", "y", "phi", "cos", "atan2", "sin", "sqrt", "x", "y", "w", "k", "a", "D", "asin", "phi", "halfPi", "x", "y", "cos", "sin", "C", "E", "acos", "sqrt", "abs", "epsilon", "MapPointLabelPosition", "MapProjectionKind", "LeafletMapRenderer", "LeafletMapPointShape", "layers", "layers", "GraphLayoutType", "GraphLinkStyle", "GraphLinkArrowStyle", "GraphNodeShape", "GraphNodeSelectionHighlightMode", "GraphFitViewAlignment", "ascending_default", "a", "x", "left", "a", "right", "center", "ascending_default", "number_default", "x", "ascending_default", "number_default", "array", "slice", "map", "max", "value", "index", "min", "value", "index", "shuffle", "array", "m", "sum", "value", "index", "left", "node", "right", "center", "min", "x", "a", "find", "id", "node", "nodes", "y0", "y1", "link", "x0", "x1", "sort", "links", "iterations", "sum", "x", "max", "kx", "ky", "min", "c", "y", "w", "value", "dy", "sourceLinks", "targetLinks", "SankeySubLabelPlacement", "SankeyNodeAlign", "left", "right", "center", "SankeyExitTransitionType", "SankeyEnterTransitionType", "VisControlsOrientation", "FreeBrushMode", "XYLabelPositioning", "NestedDonutDirection", "NestedDonutSegmentLabelAlignment", "PlotlineLineStylePresets", "PlotlineLabelPosition", "PlotlineLabelOrientation", "PlotbandLabelPosition", "PlotbandLabelOrientation", "style_exports", "arrow", "globalStyles", "label", "labels", "line", "lines", "root", "root", "globalStyles", "lines", "line", "arrow", "labels", "label", "datum", "size", "lines", "labels", "longestLabel", "label", "rowIcons", "_a", "select_default", "value", "x", "y", "line", "arrows", "arrow", "id", "a", "x1", "y1", "threshold", "points", "selection", "items", "min", "max", "style_exports", "id", "nodes", "links", "node", "link", "i", "_a", "_b", "items", "item", "link2", "style_exports", "background", "hidden", "label", "link", "root", "variables", "root", "variables", "link", "label", "hidden", "background", "linkPath", "x0", "x1", "y0", "y1", "link", "labelGroup", "label", "labelText", "d", "node", "label", "x", "select_default", "datum", "a", "b0", "b1", "hidden", "selection", "transition", "nodeSelection", "Sankey", "background", "nodes", "links", "left", "right", "maxDepth", "top", "bottom", "link", "nodeSelection", "node", "linear", "group", "y", "sankeyHeight", "value", "select_default", "style_exports", "style_exports", "globalStyles", "root", "root", "globalStyles", "s", "x", "y0", "y1", "transition", "select_default", "style_exports", "constant_default", "x", "type", "transform", "k", "x", "y", "point", "identity", "node", "nopropagation", "noevent_default", "defaultFilter", "defaultExtent", "identity", "defaultTouchable", "transform", "extent", "zoom_default", "filter", "selection", "point", "k", "t0", "x", "y", "transition", "w", "a", "clean", "type", "select_default", "noevent_default", "x0", "y0", "nopropagation", "event", "t1", "constant_default", "value", "identity_default", "x", "transform_default", "transform", "identity_default", "x0", "y0", "kx", "ky", "reverse_default", "array", "o", "id", "transform_default", "arc", "points", "a", "k", "reverse_default", "point", "line", "arcs", "polygon", "type", "link", "points", "node", "s", "style_exports", "background", "feature", "link", "links", "point", "root", "variables", "root", "variables", "feature", "background", "point", "links", "link", "path_default", "zoom_default", "background", "links", "a", "feature", "features", "link", "points", "point", "hex", "pad", "identity", "transform", "center", "style_exports", "count", "node", "sum", "children", "each_default", "index", "node", "node", "nodes", "children", "index", "node", "nodes", "children", "index", "index", "node", "value", "node", "sum", "children", "sort_default", "node", "path_default", "start", "nodes", "k", "a", "c", "node", "nodes", "node", "root", "links", "node", "iterator_default", "node", "children", "children", "root", "node", "nodes", "each_default", "sort_default", "path_default", "iterator_default", "constant_default", "x", "a", "c", "s", "array_default", "x", "array", "m", "B", "a", "x1", "y1", "c", "a2", "a3", "b2", "b3", "c2", "c3", "A", "C", "a", "c", "x", "a2", "y", "b2", "node", "Node", "circle", "array_default", "k", "round_default", "node", "x0", "y0", "x1", "y1", "nodes", "node", "k", "round", "root", "round_default", "dy", "node", "x0", "y0", "x1", "y1", "x", "node", "x0", "y0", "x1", "y1", "nodes", "node", "k", "x0", "y0", "x1", "y1", "rows", "nodes", "row", "value", "custom", "x", "tile", "round", "root", "round_default", "node", "x0", "y0", "x1", "y1", "x", "constant_default", "custom", "x0", "y0", "x1", "y1", "rows", "row", "nodes", "m", "value", "x", "map", "left", "right", "m", "k", "s", "range", "x", "y", "axis", "right", "left", "m", "axis", "right", "left", "m", "x", "y", "points", "getX", "getY", "range", "x", "y", "x", "extend", "points", "log", "now", "id", "c", "index", "children", "y", "extent", "top", "bottom", "tile", "reduce", "point", "cluster", "count", "sin", "y2", "select_default", "values", "point", "x", "y", "x", "y", "id", "color", "path", "cluster", "points", "point", "style_exports", "background", "map", "point", "points", "root", "variables", "cssVarDefaults", "root", "variables", "background", "points", "point", "map", "select_default", "layer", "features", "svgOverlay", "selection", "createNodes", "selection", "updateNodes", "group", "select_default", "node", "x", "y", "_a", "c", "hex", "variables", "collideLabels", "group2", "label2", "intersect", "removeNodes", "selection", "x", "y", "node", "selection", "clusterBackground", "node", "x", "y", "path", "select_default", "root", "map", "points", "ResizeObserver", "cluster", "c", "id", "point", "node", "removeNodes", "createNodes", "updateNodes", "collideLabels", "_a", "a", "clusterBackground", "events", "style_exports", "variables", "select_default", "ResizeObserver", "color", "x", "y", "map", "id", "points", "point", "selection", "transition", "datum", "style_exports", "background", "label", "labels", "link", "links", "node", "nodes", "root", "variables", "root", "variables", "background", "nodes", "links", "labels", "node", "label", "link", "c", "getLabelTextAnchor", "x", "y", "selection", "label", "select_default", "labelText", "node", "d", "value", "root", "a", "x0", "x1", "links", "nodes", "type", "maxDepth", "link", "abs", "cos", "sin", "pi", "halfPi", "tau", "epsilon", "pi", "tau", "epsilon", "tauEpsilon", "append", "appendRound", "k", "Path", "x", "y", "x1", "y1", "x0", "y0", "w", "path", "slice", "constant_default", "x", "ribbon", "s", "slice", "halfPi", "path", "epsilon", "abs", "cos", "sin", "constant_default", "points", "link", "linkPath", "area", "path", "selection", "transition", "select_default", "background", "links", "nodes", "labels", "top", "bottom", "right", "left", "label", "x", "y", "root", "size", "link", "_a", "node", "style_exports", "style_exports", "label", "labelBackground", "labelText", "node", "nodeIcon", "nodes", "variables", "nodes", "variables", "node", "nodeIcon", "label", "labelBackground", "labelText", "links", "variables", "link", "variables", "root", "background", "brush", "label", "node", "variables", "label", "background", "labelText", "import_striptags", "striptags", "index", "label", "backgroundRect", "getX", "node", "getY", "hex", "selection", "index", "select_default", "size", "d", "ZoomLevel", "createNodes", "selection", "group", "select_default", "d", "i", "scale", "x", "getX", "y", "getY", "node", "nodeIcon", "label", "labelBackground", "labelText", "updateNodes", "a", "_a", "_b", "removeNodes", "import_to_px", "link", "getY", "getX", "m", "c", "label", "hex", "createLinks", "selection", "link", "group", "select_default", "x1", "getX", "y1", "getY", "updateLinks", "toPx", "d", "i", "elements", "linkLabelGroup", "element", "removeLinks", "index", "panels", "nodes", "node", "panel", "selection", "w", "getX", "getY", "x", "y", "selection", "label", "background", "labelText", "panels", "select_default", "nodes", "y", "x", "value", "children", "merge", "node", "_a", "_b", "label", "nodes", "groups", "name", "group", "node", "link", "a", "_a", "y0", "x0", "k", "x", "y", "links", "Graph", "count", "merge", "background", "brush", "zoom_default", "links", "nodes", "select_default", "id", "link", "createNodes", "updateNodes", "removeNodes", "createLinks", "updateLinks", "removeLinks", "selection", "node", "transform", "left", "top", "right", "bottom", "w", "getX", "getY", "item", "identity", "translateX", "translateY", "x", "y", "panels", "nodeSelection", "d", "_a", "_b", "arrow", "root", "label", "labelText", "style_exports", "root", "variables", "item", "select_default", "root", "merge", "items", "item", "selection", "transition", "datum", "style_exports", "background", "root", "variables", "root", "variables", "background", "translateY", "translateX", "a", "_a", "arc", "background", "style_exports", "s", "style_exports", "brush", "root", "variables", "root", "variables", "brush", "brush", "selection", "s", "range", "style_exports", "selection", "group", "select_default", "rect", "labelText", "hex", "value", "x", "y", "style_exports", "globalStyles", "label", "labelGroup", "root", "globalStyles", "root", "labelGroup", "label", "labelGroup", "label", "labels", "label2", "style_exports", "createArc", "selection", "updateArc", "transition", "datum", "removeArc", "style_exports", "background", "centralLabel", "centralSubLabel", "root", "segment", "segmentExit", "variables", "cssVarDefaults", "root", "variables", "background", "segment", "segmentExit", "centralLabel", "centralSubLabel", "getLabelFillColor", "c", "rgb", "variables", "getLabelTransform", "createLabel", "selection", "updateLabel", "label", "select_default", "removeLabel", "linear", "centralLabel", "centralSubLabel", "layers", "background", "_a", "_b", "segment", "segmentExit", "createArc", "updateArc", "removeArc", "labels", "createLabel", "updateLabel", "removeLabel", "index", "node", "color", "variables", "merge", "style_exports", "style_exports", "root", "variables", "cssVarDefaults", "root", "variables", "annotation", "x", "y", "select_default", "x1", "y1", "style_exports", "variables", "style_exports", "globalStyles", "label", "root", "globalStyles", "root", "label", "label", "x", "y", "y1", "y2", "x1", "x2", "axis", "transform", "style_exports", "HORIZONTAL_X", "VERTICAL_X", "HORIZONTAL_Y", "VERTICAL_Y", "style_exports", "globalStyles", "label", "root", "globalStyles", "root", "label", "label", "x1", "y1", "axis", "map", "VERTICAL_X", "HORIZONTAL_X", "VERTICAL_Y", "HORIZONTAL_Y", "transform", "style_exports", "value", "style_exports", "label", "labelGroup", "root", "variables", "cssVarDefaults", "root", "variables", "label", "labelGroup", "w", "node", "index", "maxDepth", "linear", "_a", "brighter", "tiles", "labelGroup", "label", "select_default", "variables", "style_exports"]
}
